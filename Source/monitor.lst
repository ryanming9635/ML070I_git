C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MONITOR
OBJECT MODULE PLACED IN .\Output\monitor.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE monitor.c LARGE OPTIMIZE(9,SIZE) BROWSE INCDIR(.\Include\) DEBUG OBJECTE
                    -XTEND CODE LISTINCLUDE SYMBOLS PRINT(.\Source\monitor.lst) TABS(2) OBJECT(.\Output\monitor.obj)

line level    source

   1          /* Monitor.c */
   2          
   3          #include "config.h"
   1      =1  /*****************************************************************************/
   2      =1  /*                                                                                              */
   3      =1  /*  TELI ML070I   MCU                                             */
   4      =1  /*                                                                                              */
   5      =1  /*****************************************************************************/
   6      =1  
   7      =1  #ifndef __CONFIG_H__
   8      =1  #define __CONFIG_H__
   9      =1  
  10      =1  //#define INTERNAL_MCU -- defined by Project Compiler session
  11      =1  //#define   HS      
  12      =1  //#define   E_Wintek  
  13      =1  //#define   AWT 
  14      =1  //#define Holtz
  15      =1  
  16      =1  
  17      =1  
  18      =1  //#define QUAD
  19      =1  /*
  20      =1  #ifdef QUAD
  21      =1    #define AWT_ML072Q
  22      =1  #else
  23      =1    #define AWT_ML072S
  24      =1  #endif
  25      =1  */
  26      =1  //#define SUPPORT_SVIDEO                     //andy Awt 20090914
  27      =1  //#define SUPPORT_COMPONENT     // support component analog to decoder//andy Awt 20090914
  28      =1  
  29      =1  //#define SUPPORT_DTV           // support DTV input through component( to ADC ).//andy Awt 20090914
  30      =1  //#define SUPPORT_PC          // support PC function
  31      =1  //#define SUPPORT_DVI       // support DVI input
  32      =1  //#define SUPPORT_SDCARD
  33      =1  
  34      =1  //#define SUPPORT_RS485
  35      =1  //-----------------------------------------------------------------------------
  36      =1  //    Firmware Version
  37      =1  //-----------------------------------------------------------------------------
  38      =1  #define FWVER     0x0001      // Rev 0001
  39      =1  
  40      =1  #define MCU_FW_Major      0x00      
  41      =1  #define MCU_FW_Sub0     0x00      
  42      =1  #define MCU_FW_Sub1     0x01      
  43      =1  //-----------------------------------------------------------------------------
  44      =1  //    Compiler
  45      =1  //-----------------------------------------------------------------------------
  46      =1  #define KEILC           // Keil C 5.0
  47      =1  //-----------------------------------------------------------------------------
  48      =1  //    MPU Clock
  49      =1  //-----------------------------------------------------------------------------
  50      =1  #ifndef INTERNAL_MCU
  51      =1  //#define CLOCK_11M         // 11.0592MHz
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 2   

  52      =1  #define CLOCK_22M         // 22.1184MHz
  53      =1  #else                 // INTERNAL_MCU
           =1 #define CLOCK_27M         // 27MHz
           =1 #define REG_START_ADDRESS 0xc000    // register start 0xc000, for page0, 0xc100-page1 
           =1 #endif
  57      =1  //-----------------------------------------------------------------------------
  58      =1  //    TW88 Version
  59      =1  //-----------------------------------------------------------------------------
  60      =1  #define TW8816
  61      =1  //-----------------------------------------------------------------------------
  62      =1  //    Options for Backlight control
  63      =1  //-----------------------------------------------------------------------------
  64      =1  //#define BACKLIGHT_CCFL
  65      =1  //#define BACKLIGHT_LED
  66      =1  #define BACKLIGHT_PWM
  67      =1  
  68      =1  //-----------------------------------------------------------------------------
  69      =1  //    Panel Resolution
  70      =1  //-----------------------------------------------------------------------------
  71      =1  // ---- Select Default Panel
  72      =1  //
  73      =1  //#define UXGA            // 1600 x 1200
  74      =1  //#define SXGA              // 1280 x 1024
  75      =1  //#define XGA  // 1024 x 768
  76      =1  /*
  77      =1  #ifdef XGA
  78      =1    #define LVDS          
  79      =1    #define PWIDTH  1024
  80      =1    #define PHEIGHT 768
  81      =1  #endif
  82      =1  //#define SVGA            //  800 x 600
  83      =1  #define VGA             //  640 x 480
  84      =1  #ifdef VGA
  85      =1    #define PWIDTH  640
  86      =1    #define PHEIGHT 480
  87      =1    //#define HITACHI_640_B_160   //--> 640 x 160
  88      =1    #define AND_640_480
  89      =1  #endif
  90      =1  //#define WXGA            // 1280 x 768 (15:9) // 1366 x 768 (16:9)
  91      =1  #ifdef WXGA
  92      =1      //#define WX_SHARP_LQ106K1LA
  93      =1    #define PWIDTH  1280
  94      =1    #define PHEIGHT 768
  95      =1  #endif
  96      =1  //#define WSVGA           // 1024 x 600 *** only video mode
  97      =1  #ifdef WSVGA
  98      =1    #define PWIDTH  1024
  99      =1    #define PHEIGHT 600
 100      =1    #define UNIDEN_1024_600
 101      =1  #endif
 102      =1  */
 103      =1  //#define WVGA            //  800 x 480
 104      =1  //#ifdef WVGA
 105      =1    //#define PWIDTH  800
 106      =1    //#define PHEIGHT 480//600
 107      =1    // If WVGA, you have to select panel.
 108      =1    //#define AU_10INCH
 109      =1    //#define WVGA_TPO
 110      =1    //#define SAMSUNG_10INCH
 111      =1    //#define SAMSUNG_TICONLESS_10INCH
 112      =1    //#define SHARP_TICONLESS_7INCH
 113      =1    //#define AU_TICONLESS_7INCH
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 3   

 114      =1    //#define AU_G084SN05V8_8_4INCH 
 115      =1  //  #define HSD070IDW1_7INCH
 116      =1    //#define INNOLUX_AT080TN03
 117      =1    //#define AU_TICONLESS_7INCH_CCFL
 118      =1    //#define CMO     // CHIMEI panel
 119      =1    //#define AU_TICONLESS_10INCH
 120      =1    //#define HITACHI_T01
 121      =1    //#define HITACHI_TX23D12
 122      =1    //#define HITACHI_TX18D24
 123      =1    //#define HITACHI_TX18D16
 124      =1    //#define TMD_LTA070A320F
 125      =1    //#define TMD_LTA080B
 126      =1  //#endif  //WVGA
 127      =1  //#define HVGA            //  480 x 320
 128      =1  //#define QVGA            //  320 x 240 *** only video mode
 129      =1  /*
 130      =1  #ifdef QVGA
 131      =1    #define PWIDTH  320
 132      =1    #define PHEIGHT 240
 133      =1    //#define HITACHI_TX09D73
 134      =1    //#define AU_DELTARGB
 135      =1    //#define SHARP_LQ050Q5DR01
 136      =1    //#define SHARP_LQ035
 137      =1    //#define TMD
 138      =1  #endif
 139      =1  
 140      =1  //#define WQVGA           //  480 x 234 *** only video mode
 141      =1  #ifdef WQVGA
 142      =1    #define PWIDTH  480
 143      =1    #define PHEIGHT 240
 144      =1    // If WQVGA, you have to select panel 
 145      =1      #define ANALOG_7INCH
 146      =1    //#define PWIDTH  400
 147      =1    //#define PHEIGHT 240
 148      =1    //#define SHARP_LQ043T3DX02   //  400 x 237
 149      =1    //#define LG_ANALOG
 150      =1    //#define TMD_ANALOG        //TMD_LTA05B352A
 151      =1    //#define T_51945GD       // Optorex Panel
 152      =1  #endif  // WQVGA
 153      =1  */
 154      =1  //if LVDS pannel disable TICONLESS
 155      =1  
 156      =1  //-----------------------------------------------------------------------------
 157      =1  //---- Add Support One more panel with DIPSW#1
 158      =1  //---- Ex. Add Analog AU 7" Panel with Default Panel for evalution
 159      =1  //#define ADD_ANALOGPANEL   // Added Analog panel(AU7") from default set panel(expect WQVGA) with DIP #1 sw
             -itch.(DIP#1=L:ANALOG, H:DEFAULT)
 160      =1                // It can't support WQVGA and ADD_ANALOGPANEL same time!!
 161      =1    //#define ADD_ANALOG_7INCH
 162      =1    //#define ADD_TMD_LTA05B352A
 163      =1                    
 164      =1  //---- Support Wide panel function
 165      =1  /*
 166      =1  #if (defined WXGA) || (defined WSVGA) || (defined WVGA) || (defined WQVGA)
 167      =1  #define WIDE_SCREEN         // Can support 4 display mode, i.e. Normal, Wide, Full, Zoom
 168      =1  #endif                // Tested panasonic WVGA panel.
 169      =1  */
 170      =1  //-----------------------------------------------------------------------------
 171      =1  //    Panel Vendor Specific
 172      =1  //-----------------------------------------------------------------------------
 173      =1  /*
 174      =1  //-----------------------------------------------------------------------------
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 4   

 175      =1  //    TV Tuner
 176      =1  //-----------------------------------------------------------------------------
 177      =1  #define PHILIPS       0
 178      =1  #define ALPS        1   // ALPS, LG
 179      =1  #define TEMIC       2
 180      =1  #define TVAVA       3
 181      =1  #define LGTUNER       4
 182      =1  #define SAMSUNGMUTITUNER  5
 183      =1  
 184      =1  #define TVTunerDevice   4
 185      =1  //-----------------------------------------------------------------------------
 186      =1  //    IR Remote Controller Type
 187      =1  //-----------------------------------------------------------------------------
 188      =1  //#define REMO_RC5          // RC5 style
 189      =1  #define TECHWELL_REMOCON
 190      =1  //#define REMO_NEC          // NEC style
 191      =1  //#define PHILIPS_REMOCON // New remocon 
 192      =1  */
 193      =1  
 194      =1  //-----------------------------------------------------------------------------
 195      =1  //    I2C Device Access Address Mapping
 196      =1  //-----------------------------------------------------------------------------
 197      =1  #define EEPROMI2CAddress  0xa0  // EEPROM (24C16)
 198      =1  #define TW88I2CAddress    0x8a  // TW880x
 199      =1  
 200      =1  /*
 201      =1  #define MSPI2CAddress   0x80  // MSP
 202      =1  #define ALC106I2CAddress    0x4A  // MSP
 203      =1  */
 204      =1  #define  AD5110I2CAddress    0x5E//0x58
 205      =1  
 206      =1  //-----------------------------------------------------------------------------
 207      =1  //    AD5110 Command Operation Truth table
 208      =1  //-----------------------------------------------------------------------------
 209      =1  
 210      =1  #define AD5110_CMD_No_Operation           0
 211      =1  #define AD5110_CMD_Write_RDAC_To_EEPROM       1
 212      =1  #define AD5110_CMD_Write_Data_To_RDAC       2
 213      =1  #define AD5110_CMD_Shutdown             3
 214      =1  #define AD5110_CMD_Soft_Refresh_RDAC    4
 215      =1  #define AD5110_CMD_Read_RDAC        5
 216      =1  #define AD5110_CMD_Read_EEPROM              6
 217      =1  
 218      =1  
 219      =1  
 220      =1  //-----------------------------------------------------------------------------
 221      =1  //    Options for Possible Inputs
 222      =1  //-----------------------------------------------------------------------------
 223      =1  
 224      =1  
 225      =1  
 226      =1  
 227      =1  
 228      =1  //-----------------------------------------------------------------------------
 229      =1  //    Options for Possible Standards
 230      =1  //    Default:NTSC
 231      =1  //-----------------------------------------------------------------------------
 232      =1  /*
 233      =1  #define SUPPORT_PAL     
 234      =1  #define SUPPORT_SECAM
 235      =1  #define SUPPORT_NTSC4   
 236      =1  #define SUPPORT_PALM  
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 5   

 237      =1  #define SUPPORT_PALN    
 238      =1  #define SUPPORT_PAL60   
 239      =1  */
 240      =1  
 241      =1  //#define ID_CHECK_BY_FW        // in Video mode, check input system ID by firmware
 242      =1  
 243      =1  //-----------------------------------------------------------------------------
 244      =1  //    Options for Debugging/Release
 245      =1  //-----------------------------------------------------------------------------
 246      =1  //#define SUPPORT_PATTERN       // support LCD test pattern
 247      =1  
 248      =1  /*
 249      =1  #ifndef WQVGA
 250      =1    #ifndef QVGA
 251      =1    #define SUPPORT_OSDPOSITIONMOVE
 252      =1    #endif
 253      =1  #endif
 254      =1  */
 255      =1  #define SERIAL              // include serial communication routines
 256      =1  //#define USE_HI3521_UART2
 257      =1  
 258      =1  //#define SUPPORT_DEBUG       // Support to use Read & Write in debug OSD Window by remocon.
 259      =1  
 260      =1  //#define DEBUG           // include debug information
 261      =1  #if 0///def DEBUG
           =1   //#define DEBUG_MAIN
           =1   //#define DEBUG_TIME
           =1   //#define DEBUG_KEYREMO
           =1   //#define DEBUG_TW88
           =1   //#define DEBUG_DECODER
           =1   //#define DEBUG_I2C
           =1   //#define DEBUG_EEP
           =1   //#define DEBUG_OSD
           =1   //#define DEBUG_AUDIO
           =1   //#define DEBUG_SETPANEL
           =1   //#define DEBUG_DTV
           =1   #define DEBUG_PC
           =1   //#define DEBUG_PC_MEAS
           =1   #define DEBUG_PC_COLOR
           =1   //#define DEBUG_COMPONENT
           =1   //#define DEBUG_BANK
           =1   //#define DEBUG_PAUSE
           =1   //#define DEBUG_MCU
           =1 #endif
 281      =1  
 282      =1  //#define AUTOCALC_PC         // in PC mode, Enable Auto Calcuration
 283      =1  //#define SUPPORT_USERCOLORFROMTXT  // Use color setting of text file in Color mode=USER MODE which is as B
             -rightness(Reg10), Contast(Reg11),
 284      =1                    //    Sat_U(Reg13),Sat_V(Reg14),Sharpness(Reg12,Reg78)                  
 285      =1  //#define SUPPORT_GAMMA
 286      =1  
 287      =1  //#define CHIP_MANUAL_TEST      // DIPSW#1
 288      =1  
 289      =1  //#ifndef INTERNAL_MCU
 290      =1  //#define NO_INITIALIZE       // After Power switch turn on with DIP SW4 Enable(Low), or pressed MENU button 
             -for internal MCU
 291      =1                                      //     micom works to access only I2C bus by serial command.
 292      =1  //#endif
 293      =1  
 294      =1  //#define SUPPORT_KRS_OSDDEMO   // For KRS Company Demo 
 295      =1  //#define SUPPORT_LINE_OSDDEMO
 296      =1  
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 6   

 297      =1  //-----------------------------------------------------------------------------
 298      =1  //    Special Features
 299      =1  //-----------------------------------------------------------------------------
 300      =1  
 301      =1  //#ifndef INTERNAL_MCU
 302      =1  //#define SUPPORT_DELTA_RGB
 303      =1  //#endif
 304      =1  //#define SUPPORT_SELECTKEY     // choose the keymap of using select key or left,right key.
 305      =1  //-----------------------------------------------------------------------------
 306      =1  
 307      =1  //#define HS_NEWOSDMENU     //Weylis -@121008 for Hor. Style OSD
 308      =1  //#define HS_NEWOSDMENU_2     //Weylis -@121008 for Hor. Style OSD(2 line)
 309      =1  #endif  //__CONFIG_H__
   4          
   5          #ifdef SERIAL
   6          
   7          #include "typedefs.h"
   1      =1  #ifndef __TYPEDEFS__
   2      =1  #define __TYPEDEFS__
   3      =1  
   4      =1  
   5      =1  #define DATA    data
   6      =1  #define PDATA   pdata
   7      =1  #define IDATA   data
   8      =1  #define CODE    code
   9      =1  #define CODE_P
  10      =1  #define PDATA_P
  11      =1  #define IDATA_P
  12      =1  #define DATA_P
  13      =1  
  14      =1  #define INTERRUPT( num, name ) name() interrupt num
  15      =1  
  16      =1  #define _between(x, a, b) (a<=x && x<=b)
  17      =1  #define _swap(a, b)     { a^=b; b^=a; a^=b; }
  18      =1  
  19      =1  #define SEC(x)                                  (1000 * (x))
  20      =1  
  21      =1  typedef unsigned char Register;
  22      =1  typedef unsigned char BYTE;
  23      =1  typedef unsigned short  WORD;
  24      =1  typedef unsigned long DWORD;
  25      =1  
  26      =1  #define TRUE  1
  27      =1  #define FALSE 0
  28      =1  #define _TRUE 1
  29      =1  #define _FALSE  0
  30      =1  
  31      =1  //VInputStdDetectMode
  32      =1  #define AUTO  0
  33      =1  
  34      =1  //VInputStd
  35      =1  #define NTSC  1     
  36      =1  #define PAL   2
  37      =1  #define SECAM 3
  38      =1  #define NTSC4 4
  39      =1  #define PALM  5
  40      =1  #define PALN  6
  41      =1  #define PAL60 7
  42      =1  
  43      =1  #define MAXINPUTSTD PAL60+1 // 
  44      =1  
  45      =1  #define UNKNOWN 0xfe
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 7   

  46      =1  #define NOINPUT 0 //0xff
  47      =1  
  48      =1  
  49      =1  
  50      =1  
  51      =1  #define NIL     0xff
  52      =1  //****************************************************************************
  53      =1  // DEFINITIONS / MACROS
  54      =1  //****************************************************************************
  55      =1  
  56      =1  #define GET_MODE_STATE()                            (g_stModeInfo.b5ModeState)
  57      =1  #define SET_MODE_STATE(x)                         (g_stModeInfo.b5ModeState = x)
  58      =1  #define GET_MODE_STATE_CHANGE()                 (bit)(g_stModeInfo.b1ModeStateChanged)
  59      =1  #define SET_MODE_STATE_CHANGE()                 (g_stModeInfo.b1ModeStateChanged = _TRUE)
  60      =1  #define CLR_MODE_STATE_CHANGE()                 (g_stModeInfo.b1ModeStateChanged = _FALSE)
  61      =1  #define GET_MODE_RESET_TARGET()                   (g_stModeInfo.b4ModeResetFlag)
  62      =1  #define SET_MODE_RESET_TARGET(x)                (g_stModeInfo.b4ModeResetFlag = x)
  63      =1  #define GET_TARGET_POWER_STATUS()           (g_stPowerInfo.b4PowerAction)
  64      =1  #define SET_TARGET_POWER_STATUS(x)          (g_stPowerInfo.b4PowerAction = x)
  65      =1  
  66      =1  #define GET_BATTERY_STATE()       (g_stBatteryInfo.b5BatteryStatus)
  67      =1  #define SET_BATTERY_STATE(x)        (g_stBatteryInfo.b5BatteryStatus = x)
  68      =1  #define GET_NO_BATTERY()        (bit)(g_stBatteryInfo.b1NoBattery)
  69      =1  #define SET_NO_BATTERY()        (g_stBatteryInfo.b1NoBattery =_TRUE)
  70      =1  #define CLR_NO_BATTERY()        (g_stBatteryInfo.b1NoBattery = _FALSE)
  71      =1  
  72      =1  #define GET_AC_PLUG()       (bit)(g_stBatteryInfo.b1AC_PLUG)
  73      =1  #define SET_AC_PLUG()       (g_stBatteryInfo.b1AC_PLUG =_TRUE)
  74      =1  #define CLR_AC_PLUG()       (g_stBatteryInfo.b1AC_PLUG = _FALSE)
  75      =1        
  76      =1  
  77      =1  #define GET_BTH_STATE()         (g_stBatteryInfo.b3BTHStatus)
  78      =1  #define SET_BTH_STATE(x)          (g_stBatteryInfo.b3BTHStatus = x)
  79      =1  
  80      =1  #define GET_BATTERY_CAPACITY()        (g_stBatteryInfo.BatteryCapacity)
  81      =1  #define SET_BATTERY_CAPACITY(x)     (g_stBatteryInfo.BatteryCapacity = x)
  82      =1  #define GET_BATTERY_CAPACITY_FLAG()       (bit)(g_stBatteryInfo.b1BatteryCapacityLow)
  83      =1  #define SET_BATTERY_CAPACITY_FLAG()       (g_stBatteryInfo.b1BatteryCapacityLow =_TRUE)
  84      =1  #define CLR_BATTERY_CAPACITY_FLAG()     (g_stBatteryInfo.b1BatteryCapacityLow =_FALSE)
  85      =1  
  86      =1  #define GET_BATTERY_ABNORMAL()        (bit)(g_stBatteryInfo.b1BatteryAbnormal)
  87      =1  #define SET_BATTERY_ABNORMAL()        (g_stBatteryInfo.b1BatteryAbnormal=_TRUE)
  88      =1  #define CLR_BATTERY_ABNORMAL()        (g_stBatteryInfo.b1BatteryAbnormal=_FALSE)
  89      =1  
  90      =1  #define GET_BATTERY_CHARGE_STATE()        (g_stBatteryInfo.b2BatteryChargeStatus)
  91      =1  #define SET_BATTERY_CHARGE_STATE(x)     (g_stBatteryInfo.b2BatteryChargeStatus = x)
  92      =1  
  93      =1  //--------------------------------------------------
  94      =1  // Power status
  95      =1  //--------------------------------------------------
  96      =1  #define GET_POWER_STATUS()                 (g_stPowerInfo.b4PowerStatus)
  97      =1  #define SET_POWER_STATUS(x)                (g_stPowerInfo.b4PowerStatus = x)
  98      =1  
  99      =1  //--------------------------------------------------
 100      =1  // Enumerations of Timer Events
 101      =1  //--------------------------------------------------
 102      =1  
 103      =1  typedef struct
 104      =1  {
 105      =1      BYTE b1EventValid : 1;
 106      =1      BYTE b7EventID : 7;
 107      =1      WORD usTime;
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 8   

 108      =1  } StructTimerEventTableType;
 109      =1  
 110      =1  typedef enum
 111      =1  {
 112      =1      _USER_TIMER_EVENT_START,
 113      =1      _USER_TIMER_EVENT_KEY_REPEAT_ENABLE = _USER_TIMER_EVENT_START,   
 114      =1      _USER_TIMER_EVENT_KEY_SCAN_READY,
 115      =1      _USER_TIMER_EVENT_OSD_CAMERA_VOLTAGE_INC,
 116      =1      _USER_TIMER_EVENT_OSD_CAMERA_VOLTAGE_DEC,
 117      =1      _USER_TIMER_EVENT_OSD_GET_MCU_VERSION,
 118      =1      _USER_TIMER_EVENT_OSD_MCU_ENTRY_SLEEP_MODE,
 119      =1      _USER_TIMER_EVENT_OSD_DISTANCE_RESET,
 120      =1      _USER_TIMER_EVENT_OSD_DVR_REBOOT,
 121      =1      _USER_TIMER_EVENT_OSD_DVR_SHUTDOWN,
 122      =1      _USER_TIMER_EVENT_OSD_ENCODER_DEVIATION_SETTING,
 123      =1      //
 124      =1       _USER_TIMER_EVENT_OSD_SHOW_NO_CABLE,
 125      =1      _USER_TIMER_EVENT_OSD_SHOW_NO_SIGNAL,
 126      =1      _USER_TIMER_EVENT_OSD_SHOW_POWER_SAVING,
 127      =1      _USER_TIMER_EVENT_GO_TO_POWER_SAVING,
 128      =1      _USER_TIMER_EVENT_OSD_DISABLE,
 129      =1      _USER_TIMER_EVENT_PANEL_BACKLIGHT_ON,
 130      =1      _USER_TIMER_EVENT_PANEL_POWER_OFF,
 131      =1      _USER_TIMER_EVENT_DO_AUTO_COLOR,
 132      =1      _USER_TIMER_EVENT_PANEL_USED_TIMER,
 133      =1      _USER_TIMER_EVENT_HLWIN_TYPE5_MOVE,    
 134      =1    _USER_TIMER_EVENT_LED_POWER_SAVING,
 135      =1    _USER_TIMER_EVENT_LIGHT_SENSER_ON,
 136      =1    _USER_TIMER_EVENT_SHOW_BURN_IN,//ryan@20151230
 137      =1    _USER_TIMER_EVENT_BURN_IN_ON,//ryan@20151230
 138      =1    _USER_TIMER_EVENT_CHECK,//ryan@20151231
 139      =1    _USER_TIMER_EVENT_DISPLAY_INFO,//ryan@20151231
 140      =1    _USER_TIMER_EVENT_STANDBY_MODE,
 141      =1    _USER_TIMER_EVENT_FACTORY_MODE,//ryan@20160113
 142      =1      _USER_TIMER_EVENT_END,
 143      =1      _USER_TIMER_EVENT_COUNT = _USER_TIMER_EVENT_END,
 144      =1  } EnumUserTimerEventID;
 145      =1  
 146      =1  typedef enum
 147      =1  {
 148      =1      _SYSTEM_TIMER_EVENT_START = _USER_TIMER_EVENT_COUNT,
 149      =1      _SYSTEM_TIMER_EVENT_SOURCE_CLEAR_DETECTING = _SYSTEM_TIMER_EVENT_START,
 150      =1      _SYSTEM_TIMER_EVENT_JUDGE_BATT_STATE,
 151      =1      _SYSTEM_TIMER_EVENT_JUDGE_POWER_STATE,
 152      =1      _SYSTEM_TIMER_EVENT_JUDGE_BTH_STATE,
 153      =1      _SYSTEM_TIMER_EVENT_JUDGE_PSW_STATE,    
 154      =1      _SYSTEM_TIMER_EVENT_JUDGE_AC_MODE,
 155      =1      _SYSTEM_TIMER_EVENT_JUDGE_DVR_COMM,
 156      =1      _SYSTEM_TIMER_EVENT_JUDGE_TW8836_COMM,
 157      =1      _SYSTEM_TIMER_EVENT_JUDGE_WDT_ECHO,
 158      =1       _SYSTEM_TIMER_EVENT_GRN_ON,    
 159      =1      _SYSTEM_TIMER_EVENT_GRN_OFF,    
 160      =1      _SYSTEM_TIMER_EVENT_RED_ON,      
 161      =1      _SYSTEM_TIMER_EVENT_RED_OFF,   
 162      =1      _SYSTEM_TIMER_EVENT_GRN_BLINK,    
 163      =1      _SYSTEM_TIMER_EVENT_RED_BLINK,   
 164      =1      _SYSTEM_TIMER_EVENT_GRN_RED_BLINK,    
 165      =1      _SYSTEM_TIMER_EVENT_GRN_RED_ON,    
 166      =1      _SYSTEM_TIMER_EVENT_GRN_ON_RED_BLINK,    
 167      =1      _SYSTEM_TIMER_EVENT_END,
 168      =1      _SYSTEM_TIMER_EVENT_COUNT,
 169      =1  } EnumSystemTimerEventID;
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 9   

 170      =1  
 171      =1  
 172      =1  typedef enum
 173      =1  {
 174      =1      _SCALER_TIMER_EVENT_START = _SYSTEM_TIMER_EVENT_COUNT,
 175      =1      _SCALER_TIMER_EVENT_TMDS_HDMI_PACKET_DETECT = _SCALER_TIMER_EVENT_START, 
 176      =1      _SCALER_TIMER_EVENT_TMDS_VIDEO_DETECT,  
 177      =1      _SCALER_TIMER_EVENT_AUDIO_LOAD_STABLE_I_CODE,
 178      =1      _SCALER_TIMER_EVENT_DP_HOTPLUG_ASSERTED,
 179      =1      _SCALER_TIMER_EVENT_DP_HDCP_LONG_HOTPLUG_EVENT,
 180      =1      _SCALER_TIMER_EVENT_DP_LINK_STATUS_IRQ,    
 181      =1      _SCALER_TIMER_EVENT_D0_PORT_DIGITAL_SWITCH,
 182      =1      _SCALER_TIMER_EVENT_D1_PORT_DIGITAL_SWITCH,  
 183      =1      _SCALER_TIMER_EVENT_NR_DETECTION_FINISHED,  
 184      =1      _SCALER_TIMER_EVENT_PHASE_CALIBRATION,    
 185      =1      _SCALER_TIMER_EVENT_PHASE_CNT_CHECK,
 186      =1      _SCALER_TIMER_EVENT_MHL_D0_READY_TO_TRANSMIT,
 187      =1      _SCALER_TIMER_EVENT_MHL_D0_READY_TO_RESEND,
 188      =1      _SCALER_TIMER_EVENT_MHL_D0_RECONNECT_1K,
 189      =1      _SCALER_TIMER_EVENT_MHL_D0_ACTIVE_VBUS,
 190      =1      _SCALER_TIMER_EVENT_MHL_D1_READY_TO_TRANSMIT,
 191      =1      _SCALER_TIMER_EVENT_MHL_D1_READY_TO_RESEND,
 192      =1      _SCALER_TIMER_EVENT_MHL_D1_RECONNECT_1K,
 193      =1      _SCALER_TIMER_EVENT_MHL_D1_ACTIVE_VBUS,
 194      =1      _SCALER_TIMER_EVENT_DCC_HISTOGRAM_THD_CHANGE,
 195      =1      _SCALER_TIMER_EVENT_END,
 196      =1      _SCALER_TIMER_EVENT_COUNT = _SCALER_TIMER_EVENT_END,
 197      =1  } EnumMCUTimerEventID;
 198      =1  
 199      =1  #define _SIMULTANEOUS_SCALER_EVENT_COUNT       0//     (5 + (_D0_INPUT_PORT_TYPE == _D0_MHL_PORT) + (_D1_I
             -NPUT_PORT_TYPE == _D1_MHL_PORT))
 200      =1  #define _SIMULTANEOUS_USER_EVENT_COUNT             5
 201      =1  #define _SIMULTANEOUS_SYSTEM_EVENT_COUNT            3
 202      =1  
 203      =1  
 204      =1  #define _TIMER_EVENT_COUNT    (_SIMULTANEOUS_USER_EVENT_COUNT + _SIMULTANEOUS_SYSTEM_EVENT_COUNT + _SIMULT
             -ANEOUS_SCALER_EVENT_COUNT)
 205      =1  
 206      =1  
 207      =1  //--------------------------------------------------
 208      =1  // Power action
 209      =1  //--------------------------------------------------
 210      =1  
 211      =1  typedef enum
 212      =1  {
 213      =1      _POWER_ACTION_OFF_TO_NORMAL = 0x00,          
 214      =1      _POWER_ACTION_AC_ON_TO_NORMAL,         
 215      =1      _POWER_ACTION_AC_ON_TO_OFF,  ////2          
 216      =1      _POWER_ACTION_PS_TO_NORMAL,           
 217      =1      _POWER_ACTION_PS_TO_OFF,              
 218      =1      _POWER_ACTION_NORMAL_TO_PS,   //5        
 219      =1      _POWER_ACTION_NORMAL_TO_OFF,          
 220      =1      _POWER_ACTION_NORMAL_TO_NOSUPPORT_PS, 
 221      =1      _POWER_ACTION_NOSUPPORT_PS_TO_PS,
 222      =1      _POWER_ACTION_NOSUPPORT_PS_TO_OFF, 
 223      =1      _POWER_ACTION_NONE = 0xFF,
 224      =1  } EnumPowerAction;
 225      =1  
 226      =1  typedef enum
 227      =1  {
 228      =1      _MODE_ACTION_NO_RESET_MODE = 0x00,                
 229      =1      _MODE_ACTION_RESET_TO_SEARCH,
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 10  

 230      =1      _MODE_ACTION_RESET_TO_DISPLAY_SETTING, 
 231      =1      _MODE_ACTION_RESET_TO_DISPLAY_SETTING_WITHOUT_FORCETOBG,
 232      =1      _MODE_ACTION_RESET_TO_NOSUPPORT,    
 233      =1      _MODE_ACTION_RESET_TO_NOSIGNAL,
 234      =1      _MODE_ACTION_RESET_TO_POWER_SAVING,    
 235      =1      _MODE_ACTION_RESET_TO_POWER_OFF,           
 236      =1      _MODE_ACTION_RESET_TO_FACTORY_MODE,   
 237      =1      _MODE_ACTION_NONE = 0xFF,
 238      =1  } EnumModeAction;
 239      =1  
 240      =1  
 241      =1  //--------------------------------------------------
 242      =1  // Power status
 243      =1  //--------------------------------------------------
 244      =1  
 245      =1  typedef enum
 246      =1  {
 247      =1      _MODE_STATUS_INITIAL = 0x00,            
 248      =1      _MODE_STATUS_SEARCH,             
 249      =1      _MODE_STATUS_DISPLAY_SETTING,    
 250      =1      _MODE_STATUS_ACTIVE,             
 251      =1      _MODE_STATUS_NOSUPPORT,          
 252      =1      _MODE_STATUS_NOSIGNAL,           
 253      =1      _MODE_STATUS_POWER_SAVING,       
 254      =1      _MODE_STATUS_POWER_OFF,          
 255      =1      _MODE_STATUS_FACTORY,     
 256      =1      _MODE_STATUS_NONE = 0xFF,
 257      =1  } EnumModeStatus;
 258      =1  
 259      =1  typedef enum
 260      =1  {
 261      =1      _POWER_STATUS_AC_ON = 0x00,
 262      =1      _POWER_STATUS_OFF,
 263      =1      _POWER_STATUS_NORMAL,
 264      =1      _POWER_STATUS_NORMAL_BATTERY_MODE,   
 265      =1      _POWER_STATUS_NORMAL_NO_MATTERY_MODE,
 266      =1      _POWER_STATUS_SAVING,
 267      =1      _POWER_STATUS_SAVING_BATTERY_MODE,   
 268      =1      _POWER_STATUS_NOSUPPORT_SAVING,
 269      =1      _POWER_STATUS_NONE = 0xFF,
 270      =1  } EnumPowerStatus;
 271      =1  
 272      =1  
 273      =1  //--------------------------------------------------
 274      =1  // Battery status
 275      =1  //--------------------------------------------------
 276      =1  
 277      =1  typedef enum
 278      =1  {
 279      =1    _BATT_STATUS_CAPACITY_LEVEL4=0x00,
 280      =1    _BATT_STATUS_CAPACITY_LEVEL3,
 281      =1    _BATT_STATUS_CAPACITY_LEVEL2,
 282      =1    _BATT_STATUS_CAPACITY_LEVEL1,
 283      =1    _BATT_STATUS_AC_MODE,
 284      =1    _BATT_STATUS_TEMP_HIGH, 
 285      =1    _BATT_STATUS_TEMP_NORMAL,
 286      =1    _BATT_STATUS_TEMP_LOW, 
 287      =1    _BATT_STATUS_NO_BATT,
 288      =1    _BATT_STATUS_CAPACITY_LOW,
 289      =1    _BATT_STATUS_CAPACITY_HIGH,
 290      =1    _BATT_STATUS_ABNORMAL_MODE,
 291      =1    _BATT_STATUS_FAST_CHARGE,
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 11  

 292      =1    _BATT_STATUS_LOW_CHARGE,
 293      =1    _BATT_STATUS_STOP_CHARGE,
 294      =1    _BATT_STATUS_START_CHARGE,
 295      =1        _BATT_STATUS_NONE = 0xFF,
 296      =1  } EnumBatteryStatus;
 297      =1  
 298      =1  //--------------------------------------------------
 299      =1  // Battery action
 300      =1  //--------------------------------------------------
 301      =1  /*
 302      =1  typedef enum
 303      =1  {
 304      =1      _POWER_ACTION_OFF_TO_NORMAL = 0x00,          
 305      =1      _POWER_ACTION_AC_ON_TO_NORMAL,         
 306      =1      _POWER_ACTION_AC_ON_TO_OFF,  ////2          
 307      =1      _POWER_ACTION_PS_TO_NORMAL,           
 308      =1      _POWER_ACTION_PS_TO_OFF,              
 309      =1      _POWER_ACTION_NORMAL_TO_PS,   //5        
 310      =1      _POWER_ACTION_NORMAL_TO_OFF,          
 311      =1      _POWER_ACTION_NORMAL_TO_NOSUPPORT_PS, 
 312      =1      _POWER_ACTION_NOSUPPORT_PS_TO_PS,
 313      =1      _POWER_ACTION_NOSUPPORT_PS_TO_OFF, 
 314      =1      _POWER_ACTION_NONE = 0xFF,
 315      =1  } EnumPowerAction;
 316      =1  */
 317      =1  /*
 318      =1  typedef enum
 319      =1  {
 320      =1      _MODE_ACTION_NO_RESET_MODE = 0x00,                
 321      =1      _MODE_ACTION_RESET_TO_SEARCH,
 322      =1      _MODE_ACTION_RESET_TO_DISPLAY_SETTING, 
 323      =1      _MODE_ACTION_RESET_TO_DISPLAY_SETTING_WITHOUT_FORCETOBG,
 324      =1      _MODE_ACTION_RESET_TO_NOSUPPORT,    
 325      =1      _MODE_ACTION_RESET_TO_NOSIGNAL,
 326      =1      _MODE_ACTION_RESET_TO_POWER_SAVING,    
 327      =1      _MODE_ACTION_RESET_TO_POWER_OFF,           
 328      =1      _MODE_ACTION_RESET_TO_FACTORY_MODE,   
 329      =1      _MODE_ACTION_NONE = 0xFF,
 330      =1  } EnumModeAction;
 331      =1  */
 332      =1  
 333      =1  typedef struct
 334      =1  {
 335      =1      BYTE b5BatteryStatus:5;
 336      =1      BYTE b1NoBattery:1;
 337      =1      BYTE b1AC_PLUG:1;
 338      =1      BYTE b3BTHStatus:3;
 339      =1      BYTE b1BatteryCapacityLow:1;
 340      =1      BYTE b1BatteryAbnormal:1;
 341      =1      BYTE b2BatteryChargeStatus:2;
 342      =1      WORD BatteryCapacity;
 343      =1  } StructBatteryInfoType;
 344      =1  
 345      =1  
 346      =1  typedef struct
 347      =1  {
 348      =1      BYTE b4PowerAction : 4;
 349      =1      BYTE b4PowerStatus : 4;
 350      =1      BYTE b1GDIIsolationFlag : 1;
 351      =1      BYTE b1TopIsolationFlag : 1;
 352      =1      BYTE b1AnalogIsolationFlag : 1;
 353      =1  } StructPowerInfoType;
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 12  

 354      =1  
 355      =1  
 356      =1  typedef struct
 357      =1  {
 358      =1      BYTE b5ModeState : 5;
 359      =1      BYTE b1DisplaySettingReady : 1;
 360      =1      BYTE b1TimingConfirm : 1;
 361      =1      BYTE b1ModeStateChanged : 1;
 362      =1      BYTE b4ModeResetFlag : 4;    
 363      =1      BYTE b1NoWaitForActive : 1;
 364      =1      BYTE b1ActiveReady : 1;
 365      =1  } StructModeInfoType;
 366      =1  
 367      =1  
 368      =1  
 369      =1  /*
 370      =1  
 371      =1  enum SourceModeTypeEnum
 372      =1  { 
 373      =1    AVMode,      // 0   0X00
 374      =1    //VGAMode,       // 1
 375      =1  #ifdef USE_CAMD 
 376      =1    CAM_D,         // 2
 377      =1  #endif
 378      =1    CAM_A,         // 3     0x01
 379      =1    CAM_B,         // 4     0x02
 380      =1    CAM_C,         // 5     0x03
 381      =1    CAM_R,         // 6     0x04
 382      =1    CAM_AB,        // 7     0x05
 383      =1    CAM_CR,        // 8     0x06
 384      =1    CAM_AR,        // 9     0x07
 385      =1    CAM_RB,        // 10    0x08
 386      =1    CAM_AC,        // 11    0x09
 387      =1    CAM_CB,        // 12    0x0a
 388      =1    CAM_RAB_T,     // 13    0x0b
 389      =1    CAM_RAB_H,     // 14    0x0c
 390      =1  
 391      =1    CAM_QUAD,      // 15    0x0d
 392      =1    CAM_ABR_T3,    // 16    0x0e
 393      =1    CAM_ABR_T4,    // 17    0x0f
 394      =1    CAM_RAC_T,      //0x10  
 395      =1    CAM_RBC_T,      //0x11
 396      =1    CAM_RAC_T2,     //0x12  
 397      =1    CAM_RBC_T2,     //0x13  
 398      =1    CAM_BA,       //0x14
 399      =1    CAM_BC,
 400      =1    CAM_BR,
 401      =1    CAM_CA,
 402      =1    CAM_ABC,
 403      =1    CAM_ABR,
 404      =1    CAM_ACR,
 405      =1    CAM_BAC,
 406      =1    CAM_BAR,
 407      =1    CAM_BCR,
 408      =1    CAM_CAB,
 409      =1    CAM_CAR,
 410      =1    CAM_CBR,  
 411      =1    SEQ,           // 18      0x10
 412      =1    CAM_NUM
 413      =1  };
 414      =1  */
 415      =1  //#define _TIMER_EVENT_COUNT      _SYSTEM_TIMER_EVENT_END////                    (_SIMULTANEOUS_USER_EVENT
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 13  

             -_COUNT + _SIMULTANEOUS_SYSTEM_EVENT_COUNT + _SIMULTANEOUS_SCALER_EVENT_COUNT)
 416      =1  
 417      =1  //typedef unsigned char SourceModeType;
 418      =1  
 419      =1  #endif  /* __TYPEDEFS__ */
   8          #include "main.h"
   1      =1  #ifndef __MAIN__
   2      =1  #define __MAIN__
   3      =1  
   4      =1  #define ON          1
   5      =1  #define OFF         0
   6      =1  #define Hs_debug
   7      =1  //#define DVR
   8      =1  #define Format_SDCard
   9      =1  #define BJTSwitch
  10      =1  
  11      =1  
  12      =1  
  13      =1  #define Panel_Enable()          P4=P4|0x08 //andy 980908
  14      =1  #define Panel_Disable()     P4=P4&0xf7
  15      =1  
  16      =1  #if 0
           =1 #define SetBacklight()      P4=P4|0x04
           =1 #define clrBacklight()      P4=P4&0xfb
           =1 #else
  20      =1  #define SetBacklight()      P4=P4&0xfb
  21      =1  #define clrBacklight()       P4=P4|0x04
  22      =1  #endif
  23      =1  /*
  24      =1  #define COLUMN1_PIN   P2_3
  25      =1  #define COLUMN2_PIN   P2_4
  26      =1  #define COLUMN3_PIN   P2_5
  27      =1  */
  28      =1  
  29      =1  //InputSelection
  30      =1  /*
  31      =1  struct struct_IdName {
  32      =1    BYTE  Id;
  33      =1    BYTE  Name[16];
  34      =1  };
  35      =1  /*
  36      =1  
  37      =1  #define CH_TW2835              1
  38      =1  #define CH_CAMD                2
  39      =1  #define CH_AV                  3
  40      =1  #define PC             7
  41      =1  #define ChineseDefaultMenu   8
  42      =1  
  43      =1  #define SVIDEO        2
  44      =1  #define COMPONENT     3
  45      =1  //#define ANALOGDTV     4
  46      =1  #define DTV         4
  47      =1  #define TV          5
  48      =1  #define SCART       6
  49      =1  
  50      =1  #define DIGITALVGA      8
  51      =1  
  52      =1  #define AIRTV       0 //9
  53      =1  #define CABLETV       1 //0xa
  54      =1  
  55      =1  
  56      =1  #define TVTUNER       0xd   //10
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 14  

  57      =1  #define MUTE        1 
  58      =1  #define MENU        2 
  59      =1  #define TVVOL       4 
  60      =1  #define CC          8 
  61      =1  #define INPUTINFO     0x10
  62      =1  #define PCINFO        0x20
  63      =1  #define GAUGEINFO           0x40
  64      =1  //#define RATINGINFO      0x40
  65      =1  #define TVCHN       0x80
  66      =1  //#define MUTE        0x40
  67      =1  
  68      =1  #define YPBPR_480i      0
  69      =1  #define YPBPR_576i      1
  70      =1  #define YPBPR_480p      2
  71      =1  #define YPBPR_576p      3
  72      =1  #define YPBPR_1080i     4
  73      =1  #define YPBPR_720p      5
  74      =1  #define YPBPR_720p50    6
  75      =1  */
  76      =1  
  77      =1  #define _STOP_PWM     0x00
  78      =1  #define _RUN_PWM    0xFF
  79      =1  #define _BL_PWM     0x14
  80      =1  #define _CHG_CURR   0x15
  81      =1  
  82      =1  //ADC
  83      =1  #define P16_BTH   6  //P1.6
  84      =1  #define P17_BAT   7  //P1.7
  85      =1  
  86      =1  
  87      =1  
  88      =1  //--------------------------- P0 Define -----------------------------
  89      =1  //#define SEL_MIX     P0_6  // 
  90      =1  //--------------------------- P1 Define -----------------------------
  91      =1  //#define SEL_DVI     P3_5  //LJY062001   
  92      =1  
  93      =1  #define TW88HWReset     P3_4  //LJY001010 //LJY000721
  94      =1  #define PowerUp             P3_7
  95      =1  #define LBEN P1_6
  96      =1  //======================= CDS Control ================================= 
  97      =1  //#define CDS_CTRL           P1_5
  98      =1  /*
  99      =1  extern BYTE SelectModeType;
 100      =1  extern BYTE InputSelection;
 101      =1  extern BYTE SEQTime;
 102      =1  extern BYTE Priority;
 103      =1  extern BYTE PowerFlag;
 104      =1  //extern bit AutoDayNight;
 105      =1  extern bit SDCardCoverDetect;
 106      =1  */
 107      =1  BYTE keyIn(void);
 108      =1  void TimerForRemocon(void);
 109      =1  void TimerForTick(void);
 110      =1  void DisableRemoconInt(void);
 111      =1  BYTE SetSupport_remocon(BYTE newd);
 112      =1  
 113      =1  void delay(BYTE cnt);
 114      =1  
 115      =1  BYTE RS_ready(void);
 116      =1  #ifdef Hs_debug
 117      =1  BYTE RS_rx(void);
 118      =1  #endif
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 15  

 119      =1  void RS_tx(BYTE tx_buf);
 120      =1  
 121      =1  BYTE RS2_rx(void);
 122      =1  void RS2_tx(BYTE tx_buf);
 123      =1  
 124      =1  //void NewLine(void);
 125      =1  //void PutsP(PDATA_P BYTE *ptr);
 126      =1  #ifdef Hs_debug
 127      =1  //void MonWriteI2C(BYTE addr, BYTE index, BYTE val);
 128      =1  //BYTE MonReadI2C(BYTE addr, BYTE index);
 129      =1  #endif
 130      =1  BYTE Asc1Bin(BYTE asc);
 131      =1  BYTE Asc2Bin(PDATA_P BYTE *s);
 132      =1  
 133      =1  //void I2CDeviceInitialize( CODE_P BYTE *RegSet);
 134      =1  
 135      =1  //void RestartSystemClock(WORD clock_hm);
 136      =1  //WORD GetTime_ms(void);
 137      =1  #if 0
           =1 BYTE GetTime_H(void);
           =1 BYTE GetTime_M(void);
           =1 #endif
 141      =1  //void ChangeTime_H( char add );
 142      =1  //void ChangeTime_M( char add );
 143      =1  //WORD GetWakeupTime(void);
 144      =1  //void SetWakeupTime(WORD wtime);
 145      =1  
 146      =1  
 147      =1  //WORD GetOffTime(void);
 148      =1  //void SetOffTime(WORD wtime);
 149      =1  //BYTE GetSleepTimer(void);
 150      =1  //void SetSleepTimer(BYTE stime);
 151      =1  /*
 152      =1  WORD DiffTime_ms( WORD stime, WORD etime );
 153      =1  //void SetLastBlockedTime(void);
 154      =1  void SetLastCCTime(void);       //ljy010904...CC_FIX_CLEAR_ON_TIME
 155      =1  
 156      =1  void SetOSDLastKeyInTime(void);
 157      =1  WORD GetOSDLastKeyInTime(void);
 158      =1  WORD GetIVF(void);
 159      =1  DWORD GetIHF(void);
 160      =1  BYTE ReadVInputSTD(void);
 161      =1  void SetVInputStd(BYTE newd);
 162      =1  BYTE GetVInputStd(void);
 163      =1  BYTE GetInputSelection(void);
 164      =1  #ifdef ADD_ANALOGPANEL
 165      =1  BYTE IsAnalogOn(void);
 166      =1  #endif
 167      =1  void InitVideoData(BYTE src);
 168      =1  void ChangeVInputStdDetectMode(BYTE val);
 169      =1  BYTE GetVInputStdInx(void);
 170      =1  
 171      =1  void MonWriteI2Cn_(BYTE addr, BYTE *val, BYTE cnt) ;
 172      =1  */
 173      =1  ///void Usage(void);
 174      =1  #ifdef Hs_debug
 175      =1    void Prompt(void);
 176      =1  #endif
 177      =1  /*
 178      =1  void DebugKeyIn(BYTE ikey);
 179      =1  void DVIPowerDown(bit flag);
 180      =1  void PowerDown_XTAL(bit flag);
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 16  

 181      =1  */
 182      =1  //void ChangeInput(BYTE newsel);
 183      =1  
 184      =1  
 185      =1  void WaitPowerOn(void);
 186      =1  //void PowerOff(void);
 187      =1  //BYTE GetNextInputSelection(void);
 188      =1  
 189      =1  //BYTE WantToStopTVScan(void);
 190      =1  
 191      =1  //BYTE IsTW8801(void);
 192      =1  //BYTE IsTW8803(void);
 193      =1  //BYTE ConvertVideoVSAT(BYTE reg);
 194      =1  
 195      =1  //BYTE IsNoInput(void);
 196      =1  void LoadEEPROM (void);
 197      =1  void Hs_InitVars(void);
 198      =1  /*
 199      =1  void AdjustAutoDayNight(BYTE val);
 200      =1  void ACCPowerControl(void);
 201      =1  void AdjustBacklight(BYTE val);//val=0~110
 202      =1  */
 203      =1  BYTE mcuLib_ProtocolAppend(BYTE *pucBuf, BYTE* piLen, BYTE ucByte);
 204      =1  BYTE mcuLib_ProtocolSendCmdWithParamNum(BYTE ucType, BYTE* pucParam, BYTE ucSize);
 205      =1  void MCU_SendCmdToDVR(BYTE ucType);
 206      =1  void SetAD5110Step(BYTE newv) ;
 207      =1  
 208      =1  
 209      =1  
 210      =1  extern BYTE ScanPowerkey(void);
 211      =1  extern void MCUTimerInitialTimerEvent(void);
 212      =1  extern void MCUTimerActiveTimerEvent(WORD usTime, BYTE ucEventID);
 213      =1  extern void SysTimerHandler(void);
 214      =1  extern void SysJudgeHandler(void);
 215      =1  extern void SysModeHandler(void);
 216      =1  extern void SysPowerHandler(void);
 217      =1  
 218      =1  extern void MCUTimerDelayXms(WORD usNum);
 219      =1  
 220      =1  
 221      =1  struct RegisterInfo
 222      =1  {
 223      =1     int  Min;
 224      =1     int  Max;
 225      =1     int  Default;
 226      =1  };
 227      =1  struct LongRegisterInfo
 228      =1  {
 229      =1     WORD Min;
 230      =1     WORD Max;
 231      =1     WORD Default;
 232      =1  };
 233      =1  
 234      =1  
 235      =1  
 236      =1  
 237      =1  #endif  // __MAIN__
   9          #include "i2c.h"
   1      =1  #ifndef __I2C_H__
   2      =1  #define __I2C_H__
   3      =1  //AD5110 table
   4      =1  /*   
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 17  

   5      =1  "RA=100K+5.1K, RB=10K+10K  "        //  
   6      =1  ¶¥¼Æ  D7D6D5D4D3D2D1D0  Vout        //
   7      =1  0 0 4.90                            //
   8      =1  1 1 4.92      
   9      =1  2 10  4.93      
  10      =1  3 11  4.95      
  11      =1  4 100 4.97      
  12      =1  5 101 4.99      
  13      =1  6 110 5.00      
  14      =1  7 111 5.02      
  15      =1  8 1000  5.03      
  16      =1  9 1001  5.05      
  17      =1  10  1010  5.07      
  18      =1  11  1011  5.09      
  19      =1  12  1100  5.11      
  20      =1  13  1101  5.12      
  21      =1  14  1110  5.14      
  22      =1  15  1111  5.16      
  23      =1  16  10000 5.18      
  24      =1  17  10001 5.20      
  25      =1  18  10010 5.21      
  26      =1  19  10011 5.23      
  27      =1  20  10100 5.25      
  28      =1  21  10101 5.27      
  29      =1  22  10110 5.29      
  30      =1  23  10111 5.31      
  31      =1  24  11000 5.33      
  32      =1  25  11001 5.35      
  33      =1  26  11010 5.37      
  34      =1  27  11011 5.39      
  35      =1  28  11100 5.41      
  36      =1  29  11101 5.43      
  37      =1  30  11110 5.45      
  38      =1  31  11111 5.47      
  39      =1  32  100000  5.48      
  40      =1  33  100001  5.51      
  41      =1  34  100010  5.54      
  42      =1  35  100011  5.56      
  43      =1  36  100100  5.58      
  44      =1  37  100101  5.60      
  45      =1  38  100110  5.63      
  46      =1  39  100111  5.65      
  47      =1  40  101000  5.67      
  48      =1  41  101001  5.69      
  49      =1  42  101010  5.72      
  50      =1  43  101011  5.74      
  51      =1  44  101100  5.76      
  52      =1  45  101101  5.78      
  53      =1  46  101110  5.81      
  54      =1  47  101111  5.84      
  55      =1  48  110000  5.86      
  56      =1  49  110001  5.88      
  57      =1  50  110010  5.91      
  58      =1  51  110011  5.93      
  59      =1  52  110100  5.96      
  60      =1  53  110101  5.98      
  61      =1  54  110110  6.01      
  62      =1  55  110111  6.04      
  63      =1  56  111000  6.06      
  64      =1  57  111001  6.09      
  65      =1  58  111010  6.11      
  66      =1  59  111011  6.15      
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 18  

  67      =1  60  111100  6.17      
  68      =1  61  111101  6.20      
  69      =1  62  111110  6.23      
  70      =1  63  111111  6.26      
  71      =1  64  1000000 6.28      
  72      =1  65  1000001 6.32      
  73      =1  66  1000010 6.35      
  74      =1  67  1000011 6.37      
  75      =1  68  1000100 6.40      
  76      =1  69  1000101 6.44      
  77      =1  70  1000110 6.47      
  78      =1  71  1000111 6.50      
  79      =1  72  1001000 6.53      
  80      =1  73  1001001 6.56      
  81      =1  74  1001010 6.59      
  82      =1  75  1001011 6.62      
  83      =1  76  1001100 6.66      
  84      =1  77  1001101 6.69      
  85      =1  78  1001110 6.72      
  86      =1  79  1001111 6.76      
  87      =1  80  1010000 6.79      
  88      =1  81  1010001 6.83      
  89      =1  82  1010010 6.86      
  90      =1  83  1010011 6.90      
  91      =1  84  1010100 6.93      
  92      =1  85  1010101 6.97      
  93      =1  86  1010110 7.01      
  94      =1  87  1010111 7.04      
  95      =1  88  1011000 7.08      
  96      =1  89  1011001 7.12      
  97      =1  90  1011010 7.16      
  98      =1  91  1011011 7.20      
  99      =1  92  1011100 7.24      
 100      =1  93  1011101 7.28      
 101      =1  94  1011110 7.32      
 102      =1  95  1011111 7.36      
 103      =1  96  1100000 7.40      
 104      =1  97  1100001 7.44      
 105      =1  98  1100010 7.48      
 106      =1  99  1100011 7.53      
 107      =1  100 1100100 7.57      
 108      =1  101 1100101 7.61      
 109      =1  102 1100110 7.66      
 110      =1  103 1100111 7.71      
 111      =1  104 1101000 7.75      
 112      =1  105 1101001 7.80      
 113      =1  106 1101010 7.84      
 114      =1  107 1101011 7.89      
 115      =1  108 1101100 7.94      
 116      =1  109 1101101 7.99      
 117      =1  110 1101110 8.04      
 118      =1  111 1101111 8.09      
 119      =1  112 1110000 8.14      
 120      =1  113 1110001 8.19      
 121      =1  114 1110010 8.25      
 122      =1  115 1110011 8.30      
 123      =1  116 1110100 8.35      
 124      =1  117 1110101 8.41      
 125      =1  118 1110110 8.47      
 126      =1  119 1110111 8.52      
 127      =1  120 1111000 8.58      
 128      =1  121 1111001 8.64      
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 19  

 129      =1  122 1111010 8.70      
 130      =1  123 1111011 8.76      
 131      =1  124 1111100 8.82      
 132      =1  125 1111101 8.88      
 133      =1  126 1111110 8.95      
 134      =1  127 1111111 9.01      
 135      =1  */
 136      =1  void I2CReadByte3(BYTE *);
 137      =1  void I2CRead8Byte(BYTE *);
 138      =1  #if 0
           =1 void I2CReadByteMSP(BYTE addr, BYTE index, BYTE *pd, BYTE cnt);
           =1 #endif
 141      =1  BYTE I2CWriteByte2(BYTE);
 142      =1  BYTE I2CWriteByte3(BYTE*);
 143      =1  BYTE I2CWrite8Byte(BYTE *);
 144      =1  
 145      =1  void I2CStart(void);
 146      =1  void I2CWriteData(BYTE value);
 147      =1  BYTE I2CReadData(void);
 148      =1  #if 0
           =1 BYTE I2CReadDataWithACK(void);
           =1 #endif
 151      =1  void I2CStop(void);
 152      =1  void I2Cdelay(void);
 153      =1  
 154      =1  
 155      =1  
 156      =1  #define WriteTW88(a,b)    WriteI2C(TW88I2CAddress, a, b)
 157      =1  #define ReadTW88(a)     ReadI2C(TW88I2CAddress, a)
 158      =1  /*
 159      =1  
 160      =1  
 161      =1  BYTE WriteTW88_Wait (BYTE, BYTE);
 162      =1  void WriteADC   (BYTE, BYTE);
 163      =1  BYTE ReadADC    (BYTE);
 164      =1  //BYTE ReadADC_TW88(BYTE index);
 165      =1  void WriteADC_TW88(BYTE index, BYTE dat);
 166      =1  */
 167      =1  void WriteEEP   (WORD, BYTE);
 168      =1  BYTE ReadEEP    (WORD);
 169      =1  //WORD ReadALC106(WORD index);
 170      =1  //void WriteALC106(WORD index, WORD  dat);
 171      =1  
 172      =1  WORD ReadI2CWORD(BYTE addr, BYTE index);
 173      =1  BYTE ReadI2C    (BYTE addr, BYTE index);
 174      =1  void WriteI2C   (BYTE addr, BYTE index, BYTE val);
 175      =1  
 176      =1  void WriteI2Cn_(BYTE addr, BYTE *val, BYTE cnt);
 177      =1  void WriteI2Cn (BYTE addr, BYTE index, BYTE *val, BYTE cnt);
 178      =1  void WriteI2CnD(BYTE addr, BYTE index, BYTE val, BYTE cnt);
 179      =1  
 180      =1  void ReadI2Cmn(BYTE addr, BYTE wcnt, BYTE rcnt, BYTE *rwdata);
 181      =1  void WriteAD5110(WORD index, WORD  dat);
 182      =1  WORD ReadAD5110(WORD index);
 183      =1  
 184      =1  
 185      =1  #define   WriteADC(a,b) WriteADC_TW88(a,b)
 186      =1  #define   ReadADC(a)    ReadADC_TW88(a)
 187      =1  
 188      =1  #endif  /* __I2C_H__ */
  10          //#include "dispinfo.h"
  11          #include "reg.h"
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 20  

   1      =1  //
   2      =1  //Registers.h : Register declaration
   3      =1  //
   4      =1  
   5      =1  #ifndef __REGISTERS__
   6      =1  #define __REGISTERS__
   7      =1  
   8      =1  #ifdef INTERNAL_MCU
           =1 /*  BYTE Registers  */
           =1 sfr P0    = 0x80;
           =1 sfr P1    = 0x90;
           =1 sfr P2    = 0xA0;
           =1 sfr P3    = 0xB0;
           =1 sfr PSW   = 0xD0;
           =1 sfr ACC   = 0xE0;
           =1 sfr B     = 0xF0;
           =1 sfr SP    = 0x81;
           =1 sfr DPL   = 0x82;
           =1 sfr DPH   = 0x83;
           =1 sfr PCON  = 0x87;
           =1 sfr TCON  = 0x88;
           =1 sfr TMOD  = 0x89;
           =1 sfr TL0   = 0x8A;
           =1 sfr TL1   = 0x8B;
           =1 sfr TH0   = 0x8C;
           =1 sfr TH1   = 0x8D;
           =1 sfr IE    = 0xA8;
           =1 sfr IP    = 0xB8;
           =1 sfr SCON  = 0x98;
           =1 sfr SBUF  = 0x99;
           =1 
           =1 //sfr P4    = 0xd8;
           =1 
           =1 /*  8052 Extensions  */
           =1 sfr EXIF  = 0x91;   // external interrupt 2,3,4,5 flags should be cleared by software
           =1 sfr T2CON = 0xC8;
           =1 sfr RCAP2L = 0xCA;
           =1 sfr RCAP2H = 0xCB;
           =1 sfr TL2   = 0xCC;
           =1 sfr TH2   = 0xCD;
           =1 sfr EICON = 0xD8;
           =1 sfr EIE   = 0xE8;
           =1 sfr EIP   = 0xF8;
           =1 
           =1 /*  TW88 Core Extension */
           =1 sfr BANKREG   = 0x9A;
           =1 sfr SPICONTROL  = 0x9B;
           =1 sfr T0HIGH    = 0x9C;
           =1 sfr T0LOW     = 0x9D;
           =1 sfr T1HIGH    = 0x9E;
           =1 sfr T1LOW     = 0x9F;
           =1 sfr T2HIGH    = 0x93;
           =1 sfr T2LOW     = 0x94;
           =1 
           =1 /*  BIT Registers  */
           =1 /*  PSW  */
           =1 sbit CY    = 0xD7;
           =1 sbit AC    = 0xD6;
           =1 sbit F0    = 0xD5;
           =1 sbit RS1   = 0xD4;
           =1 sbit RS0   = 0xD3;
           =1 sbit OV    = 0xD2;
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 21  

           =1 sbit P     = 0xD0;
           =1 
           =1 /*  TCON  */
           =1 sbit TF1   = 0x8F;
           =1 sbit TR1   = 0x8E;
           =1 sbit TF0   = 0x8D;
           =1 sbit TR0   = 0x8C;
           =1 sbit IE1   = 0x8B;
           =1 sbit IT1   = 0x8A;
           =1 sbit IE0   = 0x89;
           =1 sbit IT0   = 0x88;
           =1 
           =1 /*  IE  */
           =1 sbit EA    = 0xAF;
           =1 sbit ES    = 0xAC;
           =1 sbit ET1   = 0xAB;
           =1 sbit EX1   = 0xAA;
           =1 sbit ET0   = 0xA9;
           =1 sbit EX0   = 0xA8;
           =1 
           =1 /*  EIE  */
           =1 sbit EWDI  = 0xEC;    // Watch dog timer interrupt enable
           =1 sbit EX5   = 0xEB;    // external interrupt 5 enable
           =1 sbit EX4   = 0xEA;    // external interrupt 4 enable
           =1 sbit EX3   = 0xE9;    // external interrupt 3 enable
           =1 sbit EX2   = 0xE8;    // external interrupt 2 enable
           =1 
           =1 /*  IP  */
           =1 sbit PS    = 0xBC;
           =1 sbit PT1   = 0xBB;
           =1 sbit PX1   = 0xBA;
           =1 sbit PT0   = 0xB9;
           =1 sbit PX0   = 0xB8;
           =1 
           =1 /*  EIP  */
           =1 sbit PWDI  = 0xFC;    // Watch dog timer interrupt priority
           =1 sbit PX5   = 0xFB;    // external interrupt5 priority
           =1 sbit PX4   = 0xFA;    // external interrupt4 priority
           =1 sbit PX3   = 0xF9;    // external interrupt3 priority
           =1 sbit PX2   = 0xF8;    // external interrupt2 priority
           =1 
           =1 /*  P3  */
           =1 sbit RD    = 0xB7;
           =1 sbit WR    = 0xB6;
           =1 sbit T1    = 0xB5;
           =1 sbit T0    = 0xB4;
           =1 sbit INT1  = 0xB3;
           =1 sbit INT0  = 0xB2;
           =1 sbit TXD   = 0xB1;
           =1 sbit RXD   = 0xB0;
           =1 
           =1 /*  SCON  */
           =1 sbit SM0   = 0x9F;
           =1 sbit SM1   = 0x9E;
           =1 sbit SM2   = 0x9D;
           =1 sbit REN   = 0x9C;
           =1 sbit TB8   = 0x9B;
           =1 sbit RB8   = 0x9A;
           =1 sbit TI    = 0x99;
           =1 sbit RI    = 0x98;
           =1 
           =1 /*  8052 Extensions  */
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 22  

           =1 /*  IE  */
           =1 sbit ET2   = 0xAD;
           =1 
           =1 /*  IP  */
           =1 sbit PT2   = 0xBD;
           =1 
           =1 /*  P1  */
           =1 sbit T2EX  = 0x91;
           =1 sbit T2    = 0x90;
           =1              
           =1 /*  T2CON  */
           =1 sbit TF2   = 0xCF;
           =1 sbit EXF2  = 0xCE;
           =1 sbit RCLK  = 0xCD;
           =1 sbit TCLK  = 0xCC;
           =1 sbit EXEN2 = 0xCB;
           =1 sbit TR2   = 0xCA;
           =1 sbit C_T2  = 0xC9;
           =1 sbit CP_RL2= 0xC8;
           =1 
           =1 sfr CHPENR = 0xF6;
           =1 sfr CHPCON = 0xBF;
           =1 sfr SFRAL  = 0xC4;
           =1 sfr SFRAH  = 0xC5;
           =1 sfr SFRFD  = 0xC6;
           =1 sfr SFRCN  = 0xC7;
           =1 
           =1 sbit P0_0  = 0x80;
           =1 sbit P0_1  = 0x81;
           =1 sbit P0_2  = 0x82;
           =1 sbit P0_3  = 0x83;
           =1 sbit P0_4  = 0x84;
           =1 sbit P0_5  = 0x85;
           =1 sbit P0_6  = 0x86;
           =1 sbit P0_7  = 0x87;
           =1 
           =1 sbit P1_0  = 0x90;
           =1 sbit P1_1  = 0x91;
           =1 sbit P1_2  = 0x92;
           =1 sbit P1_3  = 0x93;
           =1 sbit P1_4  = 0x94;
           =1 sbit P1_5  = 0x95;
           =1 sbit P1_6  = 0x96;
           =1 sbit P1_7  = 0x97;
           =1 
           =1 sbit P2_0  = 0xa0;
           =1 sbit P2_1  = 0xa1;
           =1 sbit P2_2  = 0xa2;
           =1 sbit P2_3  = 0xa3;
           =1 sbit P2_4  = 0xa4;
           =1 sbit P2_5  = 0xa5;
           =1 sbit P2_6  = 0xa6;
           =1 sbit P2_7  = 0xa7;
           =1 
           =1 sbit P3_0  = 0xb0;
           =1 sbit P3_1  = 0xb1;
           =1 sbit P3_2  = 0xb2;
           =1 sbit P3_3  = 0xb3;
           =1 sbit P3_4  = 0xb4;
           =1 sbit P3_5  = 0xb5;
           =1 sbit P3_6  = 0xb6;
           =1 sbit P3_7  = 0xb7;
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 23  

           =1 
           =1 #else // external MCU=WINBOND
 189      =1  /*  BYTE Registers  */
 190      =1  sfr P0    = 0x80;
 191      =1  sfr P1    = 0x90;
 192      =1  sfr P2    = 0xA0;
 193      =1  sfr P3    = 0xB0;
 194      =1  sfr PSW   = 0xD0;
 195      =1  sfr ACC   = 0xE0;
 196      =1  sfr B     = 0xF0;
 197      =1  sfr SP    = 0x81;
 198      =1  sfr DPL   = 0x82;
 199      =1  sfr DPH   = 0x83;
 200      =1  sfr PCON  = 0x87;
 201      =1  sfr TCON  = 0x88;
 202      =1  sfr TMOD  = 0x89;
 203      =1  sfr TL0   = 0x8A;
 204      =1  sfr TL1   = 0x8B;
 205      =1  sfr TH0   = 0x8C;
 206      =1  sfr TH1   = 0x8D;
 207      =1  sfr CKCON = 0x8E;   //clock control register, default =0x01
 208      =1  sfr IE    = 0xA8;
 209      =1  sfr IP    = 0xB8;
 210      =1  sfr SCON  = 0x98;
 211      =1  sfr SBUF  = 0x99;
 212      =1  sfr P4 = 0xE8; //Megawin Ryan@970716
 213      =1  //sfr P4    = 0xa5;      //SST MCU
 214      =1  //sfr P4    = 0xd8;   //winbond<960820>
 215      =1  
 216      =1  
 217      =1  /*  8052 Extensions  */
 218      =1  sfr ADCTL = 0xC5;   //william-20111017
 219      =1  sfr ADCV = 0xC6;    //william-20111017
 220      =1  sfr ADCVL = 0xE8;   //william-20111017
 221      =1  sfr T2CON = 0xC8;
 222      =1  sfr RCAP2L = 0xCA;
 223      =1  sfr RCAP2H = 0xCB;
 224      =1  sfr TL2   = 0xCC;
 225      =1  sfr TH2   = 0xCD;
 226      =1  
 227      =1  // for UART2
 228      =1  sfr S2CON  = 0xAA;
 229      =1  sfr S2BRT  = 0xBA;
 230      =1  sfr S2BUF  = 0x9A;
 231      =1  sfr AUXR2  = 0xA6;
 232      =1  sfr AUXIE  = 0xAD;
 233      =1  
 234      =1  
 235      =1  sfr P1M0  = 0x91;
 236      =1  sfr P1M1  = 0x92;
 237      =1  sfr P0M0  = 0x93;
 238      =1  sfr P0M1  = 0x94;
 239      =1  sfr P2M0  = 0x95;
 240      =1  sfr P2M1  = 0x96;
 241      =1  sfr P3M0  = 0xB1;
 242      =1  sfr P3M1  = 0xB2;
 243      =1  
 244      =1  
 245      =1  // for PCA
 246      =1  sfr CCON   = 0xD8;
 247      =1  sfr CMOD   = 0xD9;
 248      =1  sfr CCAPM0 = 0xDA;
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 24  

 249      =1  sfr CCAPM1 = 0xDB;
 250      =1  sfr CCAPM2 = 0xDC;
 251      =1  sfr CCAPM3 = 0xDD;
 252      =1  sfr CCAPM4 = 0xDE;
 253      =1  sfr CCAPM5 = 0xDF;
 254      =1  sfr CL     = 0xE9;
 255      =1  sfr CH     = 0xF9;
 256      =1  sfr CCAP0L = 0xEA;
 257      =1  sfr CCAP0H = 0xFA;
 258      =1  sfr CCAP1L = 0xEB;
 259      =1  sfr CCAP1H = 0xFB;
 260      =1  sfr CCAP2L = 0xEC;
 261      =1  sfr CCAP2H = 0xFC;
 262      =1  sfr CCAP3L = 0xED;
 263      =1  sfr CCAP3H = 0xFD;
 264      =1  sfr CCAP4L = 0xEE;
 265      =1  sfr CCAP4H = 0xFE;
 266      =1  sfr CCAP5L = 0xEF;
 267      =1  sfr CCAP5H = 0xFF;
 268      =1  sfr PCAPWM0= 0xF2;
 269      =1  sfr PCAPWM1= 0xF3;
 270      =1  sfr PCAPWM2= 0xF4;
 271      =1  sfr PCAPWM3= 0xF5;
 272      =1  sfr PCAPWM4= 0xF6;
 273      =1  sfr PCAPWM5= 0xF7;
 274      =1  
 275      =1  /*  BIT Registers  */
 276      =1  /*  PSW  */
 277      =1  sbit CY    = 0xD7;
 278      =1  sbit AC    = 0xD6;
 279      =1  sbit F0    = 0xD5;
 280      =1  sbit RS1   = 0xD4;
 281      =1  sbit RS0   = 0xD3;
 282      =1  sbit OV    = 0xD2;
 283      =1  sbit P     = 0xD0;
 284      =1  
 285      =1  /*  TCON  */
 286      =1  sbit TF1   = 0x8F;
 287      =1  sbit TR1   = 0x8E;
 288      =1  sbit TF0   = 0x8D;
 289      =1  sbit TR0   = 0x8C;
 290      =1  sbit IE1   = 0x8B;
 291      =1  sbit IT1   = 0x8A;
 292      =1  sbit IE0   = 0x89;
 293      =1  sbit IT0   = 0x88;
 294      =1  
 295      =1  /*  IE  */
 296      =1  sbit EA    = 0xAF;
 297      =1  sbit ES    = 0xAC;
 298      =1  sbit ET1   = 0xAB;
 299      =1  sbit EX1   = 0xAA;
 300      =1  sbit ET0   = 0xA9;
 301      =1  sbit EX0   = 0xA8;
 302      =1  
 303      =1  /*  IP  */
 304      =1  sbit PS    = 0xBC;
 305      =1  sbit PT1   = 0xBB;
 306      =1  sbit PX1   = 0xBA;
 307      =1  sbit PT0   = 0xB9;
 308      =1  sbit PX0   = 0xB8;
 309      =1  
 310      =1  /*  P3  */
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 25  

 311      =1  sbit RD    = 0xB7;
 312      =1  sbit WR    = 0xB6;
 313      =1  sbit T1    = 0xB5;
 314      =1  sbit T0    = 0xB4;
 315      =1  sbit INT1  = 0xB3;
 316      =1  sbit INT0  = 0xB2;
 317      =1  sbit TXD   = 0xB1;
 318      =1  sbit RXD   = 0xB0;
 319      =1  
 320      =1  /*  SCON  */
 321      =1  sbit SM0   = 0x9F;
 322      =1  sbit SM1   = 0x9E;
 323      =1  sbit SM2   = 0x9D;
 324      =1  sbit REN   = 0x9C;
 325      =1  sbit TB8   = 0x9B;
 326      =1  sbit RB8   = 0x9A;
 327      =1  sbit TI    = 0x99;
 328      =1  sbit RI    = 0x98;
 329      =1  
 330      =1  /*  8052 Extensions  */
 331      =1  /*  IE  */
 332      =1  sbit ET2   = 0xAD;
 333      =1  
 334      =1  /*  IP  */
 335      =1  sbit PT2   = 0xBD;
 336      =1  
 337      =1  /*  P1  */
 338      =1  sbit T2EX  = 0x91;
 339      =1  sbit T2    = 0x90;
 340      =1               
 341      =1  /*  T2CON  */
 342      =1  sbit TF2   = 0xCF;
 343      =1  sbit EXF2  = 0xCE;
 344      =1  sbit RCLK  = 0xCD;
 345      =1  sbit TCLK  = 0xCC;
 346      =1  sbit EXEN2 = 0xCB;
 347      =1  sbit TR2   = 0xCA;
 348      =1  sbit C_T2  = 0xC9;
 349      =1  sbit CP_RL2= 0xC8;
 350      =1  
 351      =1  sfr CHPENR = 0xF6;
 352      =1  sfr CHPCON = 0xBF;
 353      =1  sfr SFRAL  = 0xC4;
 354      =1  sfr SFRAH  = 0xC5;
 355      =1  sfr SFRFD  = 0xC6;
 356      =1  sfr SFRCN  = 0xC7;
 357      =1  
 358      =1  sbit P0_0  = 0x80;
 359      =1  sbit P0_1  = 0x81;
 360      =1  sbit P0_2  = 0x82;
 361      =1  sbit P0_3  = 0x83;
 362      =1  sbit P0_4  = 0x84;
 363      =1  sbit P0_5  = 0x85;
 364      =1  sbit P0_6  = 0x86;
 365      =1  sbit P0_7  = 0x87;
 366      =1  
 367      =1  sbit P1_0  = 0x90;
 368      =1  sbit P1_1  = 0x91;
 369      =1  sbit P1_2  = 0x92;
 370      =1  sbit P1_3  = 0x93;
 371      =1  sbit P1_4  = 0x94;
 372      =1  sbit P1_5  = 0x95;
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 26  

 373      =1  sbit P1_6  = 0x96;
 374      =1  sbit P1_7  = 0x97;
 375      =1  
 376      =1  sbit P2_0  = 0xa0;
 377      =1  sbit P2_1  = 0xa1;
 378      =1  sbit P2_2  = 0xa2;
 379      =1  sbit P2_3  = 0xa3;
 380      =1  sbit P2_4  = 0xa4;
 381      =1  sbit P2_5  = 0xa5;
 382      =1  sbit P2_6  = 0xa6;
 383      =1  sbit P2_7  = 0xa7;
 384      =1  
 385      =1  sbit P3_0  = 0xb0;
 386      =1  sbit P3_1  = 0xb1;
 387      =1  sbit P3_2  = 0xb2;
 388      =1  sbit P3_3  = 0xb3;
 389      =1  sbit P3_4  = 0xb4;
 390      =1  sbit P3_5  = 0xb5;
 391      =1  sbit P3_6  = 0xb6;
 392      =1  sbit P3_7  = 0xb7;
 393      =1  
 394      =1  sbit P4_0  = P4^0;
 395      =1  sbit P4_1  = P4^1;
 396      =1  sbit P4_2  = P4^2;
 397      =1  sbit P4_3  = P4^3;
 398      =1  #endif  // INTERNAL_MCU
 399      =1  
 400      =1  #endif  //__REGISTERS__
  12          //#include "regmap.h"
  13          #include "printf.h"
   1      =1  #ifndef __PRINTF__
   2      =1  #define __PRINTF__
   3      =1  
   4      =1  #define _outchar(c) while(1) { if( !RS_Xbusy ) { SBUF = c; RS_Xbusy=1; break; } }
   5      =1  #define Putch(c) _outchar(c)
   6      =1  
   7      =1  #ifdef SERIAL
   8      =1  
   9      =1   void Printf ( const char CODE_P *fmt, ... );
  10      =1   void Puts ( CODE_P char *ptr );
  11      =1  
  12      =1  #define TW2835Cmd(a)   Puts ( a )
  13      =1  
  14      =1  #else
           =1 
           =1  #undef  DEBUG
           =1  #define Printf(a,b)  //
           =1  #define Puts(a)      //
           =1 
           =1 #endif
  21      =1  
  22      =1  
  23      =1  #ifndef DEBUG
  24      =1  
  25      =1   #define dPuts(a)   //
  26      =1   #define wPuts(a)   //
  27      =1   #define ePuts(a)   //
  28      =1  
  29      =1  #else
           =1 
           =1  void dPrintf( const char CODE_P *fmt, ... );
           =1  void wPrintf( const char CODE_P *fmt, ... );
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 27  

           =1  void ePrintf( const char CODE_P *fmt, ... );
           =1 
           =1  void dPuts( CODE_P char *ptr );
           =1  void wPuts( CODE_P char *ptr );
           =1  void ePuts( CODE_P char *ptr );
           =1 
           =1 #endif  // DEBUG
  40      =1  
  41      =1  BYTE Getch(void);
  42      =1  BYTE Getche(void);
  43      =1  
  44      =1  
  45      =1  #endif  //__PRINTF__
  14          //#include "dispinfo.h"
  15          //#include "video.h"
  16          //#include "eeprom.h"
  17          //#include "measure.h"
  18          //#include "tw88.h"
  19          #include "etc_eep.h"
   1      =1  #ifndef __ETC_EEP__
   2      =1  #define __ETC_EEP__
   3      =1  
   4      =1  
   5      =1  ////eeprom.h
   6      =1  
   7      =1  
   8      =1  #define  EEP_Powerflag            0x10   
   9      =1  #define  EEP_CameraVolt           0x11   
  10      =1  
  11      =1  
  12      =1  //=========================================================================
  13      =1  //  EEPROM structure
  14      =1  //  0x00  BYTE  4 'TW88'
  15      =1  #define EEP_FWREV_MAJOR     0x04  //BYTE  1 F/W Rev.-major(Hex) 
  16      =1  #define EEP_FWREV_MINOR     0x05  //BYTE  1 F/W Rev.-minor(Hex)
  17      =1  #define EEP_DEBUGLEVEL      0x06  //BYTE  1 DebugLevel
  18      =1  /*//
  19      =1  #define EEP_AUTODETECT      0x07  //BYTE  1 Flag for Input Auto Detect  -0:Auto, 1:NTSC,....
  20      =1  #define EEP_AUTODETECTTYTE    0x08  //BYTE  1 Type of Auto-detect(will be value of register 0x1d)
  21      =1  //      ---------------------------------------------------------------
  22      =1  #define EEP_WIDEMODE      0x09  //BYTE  1   Wide Mode
  23      =1  
  24      =1  #define EEP_AUTORECOGNITION   0x0a  //BYTE  1 Auto Recognition
  25      =1  #define EEP_VIDEOMODE     0x0b  //BYTE  1   Video Mode
  26      =1  
  27      =1  #define EEP_OSDLANG       0x0c  //BYTE  1   OSDLang           // 0
  28      =1  
  29      =1  #define EEP_OSDPOSITIONMODE   0x0d  //BYTE  1 OSD Position Mode
  30      =1  #define EEP_CCD         0x0e  //BYTE  1 Closed Caption- 0: off, 1:on
  31      =1  
  32      =1  #define EEP_INPUTSELECTION    0x0f  //BYTE  1 InputSelection
  33      =1  
  34      =1  //
  35      =1  #define EEP_PC_CONTRAST     0x10
  36      =1  #define EEP_PC_BRIGHT     0x11
  37      =1  
  38      =1  #define EEP_CONTRAST      0x12  //BYTE  1 Contrast 
  39      =1  #define EEP_BRIGHTNESS      0x13  //BYTE  1 Brightness
  40      =1  #define EEP_SATURATION_U    0x14  //BYTE  1 Saturation :U
  41      =1  #define EEP_SATURATION_V    0x15  //BYTE  1 Saturation :V
  42      =1  #define EEP_SHARPNESS     0x16  //BYTE  1 Sharpness 
  43      =1  #define EEP_HUE         0x17  //BYTE  1 Hue                    
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 28  

  44      =1  
  45      =1  //====================================HS AWT 981001
  46      =1  #define  EEP_AutoMode           0xa0
  47      =1  #define  EEP_IMAGEMode          0xa1
  48      =1  #define  EEP_RearMode           0xa2
  49      =1  #define  EEP_COSDMode           0xa3
  50      =1  #define  EEP_GAUGEMode          0xa4
  51      =1  #define  EEP_CAMAMode           0xa5 
  52      =1  #define  EEP_CAMBMode           0xa6
  53      =1  #define  EEP_CAMCMode           0xa7
  54      =1  #define  EEP_CAMRMode           0xa8
  55      =1  #define  EEP_CAMOutMode         0xa9  
  56      =1  #define  EEP_TimeStep           0xaa
  57      =1  
  58      =1  
  59      =1  
  60      =1  #define  EEP_ONOFFChoice        0xac 
  61      =1  
  62      =1  #define  EEP_PRIORITY           0xad
  63      =1  #define  EEP_JUMPMode           0xae
  64      =1  #define  EEP_NowModeState       0xaf
  65      =1  #define  EEP_SelectMode         0xb0
  66      =1  #define  EEP_PriorityOffSelectMode  0xb1
  67      =1  #define  EEP_AudioRecord    0xb2
  68      =1  
  69      =1  #define  EEP_FirstNumber    0xb3
  70      =1  #define  EEP_SecondNumber   0xb4
  71      =1  #define  EEP_ThridNumber    0xb5
  72      =1  #define  EEP_FourthNumber   0xb6
  73      =1  
  74      =1  #define  EEP_CAMNUMBER     0xb7
  75      =1  #define  EEP_PELCO       0xb8
  76      =1  #define  EEP_Baud_rate     0xb9
  77      =1  #define  EEP_TriggerVGA    0xba
  78      =1  #define  EEP_DVRDisplay    0xbb
  79      =1  #define  EEP_IMAGE_A_Mode    0xbc//andy A1.4 20100113
  80      =1  #define  EEP_IMAGE_B_Mode    0xbd//andy A1.4 20100113
  81      =1  #define  EEP_IMAGE_C_Mode    0xbe//andy A1.4 20100113
  82      =1  
  83      =1  #define  EEP_SDCardDetect    0xbf//andy A1.4 20100113
  84      =1  
  85      =1  
  86      =1  #define  EEP_DELAYCAMA           0xC0 
  87      =1  #define  EEP_DELAYCAMB           0xC1
  88      =1  #define  EEP_DELAYCAMC           0xC2
  89      =1  #define  EEP_DELAYCAMR           0xC3
  90      =1  #ifdef USE_CAMD
  91      =1  #define  EEP_DELAYCAMD           0xC4
  92      =1  #endif
  93      =1  //#define  EEP_SelectModeBuf         0xb2
  94      =1  #define  EEP_ReverseMode    0xc5
  95      =1  #define  EEP_JUMPAV_TIMESET 0xc6
  96      =1  
  97      =1  #define EEP_OSD_TYPE    0xc7
  98      =1  #define EEP_OSD_LANGUAGE  0xc8
  99      =1  #define EEP_OSD_BRIGHTNESS  0xc9
 100      =1  #define EEP_OSD_PWR_LINK  0xca
 101      =1  
 102      =1  #if 0
 103      =1  #define  EEP_Resolution     0xc0
 104      =1  #define  EEP_FPS        0xc1
 105      =1  #define  EEP_Quality      0xc2
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 29  

 106      =1  #define  EEP_RecordMode     0xc3
 107      =1  #define  EEP_RecordLength   0xc4
 108      =1  #define  EEP_PreAlarmLength   0xc5
 109      =1  #define  EEP_PostAlarmLength  0xc6
 110      =1  #endif
 111      =1  //====================================HS AWT 981001
 112      =1  
 113      =1  //
 114      =1  //        ---------------------------------------------------------------
 115      =1  #define EEP_PCAUDIOPVOL   0x37  //BYTE  1   AudioVol
 116      =1  #define EEP_AUDIOPVOL     0x38  //BYTE  1   AudioVol
 117      =1  #define EEP_AUDIOBALANCE    0x39  //BYTE  1   AudioBalance
 118      =1  //
 119      =1  //        ---------------------------------------------------------------
 120      =1  
 121      =1  #define EEP_BLOCKMOVIE      0x40  //BYTE  1 BlockedMovie:Blocked rating for Movie 
 122      =1  #define EEP_BLOCKTV       0x41  //BYTE  1 BlockedTV:Blocked rating for TV     
 123      =1  #define EEP_FVSLD       0x42  //BYTE  6
 124      =1  //                            7    6       4    3    2    1    0
 125      =1  //  FVSLD Level                        ALL   FV(V)   S    L    D    
 126      =1  //  0x43    BYTE    1   TV-Y            X  
 127      =1  //  0x44  BYTE    1   TV-Y7           X    X 
 128      =1  //  0x45  BYTE    1   TV-G            X 
 129      =1  //  0x46  BYTE    1   TV-PG           X       X    X    X    X
 130      =1  //  0x47  BYTE    1   TV-14           X       X    X    X    X 
 131      =1  //  0x48  BYTE    1   TV-MA           X       X    X    X
 132      =1  //
 133      =1  #define EEP_VCHIPPASSWORD   0x49  //BYTE  4   OSDPassword         //Defualt:3366
 134      =1  */
 135      =1  //      ---------------------------------------------------------------
 136      =1  //
 137      =1  //
 138      =1  //  0x61  WORD  2   PanelXRes
 139      =1  //  0x63  WORD  2 PanelYRes
 140      =1  //  0x65  BYTE  1 PanelHsyncMinPulseWidth
 141      =1  //  0x66  BYTE  1 PanelVsyncMinPulseWidth
 142      =1  //  0x67  WORD  2 PanelHminBackPorch
 143      =1  //  0x69  BYTE  1 PanelHsyncPolarity
 144      =1  //  0x6a  BYTE  1 PanelVsyncPolarity
 145      =1  //  0x6b  WORD  2 PanelDotClock
 146      =1  //  0x6d  BYTE  1 PanelPixsPerClock
 147      =1  //  0x6e  BYTE  1 PanelDEonly
 148      =1  //      ---------------------------------------------------------------
 149      =1  //
 150      =1  //  0x80  PC Data
 151      =1  //
 152      =1  //      ---------------------------------------------------------------
 153      =1  //
 154      =1  //  0x300 TV Data
 155      =1  //
 156      =1  //  --- NTSC_TV -------------------------------------------------------------
 157      =1  //  CNT_SAVEDAIR      BYTE  1   Total count of saved Air TV Channel.
 158      =1  //  IDX_CURAIR        BYTE  1   Index of Current Air TV Channel
 159      =1  //  CHN_CURAIR        BYTE    1   Current Air TV Channel.
 160      =1  //
 161      =1  //  FIRSTSAVED_AIRCHN   BYTE    1 First saved Air TV channel no (maximum 100)
 162      =1  //  ....
 163      =1  //
 164      =1  //  CNT_SAVEDCABLE      BYTE  1   Total count of saved Cable TV Channel.
 165      =1  //  IDX_CURCABLE      BYTE  1   Index of Current Cable TV Channel
 166      =1  //  CHN_CURCABLE      BYTE    1   Current Cable TV Channel.
 167      =1  //
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 30  

 168      =1  //  FIRSTSAVED_CABLECHN   BYTE  1 First saved Cable TV channel no (maximum 100)
 169      =1  //
 170      =1  //  --- PAL_TV --------------------------------------------------------------
 171      =1  //  PR_CUR          BYTE  1   Current PR no.
 172      =1  //  FIRST_SAVEDPR     DWORD 4   Freq of PR0.  (TOTAL_PR)
 173      =1  //  FIRST_SAVEDPR+4     DWORD   4   Freq of PR1.
 174      =1  //  .....
 175      =1  //
 176      =1  
 177      =1  
 178      =1  
 179      =1  //
 180      =1  // Offset of EEPROM
 181      =1  //
 182      =1  /*
 183      =1  #define VIDEOCONTRAST   0x18    // for NTSC.(PAL:0x20,SECAM:0x28)
 184      =1  #define VIDEOBRIGHTNESS   0x19
 185      =1  #define VIDEOSATURATION_U 0x1a
 186      =1  #define VIDEOSATURATION_V 0x1b
 187      =1  #define VIDEOHUE      0x1c    // only for NTSC
 188      =1  #define VIDEOSHARPNESS    0x1d
 189      =1  */
 190      =1  /*
 191      =1  #define CCCOLOR   0x52
 192      =1  #define VOLZOOM   0x53
 193      =1  
 194      =1  #define PANELINFO 0x61
 195      =1  
 196      =1  // PAL_TV
 197      =1  #define  PR_CUR         0x301 
 198      =1  #define  FIRST_SAVEDPR      0x308 
 199      =1   #define TVFREQ_HIGH 0 
 200      =1   #define TVFREQ_LOW  1
 201      =1  #ifdef PAL_TV
 202      =1   #define TVFINETUNE  2
 203      =1      // NOT Finetune: 0 , Range: -32 ~ +32
 204      =1   #define TVPRSYSTEM  3  
 205      =1      // bit 7: Add:1 Ereased :0
 206      =1      // 
 207      =1   #define TVCHNAME    4
 208      =1  
 209      =1   #define BYTEPERCHANNEL 9 
 210      =1  #endif
 211      =1  // NTSC_TV
 212      =1  #define  EEP_TVInputSel     0x302
 213      =1  #define  CHN_CURAIR       0x303 
 214      =1  #define  FIRSTSAVED_AIRCHN    0x308 
 215      =1  #define  CHN_CURCABLE     0x403 
 216      =1  #define  FIRSTSAVED_CABLECHN  0x408 
 217      =1  #ifdef NTSC_TV
 218      =1   #define TVFINETUNE  0
 219      =1      // NOT Finetune: 0 , Range: -32 ~ +32
 220      =1   #define TVPRSYSTEM  1  
 221      =1      // bit 7: Add:1 Ereased :0
 222      =1      // 
 223      =1   #define BYTEPERCHANNEL 2
 224      =1  #endif
 225      =1  
 226      =1  */
 227      =1  
 228      =1  
 229      =1  WORD GetFWRevEE(void);
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 31  

 230      =1  void SaveFWRevEE(WORD);
 231      =1  
 232      =1  BYTE GetDebugLevelEE(void);
 233      =1  void SaveDebugLevelEE(BYTE);
 234      =1  
 235      =1  #if 0//def WIDE_SCREEN
           =1 BYTE GetWideModeEE(void);
           =1 void SaveWideModeEE(BYTE dl);
           =1 #endif
 239      =1  
 240      =1  /*
 241      =1  //BYTE GetRange4CoarseEE(void);
 242      =1  //void SaveRange4CoarseEE(BYTE);
 243      =1  
 244      =1  BYTE GetPossibleAutoDetectStdEE(void);
 245      =1  void SetPossibleAutoDetectStdEE(void);
 246      =1  
 247      =1  //BYTE GetOSDXPositionEE(void);
 248      =1  //BYTE GetOSDYPositionEE(void);
 249      =1  BYTE GetClosedCaptionFlagEE(void);
 250      =1  
 251      =1  BYTE GetVideoDatafromEE(BYTE);
 252      =1  void SaveVideoDatatoEE(BYTE offset, BYTE ndata);
 253      =1  
 254      =1  //BYTE GetVideoBrightnessEE(void);
 255      =1  //BYTE GetVideoSaturationEE(BYTE);
 256      =1  //BYTE GetVideoHueEE(void);
 257      =1  //BYTE GetVideoSharpnessEE(void);
 258      =1  
 259      =1  //void SaveVideoContrastEE(BYTE ndata);
 260      =1  //void SaveVideoBrightnessEE(BYTE ndata);
 261      =1  //void SaveVideoSaturationEE(BYTE, BYTE ndata);
 262      =1  //void SaveVideoHueEE(BYTE ndata);
 263      =1  //void SaveVideoSharpnessEE(BYTE ndata);
 264      =1  
 265      =1  BYTE GetOSDPositionModeEE(void);
 266      =1  void SaveOSDPositionModeEE(BYTE ndata);
 267      =1  //void SaveOSDXPositionEE(BYTE);
 268      =1  //void SaveOSDYPositionEE(BYTE);
 269      =1  
 270      =1  void SaveClosedCaptionFlagEE(BYTE);
 271      =1  
 272      =1  BYTE GetBlockedTVEE(void);      
 273      =1  void SaveBlockedTVEE(BYTE vi);    
 274      =1  BYTE GetBlockedTV_FLDSLEE( BYTE level ) ;
 275      =1  void SaveBlockedTV_FLDSLEE(BYTE level, BYTE vi) ;
 276      =1  
 277      =1  BYTE GetBlockedMovieEE(void);   
 278      =1  void SaveBlockedMovieEE(BYTE vi); 
 279      =1  #if 0
 280      =1  BYTE GetInputSelectionEE(void);
 281      =1  #endif
 282      =1  void SaveInputSelectionEE(BYTE val);
 283      =1  
 284      =1  //BYTE GetOSDDurationEE(void);
 285      =1  //void SaveOSDDurationEE(BYTE val);
 286      =1  
 287      =1  BYTE GetOSDLangEE(void);
 288      =1  void SaveOSDLangEE(BYTE val);
 289      =1  
 290      =1  //ljy100303...BYTE GetOSDZoomEE(void);
 291      =1  //ljy100303...void SaveOSDZoomEE(BYTE val);
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 32  

 292      =1  
 293      =1  BYTE GetAudioVolEE(void);
 294      =1  void SetAudioVolEE( BYTE vol );
 295      =1  BYTE GetPCAudioVolEE(void);
 296      =1  void SetPCAudioVolEE( BYTE vol );
 297      =1  */
 298      =1  #if 0
           =1 BYTE GetAudioBalanceEE(void);
           =1 void SetAudioBalanceEE( BYTE vol );
           =1 BYTE GetAudioBassEE(void);
           =1 void SetAudioBassEE( BYTE vol );
           =1 BYTE GetAudioTrebleEE(void);
           =1 void SetAudioTrebleEE( BYTE vol );
           =1 #endif
 306      =1  //BYTE GetAudioEffectEE(void);
 307      =1  //void SetAudioEffectEE( BYTE vol );
 308      =1  
 309      =1  void ClearBasicEE(void);
 310      =1  /*
 311      =1  BYTE ValidPassword(DATA_P BYTE *numstr, BYTE index);
 312      =1  BYTE SetNewPassword(DATA_P BYTE *numstr, BYTE index);
 313      =1  */
 314      =1  //WORD GetPanelXRes(void);
 315      =1  //WORD GetPanelYRes(void);
 316      =1  /*
 317      =1  BYTE GetPanelHsyncMinPulseWidth(void);
 318      =1  BYTE GetPanelVsyncMinPulseWidth(void);
 319      =1  WORD GetPanelHMinBackPorch(void);
 320      =1  BYTE GetPanelHsyncPolarity(void);
 321      =1  BYTE GetPanelVsyncPolarity(void);
 322      =1  WORD GetPanelDotClock(void);
 323      =1  WORD GetPanelMaxClock(void);
 324      =1  BYTE GetPanelPixsPerClock(void);
 325      =1  // Not used yet *************************  BYTE GetPanelDEonly(void);
 326      =1  
 327      =1  void AddTVChannelEE( BYTE tvtype, BYTE chn);
 328      =1  BYTE GetTVChannelEE( BYTE tvtype, BYTE inx);
 329      =1  void ResetTVChannelEE( BYTE tvtype );
 330      =1  BYTE GetTVChannelCntEE(BYTE tvtype);
 331      =1  BYTE GetTVChnIdxEE(BYTE tvtype);
 332      =1  BYTE GetCurTVChannelEE(BYTE tvtype);
 333      =1  void SetTVChnIdxEE(BYTE tvtype, BYTE newd);
 334      =1  void SetCurTVChannelEE(BYTE tvtype, BYTE newd);
 335      =1  BYTE InsertTVChannelEE(BYTE tvtype, BYTE newd);
 336      =1  BYTE RemoveTVChannelEE(BYTE tvtype, BYTE newd);
 337      =1  
 338      =1  void SetTVPrEE(void);
 339      =1  BYTE GetTVPrEE(void);
 340      =1  void SetTVFreqEE(BYTE, WORD);
 341      =1  WORD GetTVFreqEE(BYTE);
 342      =1  void SetFineTuneEE(BYTE, BYTE);
 343      =1  BYTE GetFineTuneEE(BYTE);
 344      =1  BYTE GetTVPrSystem(BYTE);
 345      =1  void SetTVPrSystem(BYTE, BYTE);
 346      =1  BYTE GetTVInputSelEE(void);
 347      =1  void SetTVInputSelEE(BYTE);
 348      =1  */
 349      =1  /*
 350      =1  #define GetVInputStdDetectModeEE()        ReadEEP(EEP_AUTODETECTTYTE)
 351      =1  #define SaveVInputStdDetectModeEE(A)      WriteEEP(EEP_AUTODETECTTYTE, A)
 352      =1  
 353      =1  #define GetAutoRecogntionEE()         ReadEEP(EEP_AUTORECOGNITION)
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 33  

 354      =1  #define SaveAutoRecogntionEE(A)         WriteEEP(EEP_AUTORECOGNITION, A)
 355      =1  
 356      =1  #define SetVideoModeEE( ctid )          WriteEEP( EEP_VIDEOMODE, ctid )
 357      =1  #define GetVideoModeEE()            ReadEEP( EEP_VIDEOMODE )
 358      =1  
 359      =1  #define GetPanelContrastEE()          ReadEEP(0x10)
 360      =1  
 361      =1  #if defined( SUPPORT_PC ) || defined( SUPPORT_DTV )
 362      =1  //#define GetPanelHueEE()             ReadEEP(0x28)
 363      =1  //#define GetPanelSharpnessEE()         ReadEEP(0x29)
 364      =1  #define GetPanelBrightnessEE()          ReadEEP(0x11)
 365      =1  //#define GetPanelSaturationEE()          ReadEEP(0x2a)
 366      =1  
 367      =1  //#define SavePanelHueEE(A)           WriteEEP(0x28, A)
 368      =1  //#define SavePanelSharpnessEE(A)         WriteEEP(0x29, A)
 369      =1  #define SavePanelContrastEE(A)          WriteEEP(0x10, A)
 370      =1  #define SavePanelBrightnessEE(A)        WriteEEP(0x11, A)
 371      =1  //#define SavePanelSaturationEE(A)        WriteEEP(0x2a, A)
 372      =1  #endif
 373      =1  */
 374      =1  /*
 375      =1  #define GetDigitalVideoContrastEE()       ReadEEP(0x2b)
 376      =1  #define GetDigitalVideoBrightnessEE()     ReadEEP(0x2c)
 377      =1  #define GetDigitalVideoHueEE()          ReadEEP(0x2d)
 378      =1  #define GetDigitalVideoSaturationEE(off)    ReadEEP(0x2e+off)
 379      =1  
 380      =1  #define SaveDigitalVideoContrastEE(A)     WriteEEP(0x2b, A)
 381      =1  #define SaveDigitalVideoBrightnessEE(A)     WriteEEP(0x2c, A)
 382      =1  #define SaveDigitalVideoHueEE(A)        WriteEEP(0x2d, A)
 383      =1  #define SaveDigitalVideoSaturationEE(off,A)   WriteEEP(0x2e+off, A)
 384      =1  */
 385      =1  
 386      =1  #endif  // __ETC_EEP__
  20          //#include "osdbasic.h"
  21          #include "monitor.h"
   1      =1  #ifndef __MONITOR__H_
   2      =1  #define __MONITOR__H_
   3      =1  
   4      =1  
   5      =1  /* monitor.h */
   6      =1  
   7      =1  
   8      =1  void Mon_tx(BYTE ch);
   9      =1  
  10      =1  void MonHelp(void);
  11      =1  BYTE MonGetCommand(void);
  12      =1  void Monitor(void);
  13      =1  void Prompt(void);
  14      =1  
  15      =1  BYTE GetMonAddress(void);
  16      =1  void SetMonAddress(BYTE addr);
  17      =1  void MonReadI2C(void);
  18      =1  void MonWriteI2C(void);
  19      =1  extern void SET_PWM(BYTE index, BYTE val);
  20      =1  
  21      =1  #endif
  22          #include "cpu.h"
   1      =1  #ifndef __CPU__
   2      =1  #define __CPU__
   3      =1  
   4      =1  /*
   5      =1  #ifdef INTERNAL_MCU
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 34  

   6      =1  #define I2C_SCL   P2_0
   7      =1  #else
   8      =1  #define I2C_SCL   P1_0
   9      =1  #endif
  10      =1  #define I2C_SDA   P1_1
  11      =1  */
  12      =1  #define I2C_SCL   P1_0
  13      =1  #define I2C_SDA   P1_1
  14      =1  #define BUF_MAX   8
  15      =1  #define DVR_BUF_MAX   30
  16      =1  
  17      =1  //--------------------------------------------------
  18      =1  // Panel  Related MACRO
  19      =1  //--------------------------------------------------
  20      =1  #define GET_P_IO1()   (P3_4)  
  21      =1  #define SET_P_IO1()   (P3_4 = 1)    
  22      =1  #define CLR_P_IO1()   (P3_4 = 0)  
  23      =1  
  24      =1  #define GET_P_IO2()   (P3_5)  
  25      =1  #define SET_P_IO2()   (P3_5 = 1)    
  26      =1  #define CLR_P_IO2()   (P3_5 = 0)  
  27      =1  
  28      =1  #define GET_BL_PWM()    (P1_4)  
  29      =1  #define SET_BL_PWM()    (P1_4 = 1)    //ON
  30      =1  #define CLR_BL_PWM()    (P1_4 = 0)  //OFF
  31      =1  
  32      =1  #define GET_PCON3V3_P()  (P0_3) 
  33      =1  #define SET_PCON3V3_P()  (P0_3 = 0)    //ON
  34      =1  #define CLR_PCON3V3_P()  (P0_3 = 1) //OFF
  35      =1  
  36      =1  #define GET_PCON5V_P()   (P0_4) 
  37      =1  #define SET_PCON5V_P()   (P0_4 = 0)    //ON
  38      =1  #define CLR_PCON5V_P()   (P0_4 = 1) //OFF
  39      =1  
  40      =1  #define GET_Panel_EN()   (P2_1) 
  41      =1  #define SET_Panel_EN()   (P2_1 = 1)    //ON
  42      =1  #define CLR_Panel_EN()   (P2_1 = 0) //OFF
  43      =1  
  44      =1  #define GET_CTP_INT()   (P2_4)  
  45      =1  #define SET_CTP_INT()   (P2_4 = 1)     //ON
  46      =1  #define CLR_CTP_INT()   (P2_4 = 0)  //OFF
  47      =1  
  48      =1  #define GET_CTP_RST()   (P2_5)  
  49      =1  #define SET_CTP_RST()   (P2_5 = 1)     //ON
  50      =1  #define CLR_CTP_RST()   (P2_5 = 0)  //OFF
  51      =1  
  52      =1  #define GET_PWCTRL()    (P3_7)  
  53      =1  #define SET_PWCTRL()    (P3_7 = 1)     //ON
  54      =1  #define CLR_PWCTRL()    (P3_7 = 0)  //OFF
  55      =1  
  56      =1  //--------------------------------------------------
  57      =1  // Battery  Related MACRO
  58      =1  //--------------------------------------------------
  59      =1  
  60      =1  #define GET_PWR_GOOD()  (P1_5)    
  61      =1  
  62      =1  #define GET_STAT1()   (P0_0)    
  63      =1  #define GET_STAT2()   (P0_1)    
  64      =1  
  65      =1  #define GET_CHG_CURR()    (P0_6)  
  66      =1  #define SET_CHG_CURR()    (P0_6 = 1)     //ON
  67      =1  #define CLR_CHG_CURR()    (P0_6 = 0)  //OFF
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 35  

  68      =1  
  69      =1  #define GET_AC_MODE()   (P4_2)  
  70      =1  #define SET_AC_MODE()   (P4_2 = 1)     //ON
  71      =1  #define CLR_AC_MODE()   (P4_2 = 0)  //OFF
  72      =1  
  73      =1  //--------------------------------------------------
  74      =1  // DVR Power  Related MACRO
  75      =1  //--------------------------------------------------
  76      =1  
  77      =1  #define GET_BAT_SYS()   (P2_6)  
  78      =1  #define SET_BAT_SYS()   (P2_6 = 1)     //ON
  79      =1  #define CLR_BAT_SYS()   (P2_6 = 0)  //OFF
  80      =1  
  81      =1  //--------------------------------------------------
  82      =1  // CAM Power  Related MACRO
  83      =1  //--------------------------------------------------
  84      =1  
  85      =1  #define GET_PCON_CAM()    (P2_2)  
  86      =1  #define SET_PCON_CAM()    (P2_2 = 1)     //ON
  87      =1  #define CLR_PCON_CAM()    (P2_2 = 0)  //OFF
  88      =1  
  89      =1  //--------------------------------------------------
  90      =1  // TW8836 Power  Related MACRO
  91      =1  //--------------------------------------------------
  92      =1  
  93      =1  #define GET_PCON3V3_TW()    (P3_6)  
  94      =1  #define SET_PCON3V3_TW()    (P3_6 = 0)     //ON
  95      =1  #define CLR_PCON3V3_TW()    (P3_6 = 1)  //OFF
  96      =1  
  97      =1  #define GET_TW8836_RST()      (P2_0)  
  98      =1  #define SET_TW8836_RST()      (P2_0 = 0)     //ON
  99      =1  #define CLR_TW8836_RST()      (P2_0 = 1)  //OFF
 100      =1  
 101      =1  
 102      =1  //--------------------------------------------------
 103      =1  // I/O board  Related MACRO
 104      =1  //--------------------------------------------------
 105      =1  
 106      =1  #define GET_GREEN()       (P4_0)  
 107      =1  #define SET_GREEN()       (P4_0 = 0)     
 108      =1  #define CLR_GREEN()       (P4_0 = 1)  
 109      =1  
 110      =1  #define GET_RED()         (P4_1)  
 111      =1  #define SET_RED()         (P4_1 = 0)     
 112      =1  #define CLR_RED()         (P4_1 = 1)  
 113      =1  
 114      =1  #define GET_PSW()       (P4_3)  
 115      =1  #define SET_PSW()       (P4_3 = 1)     
 116      =1  #define CLR_PSW()       (P4_3 = 0)  
 117      =1  
 118      =1  #define GET_ADAP_12()     (P0_5)  
 119      =1  #define SET_ADAP_12()     (P0_5 = 1)     
 120      =1  #define CLR_ADAP_12()     (P0_5 = 0)  
 121      =1  
 122      =1  
 123      =1  #ifdef REMO_RC5
           =1 #define EnableRemoconInt()  { RemoDataReady = 0;  EX0 = 1;}
           =1 #endif
 126      =1  void  InitCPU(void);
 127      =1  void  InitVars(void);
 128      =1  void  InitTechwell(void);
 129      =1  void  main_init (void);
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 36  

 130      =1  void  PowerDown( void );
 131      =1  #if 0
           =1 BYTE  OKSleepTime(void);
           =1 #endif
 134      =1  #ifdef REMO_RC5
           =1 void  InitForRemo(void);
           =1 #endif
 137      =1  void  PowerLED(BYTE flag);
 138      =1  void    Wait_ms(WORD Tms);
 139      =1  BYTE    TW2835Command(char,char,char,char,char);
 140      =1  void SET_PWM(BYTE index, BYTE val);
 141      =1  
 142      =1  #endif
  23          //#include "Measure.h"
  24          #include "Adc.h"
   1      =1  #ifndef __ADC__
   2      =1  #define __ADC__
   3      =1  
   4      =1  //=============================================================================
   5      =1  //                             ADC Functions
   6      =1  //=============================================================================
   7      =1  
   8      =1  void ADCPowerDown(bit flag);
   9      =1  void SelectADCmux(BYTE sel);
  10      =1  void SetADCMode(BYTE mode);
  11      =1  
  12      =1  void EnableADC(void);
  13      =1  void DisableADC(void);
  14      =1  
  15      =1  WORD GetCoarse(void);
  16      =1  void SetCoarse(WORD i);
  17      =1  void SetPhase(BYTE j);
  18      =1  BYTE GetPhaseCurrent(void);
  19      =1  BYTE SetVCORange(DWORD _IPF);
  20      =1  
  21      =1  //void SetADCGainOffset(BYTE gain, BYTE offset);
  22      =1  void AutoColorAdjust(void);
  23      =1  
  24      =1  
  25      =1  
  26      =1  void AutoColorAdjustForDTV(BYTE flag);
  27      =1  
  28      =1  #endif  // __ADC__
  29      =1  
  30      =1  
  31      =1  
  32      =1  
  33      =1  
  34      =1  
  35      =1  
  36      =1  
  37      =1  
  38      =1  
  39      =1  
  40      =1  
  41      =1  
  42      =1  
  43      =1  
  44      =1  
  45      =1  
  46      =1  
  47      =1  
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 37  

  48      =1  
  49      =1  
  50      =1  
  51      =1  
  52      =1  
  53      =1  
  54      =1  
  25          
  26          //#include "spi.h"
  27          
  28            IDATA BYTE MonAddress = 0x8a;   // initialize value should be placed to IDATA area
  29            BYTE MonIndex;
  30            BYTE MonRdata, MonWdata;
  31          
  32          BYTE monstr[30];    // buffer for input string
  33          BYTE *argv[7];
  34          BYTE argc=0;
  35          bit echo=1;
  36          
  37          static bit indirect=0;
  38          
  39          //extern      bit AutoDetect;
  40          extern   BYTE InputSelection;
  41          extern        BYTE  DebugLevel;
  42          extern  CODE  struct struct_IdName struct_InputSelection[];
  43          extern      bit NoInitAccess;
  44                bit AccessEnable;
  45          
  46          
  47          //void Loader(BYTE);
  48          
  49          //=============================================================================
  50          //
  51          //=============================================================================
  52          void Prompt(void)
  53          {
  54   1      
  55   1        if ( MonAddress == TW88I2CAddress )
  56   1          Printf("\r\nMCU_I2C[%02x]>", (WORD)MonAddress);
  57   1        else
  58   1          Printf("\r\nI2C[%02x]>", (WORD)MonAddress);
  59   1      }
  60          
  61          void Mon_tx(BYTE ch)
  62          {
  63   1        RS_tx(ch);
  64   1      }
  65          
  66          
  67          
  68          //=============================================================================
  69          //    Convert ASCII to Binery                                             
  70          //=============================================================================
  71          DWORD a2i(BYTE *str)
  72          {
  73   1        DWORD num=0;
  74   1        BYTE i;
  75   1      
  76   1        for(i=0; ; i++, str++) {
  77   2          if( *str=='\0' || *str==' ' ) break;
  78   2          num = num*10 + *str - '0';
  79   2        }
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 38  

  80   1        return num;
  81   1      }
  82          
  83          BYTE Asc1Bin(BYTE asc)
  84          {
  85   1        if(asc>='0' && asc <='9') return (asc - '0');
  86   1        if(asc>='a' && asc <='f') return (asc - 'a' + 0x0a);
  87   1        if(asc>='A' && asc <='F') return (asc - 'A' + 0x0a);
  88   1        
  89   1        return 0;
  90   1      }
  91          
  92          BYTE Asc2Bin(PDATA_P BYTE *s)
  93          {
  94   1        WORD bin;
  95   1      
  96   1        bin = 0;
  97   1        while(*s != '\0' && *s !=' ') {
  98   2          bin = bin<<4;
  99   2          bin = bin + Asc1Bin(*s);
 100   2          s++;
 101   2        }
 102   1        return (bin);
 103   1      }
 104          
 105          
 106          //=============================================================================
 107          BYTE toupper(BYTE ch)
 108          {
 109   1        if( ch>='a' && ch<='z' )
 110   1          return (ch - 'a' + 'A');
 111   1        
 112   1        return ch;
 113   1      }
 114          
 115          int stricmp(BYTE *ptr1, BYTE *ptr2)
 116          {
 117   1        int   i;
 118   1        int   ret;
 119   1        
 120   1        for(i=0; *ptr1; i++) {
 121   2          ret = toupper(*ptr1++) - toupper(*ptr2++);
 122   2          if( ret ) return ret;
 123   2        }
 124   1        return 0;
 125   1      }
 126          
 127          //=============================================================================
 128          //
 129          //=============================================================================
 130          /*
 131          void SetMonAddress(BYTE addr)
 132          {
 133            MonAddress = addr;
 134          }
 135          */
 136          void MonReadI2C(void)
 137          {
 138   1        if( argc>=2 ) MonIndex = Asc2Bin( argv[1] );
 139   1        else  {
 140   2          Printf("   --> Missing parameter !!!");
 141   2          return;
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 39  

 142   2        }
 143   1      
 144   1        if ( MonAddress == TW88I2CAddress )
 145   1          MonRdata = ReadTW88(MonIndex);
 146   1        else
 147   1          MonRdata = ReadI2C(MonAddress, MonIndex);
 148   1      
 149   1        if( echo )
 150   1          Printf("\r\nRead %2xh:%2xh", (WORD)MonIndex, (WORD)MonRdata); 
 151   1        
 152   1        MonWdata = MonRdata;
 153   1      }
 154          
 155          
 156          void MonWriteI2C(void)
 157          {
 158   1        if( argc<3 ) {
 159   2          Printf("   --> Missing parameter !!!");
 160   2          return;
 161   2        }
 162   1        
 163   1        MonIndex = Asc2Bin( argv[1] );
 164   1        MonWdata = Asc2Bin( argv[2] );
 165   1        
 166   1        if( echo ) {
 167   2          Printf("\r\nWrite %2xh:%2xh ", (WORD)MonIndex, (WORD)MonWdata);
 168   2          if ( MonAddress == TW88I2CAddress ) {
 169   3            WriteTW88(MonIndex, MonWdata);
 170   3            MonRdata = ReadTW88(MonIndex);
 171   3          }
 172   2          else {
 173   3            WriteI2C(MonAddress, MonIndex, MonWdata);
 174   3            MonRdata = ReadI2C(MonAddress, MonIndex);
 175   3          }
 176   2            Printf("==> Read %2xh:%2xh", (WORD)MonIndex, (WORD)MonRdata);
 177   2        }
 178   1        else {
 179   2          if ( MonAddress == TW88I2CAddress ) {
 180   3            WriteTW88(MonIndex, MonWdata);
 181   3          }
 182   2          else {
 183   3            WriteI2C(MonAddress, MonIndex, MonWdata);
 184   3          }
 185   2        }
 186   1      }
 187          
 188          
 189          void MonIncDecI2C(BYTE inc)
 190          {
 191   1      
 192   1        switch(inc){
 193   2        case 0:  MonWdata--;  break;
 194   2        case 1:  MonWdata++;  break;
 195   2        case 10: MonWdata-=0x10;  break;
 196   2        case 11: MonWdata+=0x10;  break;
 197   2        }
 198   1      
 199   1      
 200   1        if ( MonAddress == TW88I2CAddress ) {
 201   2          WriteTW88(MonIndex, MonWdata);
 202   2          MonRdata = ReadTW88(MonIndex);
 203   2        }
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 40  

 204   1        else {
 205   2          WriteI2C(MonAddress, MonIndex, MonWdata);
 206   2          MonRdata = ReadI2C(MonAddress, MonIndex);
 207   2        }
 208   1      
 209   1        if( echo ) {
 210   2          Printf("Write %2xh:%2xh ", (WORD)MonIndex, (WORD)MonWdata);
 211   2          Printf("==> Read %2xh:%2xh", (WORD)MonIndex, (WORD)MonRdata);
 212   2        }
 213   1      
 214   1        Prompt();
 215   1      
 216   1      }
 217          
 218          void MonDumpI2C(void)
 219          {
 220   1        BYTE ToMonIndex;
 221   1        int  cnt=8;
 222   1      
 223   1        if( argc>=2 ) MonIndex = Asc2Bin(argv[1]);
 224   1        if( argc>=3 ) ToMonIndex = Asc2Bin(argv[2]);
 225   1        else ToMonIndex = MonIndex+cnt;
 226   1        if ( ToMonIndex < MonIndex ) ToMonIndex = 0xFF;
 227   1        cnt = ToMonIndex - MonIndex + 1;
 228   1      
 229   1        if( echo ) {
 230   2          if ( MonAddress == TW88I2CAddress ) {
 231   3            for ( ; cnt > 0; cnt-- ) {
 232   4              MonRdata = ReadTW88(MonIndex);
 233   4              Printf("\r\n==> Read %2xh:%2xh", (WORD)MonIndex, (WORD)MonRdata);
 234   4              MonIndex++;
 235   4            }
 236   3          }
 237   2          else {
 238   3            for ( ; cnt > 0; cnt-- ) {
 239   4              MonRdata = ReadI2C(MonAddress, MonIndex);
 240   4              Printf("\r\n==> Read %2xh:%2xh", (WORD)MonIndex, (WORD)MonRdata);
 241   4              MonIndex++;
 242   4            }
 243   3          }
 244   2        }
 245   1        else {
 246   2          if ( MonAddress == TW88I2CAddress ) {
 247   3            for ( ; cnt > 0; cnt-- ) {
 248   4              MonRdata = ReadTW88(MonIndex);
 249   4              MonIndex++;
 250   4            }
 251   3          }
 252   2          else {
 253   3            for ( ; cnt > 0; cnt-- ) {
 254   4              MonRdata = ReadI2C(MonAddress, MonIndex);
 255   4              MonIndex++;
 256   4            }
 257   3          }
 258   2        }
 259   1      }
 260          
 261          //-----------------------------------------------------------------------------
 262          
 263          void MonNewReadI2C(void)
 264          {
 265   1        BYTE Slave;
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 41  

 266   1      
 267   1        if( argc>=3 ) MonIndex = Asc2Bin( argv[2] );
 268   1        else  {
 269   2          Printf("   --> Missing parameter !!!");
 270   2          return;
 271   2        }
 272   1        Slave = Asc2Bin(argv[1]);
 273   1      
 274   1        if ( Slave == TW88I2CAddress )
 275   1          MonRdata = ReadTW88(MonIndex);
 276   1        else
 277   1          MonRdata = ReadI2C(Slave, MonIndex);
 278   1      
 279   1        if( echo )
 280   1          Printf("\r\n<R>%2x[%2x]=%2x", (WORD)Slave, (WORD)MonIndex, (WORD)MonRdata);
 281   1        
 282   1        MonWdata = MonRdata;
 283   1      }
 284          
 285          void MonNewWriteI2C(void)
 286          {
 287   1        BYTE Slave;
 288   1      
 289   1        if( argc<4 ) {
 290   2          Printf("   --> Missing parameter !!!");
 291   2          return;
 292   2        }
 293   1        
 294   1        MonIndex = Asc2Bin( argv[2] );
 295   1        MonWdata = Asc2Bin( argv[3] );
 296   1        Slave = Asc2Bin(argv[1]);
 297   1        
 298   1        if ( Slave == TW88I2CAddress ) {
 299   2          WriteTW88(MonIndex, MonWdata);
 300   2          MonRdata = ReadTW88(MonIndex);
 301   2        }
 302   1        else {
 303   2          WriteI2C(Slave, MonIndex, MonWdata);
 304   2          MonRdata = ReadI2C(Slave, MonIndex);
 305   2          }
 306   1      
 307   1        if( echo )
 308   1          Printf("\r\n<R>%2x[%2x]=%2x", (WORD)Slave, (WORD)MonIndex, (WORD)MonRdata);
 309   1      
 310   1      }
 311          
 312          void MonNewDumpI2C(void)
 313          {
 314   1        BYTE  ToMonIndex, Slave;
 315   1        WORD  i;
 316   1        
 317   1        if( argc>=2 ) MonIndex = Asc2Bin(argv[2]);
 318   1        if( argc>=3 ) ToMonIndex = Asc2Bin(argv[3]);
 319   1        Slave = Asc2Bin(argv[1]);
 320   1      
 321   1        if( echo ) {
 322   2          if ( Slave == TW88I2CAddress ) {
 323   3            for(i=MonIndex; i<=ToMonIndex; i++) {
 324   4              MonRdata = ReadTW88(i);
 325   4                  Printf("\r\n<R>%2x[%2x]=%2x", (WORD)Slave, (WORD)i, (WORD)MonRdata);
 326   4            }
 327   3          }
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 42  

 328   2          else {
 329   3            for(i=MonIndex; i<=ToMonIndex; i++) {
 330   4              MonRdata = ReadI2C(Slave, i);
 331   4                  Printf("\r\n<R>%2x[%2x]=%2x", (WORD)Slave, (WORD)i, (WORD)MonRdata);
 332   4            }
 333   3          }
 334   2        }
 335   1        else {
 336   2          if ( Slave == TW88I2CAddress ) {
 337   3            for(i=MonIndex; i<=ToMonIndex; i++) {
 338   4              MonRdata = ReadTW88(i);
 339   4            }
 340   3          }
 341   2          else {
 342   3            for(i=MonIndex; i<=ToMonIndex; i++) {
 343   4              MonRdata = ReadI2C(Slave, i);
 344   4            }
 345   3          }
 346   2        }
 347   1      }
 348          
 349          
 350          void MonWriteBit(void)
 351          {
 352   1        BYTE mask, i, FromBit, ToBit,  MonMask, val;
 353   1        BYTE Slave;
 354   1        // b 88 index startbit|endbit data
 355   1      
 356   1        if( argc<5 ) {
 357   2          Printf("   --> Missing parameter !!!");
 358   2          return;
 359   2        }
 360   1        Slave = Asc2Bin(argv[1]);
 361   1      
 362   1        MonIndex = Asc2Bin( argv[2] );
 363   1        FromBit  = (Asc2Bin( argv[3] ) >> 4) & 0x0f;
 364   1        ToBit  = Asc2Bin( argv[3] )  & 0x0f;
 365   1        MonMask  = Asc2Bin( argv[4] );
 366   1      
 367   1        if( FromBit<ToBit || FromBit>7 || ToBit>7) {
 368   2          Printf("\r\n   --> Wrong range of bit operation !!!");
 369   2          return;
 370   2        }
 371   1        
 372   1        mask = 0xff; 
 373   1        val=0x7f;
 374   1        for(i=7; i>FromBit; i--) {
 375   2          mask &= val;
 376   2          val = val>>1;
 377   2        }
 378   1      
 379   1        val=0xfe;
 380   1        for(i=0; i<ToBit; i++) {
 381   2          mask &= val;
 382   2          val = val<<1;
 383   2        }
 384   1      
 385   1        if ( Slave == TW88I2CAddress ) {
 386   2          MonRdata = ReadTW88(MonIndex);
 387   2          MonWdata = (MonRdata & (~mask)) | (MonMask & mask);
 388   2              
 389   2          WriteTW88(MonIndex, MonWdata);
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 43  

 390   2          MonRdata = ReadTW88(MonIndex);
 391   2        }
 392   1        else {
 393   2          MonRdata = ReadI2C(Slave, MonIndex);
 394   2          MonWdata = (MonRdata & (~mask)) | (MonMask & mask);
 395   2              
 396   2          WriteI2C(Slave, MonIndex, MonWdata);
 397   2          MonRdata = ReadI2C(Slave, MonIndex);
 398   2        }
 399   1      
 400   1        if( echo )
 401   1          Printf("\r\n<R>%2x[%2x]=%2x", (WORD)Slave, (WORD)MonIndex, (WORD)MonRdata);
 402   1      
 403   1      }
 404          
 405          #if defined( SUPPORT_PC ) || defined( SUPPORT_DTV )
              void PclkAccess(void)
              {
                DWORD pclk;
              
                if( argc > 2 ) {
                  Printf("   --> Too many parameter !!!");
                  return;
                }
              
                if( argc==2 ) {
                  pclk = (DWORD)a2i(argv[1]) * 1000000;
                  Printf("\r\n --> Set Pclk:  %ld Hz ", pclk);
              //    Printf("\r\n Not Suuport ");
                  ChangeInternPLL(pclk);
                }
                
                if( argc==1)   GetPPF();
                
              }
              #endif
 426          
 427          void MonTxDump(void)
 428          {
 429   1        WORD  count;
 430   1      
 431   1        if ( argc < 2 ) {
 432   2          Puts("\r\nInsufficient parameters...");
 433   2          return;
 434   2        }
 435   1        count = (WORD)a2i(argv[1]);
 436   1        do {
 437   2          RS_tx((count&0x1F)+0x20);
 438   2          count--;
 439   2        } while ( count != 0 );
 440   1      }
 441          
 442          //=============================================================================
 443          //      Help Message
 444          //=============================================================================
 445          void MonHelp(void)
 446          {
 447   1        Printf("\r\n=======================================================");
 448   1        Printf("\r\n>>>     Welcome to Techwell Monitor  Rev 1.00     <<<");
 449   1        Printf("\r\n=======================================================");
 450   1        Printf("\r\n   R ii             ; Read data");
 451   1        Printf("\r\n   W ii dd          ; Write data");
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 44  

 452   1        Printf("\r\n   D [ii] [cc]      ; Dump");
 453   1        Printf("\r\n   C aa             ; Change I2C address");
 454   1        Printf("\r\n   M ?              ; Current Input");
 455   1        Printf("\r\n   M dd             ; Change Input");
 456   1        Printf("\r\n   Access [0,1]     ; Program TW88xx Access OFF/ON");
 457   1        Printf("\r\n   AutoDetect [0,1] ; PC Automode OFF/ON");
 458   1        Printf("\r\n   PCAuto       ; RUN PC Auto Adjust");
 459   1        Printf("\r\n   Debug [0..255]   ; Debuging display level");
 460   1        Printf("\r\n   Echo On/Off      ; Terminal Echoing On/Off");
 461   1        Printf("\r\n   Delta            ; Init DeltaRGB Panel");
 462   1        Printf("\r\n   Delta w ii dh dl; SPI Write to DeltaRGB Panel");
 463   1        Printf("\r\n");
 464   1        Printf("\r\n=======================================================");
 465   1        Printf("\r\n");
 466   1      }
 467          
 468          //=============================================================================
 469          //
 470          //=============================================================================
 471          BYTE MonGetCommand(void)
 472          {
 473   1        static BYTE comment=0;
 474   1        static BYTE incnt=0, last_argc=0;
 475   1        BYTE i, ch;
 476   1        BYTE ret=0;
 477   1      
 478   1        if( !RS_ready() ) return 0;
 479   1        #ifdef Hs_debug
 480   1        ch = RS_rx();
 481   1        #endif
 482   1      
 483   1        //----- if comment, echo back and ignore -----
 484   1        if( comment ) {
 485   2          if( ch=='\r' || ch==0x1b ) comment = 0;
 486   2          else { 
 487   3            Mon_tx(ch);
 488   3            return 0;
 489   3          }
 490   2        }
 491   1        else if( ch==';' ) {
 492   2          comment = 1;
 493   2          Mon_tx(ch);
 494   2          return 0;
 495   2        }
 496   1      
 497   1        //=====================================
 498   1        switch( ch ) {
 499   2      
 500   2        case 0x1b:
 501   2          argc = 0;
 502   2          incnt = 0;
 503   2          comment = 0;
 504   2          Prompt();
 505   2          return 0;
 506   2      
 507   2        //--- end of string
 508   2        case '\r':
 509   2      
 510   2          if( incnt==0 ) {
 511   3            Prompt();
 512   3            break;
 513   3          }
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 45  

 514   2      
 515   2          monstr[incnt++] = '\0';
 516   2          argc=0;
 517   2      
 518   2          for(i=0; i<incnt; i++) if( monstr[i]!=' ' ) break;
 519   2      
 520   2          if( !monstr[i] ) {
 521   3            incnt = 0;
 522   3            comment = 0;
 523   3            Prompt();
 524   3            return 0;
 525   3          }
 526   2          argv[0] = &monstr[i];
 527   2          for(; i<incnt; i++) {
 528   3            if( monstr[i]==' ' || monstr[i]=='\0' ) {
 529   4              monstr[i]='\0';
 530   4                 //Printf("(%s) ",  argv[argc]);
 531   4              i++;
 532   4              while( monstr[i]==' ' ) i++;
 533   4              argc++;
 534   4              if( monstr[i] ){
 535   5                 argv[argc] = &monstr[i];
 536   5              }
 537   4            }
 538   3          }
 539   2      
 540   2          ret = 1;
 541   2          last_argc = argc;
 542   2          incnt = 0;
 543   2          
 544   2          break;
 545   2      
 546   2        //--- repeat command
 547   2        case '/':
 548   2          argc = last_argc;
 549   2          ret = 1;
 550   2          break;
 551   2      
 552   2        //--- back space
 553   2        case 0x08:
 554   2          if( incnt ) {
 555   3            incnt--;
 556   3            Mon_tx(ch);
 557   3            Mon_tx(' ');
 558   3            Mon_tx(ch);
 559   3          }
 560   2          break;
 561   2      
 562   2        //--- decreamental write
 563   2        case ',':
 564   2          if( incnt ) {
 565   3            Mon_tx(ch);
 566   3            monstr[incnt++] = ch;
 567   3          }
 568   2          else
 569   2            MonIncDecI2C(0);
 570   2          break;
 571   2      
 572   2        case '<':
 573   2          if( incnt ) {
 574   3            Mon_tx(ch);
 575   3            monstr[incnt++] = ch;
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 46  

 576   3          }
 577   2          else
 578   2            MonIncDecI2C(10);
 579   2          break;
 580   2        //--- increamental write
 581   2        case '.':
 582   2          if( incnt ) {
 583   3            Mon_tx(ch);
 584   3            monstr[incnt++] = ch;
 585   3          }
 586   2          else
 587   2            MonIncDecI2C(1);
 588   2          break;
 589   2      
 590   2        case '>':
 591   2          if( incnt ) {
 592   3            Mon_tx(ch);
 593   3            monstr[incnt++] = ch;
 594   3          }
 595   2          else
 596   2            MonIncDecI2C(11);
 597   2          break;
 598   2      
 599   2        default:
 600   2          Mon_tx(ch);
 601   2          monstr[incnt++] = ch;
 602   2          break;
 603   2        }
 604   1      
 605   1        if( ret ) {
 606   2          comment = 0;
 607   2          last_argc = argc;
 608   2          return ret;
 609   2        }
 610   1        else {
 611   2          return ret;
 612   2        }
 613   1      }
 614          
 615          //*****************************************************************************
 616          //        Monitoring Command
 617          //*****************************************************************************
 618          #ifdef  Hs_debug
 619          void Monitor(void)
 620          {
 621   1        if( !MonGetCommand() ) return;
 622   1      
 623   1        //--------------------------------------------------
 624   1        // Check Indirect command
 625   1        /*
 626   1        if( !stricmp( argv[0], "I" ) )      indirect=1; 
 627   1        else if( !stricmp( argv[0], "O" ) )   indirect=1; 
 628   1      
 629   1        else if( !stricmp( argv[0], "," ) )   indirect=0; 
 630   1        else if( !stricmp( argv[0], ">" ) )   indirect=0; 
 631   1        else if( !stricmp( argv[0], "<" ) )   indirect=0; 
 632   1        else if( !stricmp( argv[0], "." ) )   indirect=0; 
 633   1        else  indirect=0; 
 634   1        */
 635   1        indirect = 0;
 636   1      
 637   1        //---------------- Write Register -------------------
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 47  

 638   1        if( !stricmp( argv[0], "W" ) ) {
 639   2          MonWriteI2C();
 640   2        }
 641   1        else if( !stricmp( argv[0], ")" ) ) {
 642   2          indirect=0;
 643   2          MonNewWriteI2C();
 644   2        }
 645   1        /*
 646   1        else if( !stricmp( argv[0], "O" ) ) {     // inderect addressing for 8806
 647   1          MonIndex = Asc2Bin( argv[1] );
 648   1          MonWdata = Asc2Bin( argv[2] );
 649   1          WriteI2C(MonAddress, 0xc5, MonIndex);
 650   1          WriteI2C(MonAddress, 0xc6, MonWdata);
 651   1          MonRdata = ReadI2C(MonAddress, 0xc6);
 652   1          Printf("\r\n==> Read %2xh:%2xh", (WORD)MonIndex, (WORD)MonRdata);
 653   1        }
 654   1        */
 655   1        //---------------- Read Register --------------------
 656   1        else if ( !stricmp( argv[0], "R" ) ) {
 657   2          MonReadI2C();
 658   2        }
 659   1        else if ( !stricmp( argv[0], "(" ) ) {
 660   2          indirect=0;
 661   2          MonNewReadI2C();
 662   2        }
 663   1        /*
 664   1        else if( !stricmp( argv[0], "i" ) ) {
 665   1          MonIndex = Asc2Bin( argv[1] );
 666   1          WriteI2C(MonAddress, 0xc5, MonIndex);
 667   1          MonRdata = ReadI2C(MonAddress, 0xc6);
 668   1          Printf("\r\n==> Read %2xh:%2xh", (WORD)MonIndex, (WORD)MonRdata);
 669   1      
 670   1        }
 671   1        */
 672   1        //---------------- Dump Register --------------------
 673   1        else if( !stricmp( argv[0], "D" ) ) {
 674   2          Puts("\r\ndump start");
 675   2          MonDumpI2C();
 676   2        }
 677   1        else if( !stricmp( argv[0], "&" ) ) {
 678   2          indirect=0;
 679   2          MonNewDumpI2C();
 680   2        }
 681   1      
 682   1        //---------------- Bit Operation --------------------
 683   1        else if( !stricmp( argv[0], "B" ) ) {// Write bits - B AA II bb DD
 684   2          MonWriteBit();
 685   2        }
 686   1        //---------------- AD5110 CMD --------------------
 687   1        else if( !stricmp( argv[0], "ADW" ) ) {
 688   2          WriteAD5110(Asc2Bin(argv[1]),Asc2Bin(argv[2]));
 689   2          Printf("\r\nAD5110 Write addr=%02x  data=%02x",(WORD)Asc2Bin(argv[1]),(WORD)Asc2Bin(argv[2]));
 690   2        }
 691   1        else if( !stricmp( argv[0], "ADR" ) ) {
 692   2          ReadAD5110(Asc2Bin(argv[1]));
 693   2          Printf("\r\nAD5110 Read addr=%02x  data=%02x",(WORD)Asc2Bin(argv[1]),(WORD)ReadAD5110(Asc2Bin(argv[1])))
             -;
 694   2        }
 695   1      
 696   1        /*  no indirect addressing in TW8816
 697   1          //---------------------------------------------------
 698   1        else if( !stricmp( argv[0], "@" ) ) { // Indirect address bit access
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 48  

 699   1      
 700   1                BYTE Slave, mask, FromBit, ToBit,  MonMask, val,i;
 701   1                // @ 8a iaddr idata index  startbit|endbit  data
 702   1                // 0  1   2    3     4     5                 6
 703   1      
 704   1                if( argc<7 ) {
 705   1                  Printf("   --> Missing parameter !!!");
 706   1                  return;
 707   1                }
 708   1      
 709   1                Slave = Asc2Bin(argv[1]);
 710   1                
 711   1                FromBit = Asc2Bin( argv[5] );
 712   1                FromBit  = ( FromBit >> 4) & 0x0f;
 713   1                ToBit = Asc2Bin( argv[5] );
 714   1                ToBit  =  ToBit & 0x0f;
 715   1                MonMask  = Asc2Bin( argv[6] );
 716   1      
 717   1                if( FromBit<ToBit || FromBit>7 || ToBit>7) {
 718   1                  Printf("\r\n   --> Wrong range of bit operation !!!");
 719   1                  return;
 720   1                }
 721   1        
 722   1                mask = 0xff; 
 723   1                val=0x7f;
 724   1                for(i=7; i>FromBit; i--) {
 725   1                  mask &= val;
 726   1                  val = val>>1;
 727   1                }
 728   1      
 729   1                val=0xfe;
 730   1                for(i=0; i<ToBit; i++) {
 731   1                  mask &= val;
 732   1                  val = val<<1;
 733   1                }
 734   1      
 735   1                // @ 8a iaddr idata index  startbit|endbit  data
 736   1                // 0  1   2    3     4     5                 6
 737   1                MonIndex = Asc2Bin(argv[2]);
 738   1                MonWdata = Asc2Bin(argv[4]);
 739   1                WriteI2C( Slave, MonIndex, MonWdata);
 740   1      
 741   1                MonRdata = ReadI2C(Slave, Asc2Bin( argv[3]));
 742   1                MonWdata = (MonRdata & (~mask)) | (MonMask & mask);
 743   1                MonIndex = Asc2Bin(argv[3]);
 744   1                WriteI2C(Slave, MonIndex, MonWdata);
 745   1      
 746   1                MonRdata = ReadI2C(Slave, MonIndex);
 747   1      
 748   1                Printf("\r\n<R>%2x[%2x]=%2x", (WORD)Slave, (WORD)MonIndex, (WORD)MonRdata);
 749   1      
 750   1        }
 751   1        //------------------------------------------------------------------        
 752   1        else if( !stricmp( argv[0], "!" ) ) //  Indirect address write access
 753   1        {
 754   1                BYTE Slave;
 755   1                // @ 8a iaddr idata index data
 756   1                if( argc<6 ) {
 757   1                  Printf("   --> Missing parameter !!!");
 758   1                  return;
 759   1                }
 760   1      
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 49  

 761   1                Slave = Asc2Bin(argv[1]);
 762   1      
 763   1                MonIndex = Asc2Bin(argv[2]);
 764   1                MonWdata = Asc2Bin(argv[4]);
 765   1                WriteI2C(Slave, MonIndex, MonWdata);
 766   1      
 767   1                MonIndex = Asc2Bin(argv[3]);
 768   1                MonWdata = Asc2Bin(argv[5]);
 769   1                WriteI2C(Slave, MonIndex, MonWdata);
 770   1      
 771   1                MonRdata = ReadI2C(Slave, MonIndex);
 772   1      
 773   1                Printf("\r\n<R>%2x[%2x]=%2x", (WORD)Slave, (WORD)MonIndex, (WORD)MonRdata);
 774   1      
 775   1        }
 776   1        */    
 777   1      
 778   1        //---------------- Change I2C -----------------------
 779   1        else if( !stricmp( argv[0], "C" ) ) {
 780   2          MonAddress = Asc2Bin( argv[1] );
 781   2        }
 782   1      
 783   1        //---------------- Help -----------------------------
 784   1        else if( !stricmp( argv[0], "H" ) || !stricmp( argv[0], "HELP" ) || !stricmp( argv[0], "?" ) ) {
 785   2          MonHelp();
 786   2      
 787   2        }
 788   1        //---------------------------------------------------
 789   1        else if( !stricmp( argv[0], "*" ) ) {
 790   2            
 791   2              if( argc==1 ) {
 792   3                Printf("\r\n  * 0 : Program default Loader");
 793   3                Printf("\r\n  * 1 : Program external Loader");
 794   3                Printf("\r\n  * 2 : Execute Loader");
 795   3              }
 796   2              else { 
 797   3                BYTE mode;
 798   3                mode = Asc2Bin(argv[1]);
 799   3                //Loader(mode);
 800   3              }
 801   2        }
 802   1      
 803   1        //---------------------------------------------------
 804   1      #if defined( SUPPORT_PC ) || defined( SUPPORT_DTV )
                else if( !stricmp( argv[0], "PCLK" ) ) {
                  PclkAccess();     
                }
              #endif  
 809   1      
 810   1        //---------------------------------------------------
 811   1        else if( !stricmp( argv[0], "POWER" ) ) {
 812   2          //LCDPower();
 813   2        }
 814   1      
 815   1        //---------------------------------------------------
 816   1      #if defined( SUPPORT_PC ) || defined( SUPPORT_DTV )
                else if( !stricmp( argv[0], "M" ) ) {
                  if( argc==2 ) {
                    if( !stricmp( argv[1], "?" ) ) {
                      BYTE i;
                      Printf("\r\nCurrent Input:%d \r\n", (WORD)InputSelection);
                      for(i=1; struct_InputSelection[i].Id!=0 ; i++)
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 50  

                          Printf("%s:%d  ",struct_InputSelection[i].Name,(WORD)struct_InputSelection[i].Id );
                      Printf("\r\n");
                    }
                    else
                      ChangeInput(Asc2Bin( argv[1] ));
                  }
                  else
                    ChangeInput(GetNextInputSelection());
                } 
                //---------------------------------------------------
                else if( !stricmp( argv[0], "ACCESS" ) ) {
                  if( argc==2 ) {
                    AccessEnable = Asc2Bin(argv[1]);
                  }
                  Printf("\r\nTW88xx AUTO ACCESS = %d", (WORD)AccessEnable);
                }
                #if 0
                //---------------------------------------------------
                else if( !stricmp( argv[0], "AUTODETECT" ) ) {
                  if( argc==2 ) {
                    AutoDetect = Asc2Bin(argv[1]);
                  }
                  Printf("\r\nPC Auto Detect = %d", (WORD)AutoDetect);
                } 
                #endif
                //---------------------------------------------------
                else if( !stricmp( argv[0], "PCAUTO" ) ) {
                  Puts("\r\nPC Auto Measurement");
                  AutoAdjust();
                } 
                //---------------------------------------------------
                else if( !stricmp( argv[0], "PCCOLOR" ) ) {
                  Puts("\r\nPC Color Auto Measurement");
                  AutoColorAdjust();
                } 
                //---------------------------------------------------
                else if( !stricmp( argv[0], "7" ) ) {
                  Puts("\r\nGet HPN / VPN");
                  GetHpnVpn(DebugLevel);
                } 
              #endif
 864   1        //---------------- Debug Level ---------------------
 865   1        else if ( !stricmp( argv[0], "DEBUG" ) ) {
 866   2          if( argc==2 ) {
 867   3            DebugLevel = Asc2Bin(argv[1]);
 868   3            SaveDebugLevelEE(DebugLevel);
 869   3          }
 870   2          Printf("\r\nDebug Level = %2x", (WORD)DebugLevel);
 871   2        }
 872   1        
 873   1        //---------------- Display on/off -------------------
 874   1        else if ( !stricmp( argv[0], "echo" ) ) {
 875   2          if( !stricmp( argv[1], "off" ) ) {
 876   3            echo = 0;
 877   3            Printf("\r\necho off");
 878   3          }
 879   2          else {
 880   3            echo = 1;
 881   3            Printf("\r\necho on");
 882   3          }
 883   2        }
 884   1        //---------------- RESET/ TEST / POWER_DOWN -------------------
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 51  

 885   1        else if ( !stricmp( argv[0], "reset" ) ) {
 886   2          if( !stricmp( argv[1], "0" ) ) {
 887   3            P3_4 = 0;
 888   3            Printf("\r\nTW_reset_pin => 0");
 889   3          }
 890   2          else if( !stricmp( argv[1], "1" ) ) {
 891   3            P3_4 = 1;
 892   3            Printf("\r\nTW_reset_pin => 1");
 893   3          }
 894   2          else {
 895   3            Printf("\r\nTW_reset_pin = %d", (WORD)P3_4);
 896   3          }
 897   2        }
 898   1        else if ( !stricmp( argv[0], "test" ) ) {
 899   2          if( !stricmp( argv[1], "0" ) ) {
 900   3            //P0_7 = 0;
 901   3            Printf("\r\nTW_test_pin => 0");
 902   3          }
 903   2          else if( !stricmp( argv[1], "1" ) ) {
 904   3            //P0_7 = 1;
 905   3            Printf("\r\nTW_test_pin => 1");
 906   3          }
 907   2          else {
 908   3            Printf("\r\nTW_test_pin = %d", (WORD)P0_7);
 909   3          }
 910   2        }
 911   1        else if ( !stricmp( argv[0], "pdn" ) ) {
 912   2          if( !stricmp( argv[1], "0" ) ) {
 913   3            P3_7 = 0;
 914   3            Printf("\r\nTW_PowerDown_pin => 0");
 915   3          }
 916   2          else if( !stricmp( argv[1], "1" ) ) {
 917   3            P3_7 = 1;
 918   3            Printf("\r\nTW_PowerDown_pin => 1");
 919   3          }
 920   2          else {
 921   3            Printf("\r\nTW_PowerDown_pin = %d", (WORD)P3_7);
 922   3          }
 923   2        }
 924   1        //---------------- OSD test for parallel -----------------------------------
 925   1        else if( !stricmp( argv[0], "OSD" ) ) {
 926   2          if( !stricmp( argv[1], "logo" ) ) {
 927   3      //      DisplayLogo();
 928   3          }
 929   2          else if( !stricmp( argv[1], "end" ) ) {
 930   3              Puts("\r\nIf you'd like to exit, press any Key....");
 931   3            while ( !RS_ready() ){
 932   4              P2 = ReadTW88( 0x95 );
 933   4            }
 934   3          }
 935   2          else if( !stricmp( argv[1], "input" ) ) {
 936   3      //      DisplayInput();
 937   3          }
 938   2          else if( !stricmp( argv[1], "off" ) ) {
 939   3      ////      ShowOSDWindowAll(OFF);
 940   3          }
 941   2          //else if( !stricmp( argv[1], "grid" ) ) {
 942   2          //  DisplayGrid();
 943   2          //}
 944   2      #if 0   
              #ifndef BANKING
                  else if( !stricmp( argv[1], "cone" ) ) {
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 52  

                    DisplayCone();
                    DisplayJapanese();
                  }
              #endif    
              #endif
 952   2          #ifdef BANKING
                  else if( !stricmp( argv[1], "agrid" ) ) {
                      BYTE i, j, k;
                      Puts("\r\nIf you'd like to exit, press any Key....");
                    j = 0;
                    k = 0;
                    DisplayMessage();
                    if ( argc == 3 )
                      i = Asc2Bin(argv[2]);
                    else i = 0;
                    while ( !RS_ready() ){
                      if ( j < 9 )
                        DisplayGridBank0(j);
                      else
                        DisplayGridBank1(j);
                      if ( i )
                        delay(10*i);
                      if (k==0) {
                        if (j==16) {
                          k = 1;
                          j--;
                        }
                        else j++;
                      }
                      else {
                        if ( j==0 ) {
                          k = 0;
                          j++;
                        }
                        else j--;
                      }
                    }
                  }
                  else if( !stricmp( argv[1], "cgrid" ) ) {
                      BYTE i, j, k;
                      Puts("\r\nIf you'd like to exit, press any Key....");
                    j = 0;
                    k = 0;
                    DisplayChinese();
                    if ( argc == 3 )
                      i = Asc2Bin(argv[2]);
                    else i = 0;
                    while ( !RS_ready() ){
                      if ( j < 9 )
                        DisplayGridBank0(j);
                      else
                        DisplayGridBank1(j);
                      if ( i )
                        delay(10*i);
                      if (k==0) {
                        if (j==16) {
                          k = 1;
                          j--;
                        }
                        else j++;
                      }
                      else {
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 53  

                        if ( j==0 ) {
                          k = 0;
                          j++;
                        }
                        else j--;
                      }
                    }
                  }
                  else if( !stricmp( argv[1], "jgrid" ) ) {
                      BYTE i, j, k;
                      Puts("\r\nIf you'd like to exit, press any Key....");
                    j = 0;
                    k = 0;
                    DisplayJapanese();
                    if ( argc == 3 )
                      i = Asc2Bin(argv[2]);
                    else i = 0;
                    while ( !RS_ready() ){
                      if ( j < 9 )
                        DisplayGridBank0(j);
                      else
                        DisplayGridBank1(j);
                      if ( i )
                        delay(10*i);
                      if (k==0) {
                        if (j==16) {
                          k = 1;
                          j--;
                        }
                        else j++;
                      }
                      else {
                        if ( j==0 ) {
                          k = 0;
                          j++;
                        }
                        else j--;
                      }
                    }
                  }
                  else if( !stricmp( argv[1], "kgrid" ) ) {
                      BYTE i, j, k;
                      Puts("\r\nIf you'd like to exit, press any Key....");
                    j = 0;
                    k = 0;
                    DisplayKorean();
                    if ( argc == 3 )
                      i = Asc2Bin(argv[2]);
                    else i = 0;
                    while ( !RS_ready() ){
                      if ( j < 9 )
                        DisplayGridBank0(j);
                      else
                        DisplayGridBank1(j);
                      if ( i )
                        delay(10*i);
                      if (k==0) {
                        if (j==16) {
                          k = 1;
                          j--;
                        }
                        else j++;
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 54  

                      }
                      else {
                        if ( j==0 ) {
                          k = 0;
                          j++;
                        }
                        else j--;
                      }
                    }
                  }
                  #endif
1082   2        }
1083   1        //---------------- TELI ML070I Test function -----------------------------------
1084   1        else if( !stricmp( argv[0], "PWM0" ) ) {
1085   2          SET_PWM(_BL_PWM, Asc2Bin(argv[1]));
1086   2          Puts("\r\nSET PWMP1.4");
1087   2        }
1088   1        else if( !stricmp( argv[0], "PWM1" ) ) {
1089   2          SET_PWM(_CHG_CURR, Asc2Bin(argv[1]));
1090   2          Puts("\r\nSET PWMP1.5");
1091   2        }
1092   1        else if( !stricmp( argv[0], "PWM" ) ) {
1093   2          if(Asc2Bin(argv[1]))
1094   2            {
1095   3            SET_PWM(_RUN_PWM, _RUN_PWM);
1096   3            Puts("\r\nPOEN PWM");
1097   3            }
1098   2          else
1099   2            {
1100   3            SET_PWM(_STOP_PWM, _STOP_PWM);
1101   3            Puts("\r\nSTOP PWM");
1102   3            }
1103   2        }
1104   1        //---------------- serial tx test with some number -----------------------------------
1105   1        else if( !stricmp( argv[0], "TX" ) ) {
1106   2          MonTxDump();
1107   2        }
1108   1        //---------------- OSD FONTtest for parallel -----------------------------------
1109   1        else if( !stricmp( argv[0], "FONT" ) ) {
1110   2          if ( !stricmp( argv[1], "RAM" ) ) {
1111   3      //      DisplayRAMFont( Asc2Bin(argv[2]) );
1112   3          }
1113   2          else if ( !stricmp( argv[1], "ROM" ) ) {
1114   3          //  DisplayROMFont(Asc2Bin(argv[2]));
1115   3          }
1116   2          else {
1117   3            Puts("\r\n Font ROM # or Font RAM # for testing");
1118   3          }
1119   2        }
1120   1        
1121   1        //---------------- Delta RGB Panel Test -------------------------
1122   1        #ifdef SUPPORT_DELTA_RGB
              
                else if( !stricmp( argv[0], "delta" ) ) {
                  if( argc==1 ) DeltaRGBPanelInit();
                  else {
                    
                    if( !stricmp( argv[1], "w" ) ) {
              
                      WORD val;
                      val= Asc2Bin(argv[3])<<8 | Asc2Bin(argv[4]);
                      Printf("\r\n SPI Write: Addr:%2x  Data:%4x", (WORD)Asc2Bin(argv[2]), val);
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 55  

                      WriteSPI(Asc2Bin(argv[2]), val );
                    }
                    else if( !stricmp( argv[1], "r" ) ) {
                      WORD val;
                      val = ReadSPI(Asc2Bin(argv[2]));
                      Printf("\r\n SPI Read: Addr:%2x  Data:%4x", (WORD)Asc2Bin(argv[2]), val);
                    }
                  }
                }
                #endif
1143   1        //----------------------------------------------------
1144   1        else {
1145   2          Printf("\r\nInvalid command...");
1146   2        }
1147   1      
1148   1      
1149   1        Prompt();
1150   1      
1151   1      
1152   1      }
1153          #endif
1154          
1155          //-------------------------------------------------------------------------
1156          
1157          
1158          #endif
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 56  

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION Com012F (BEGIN)
0000         L?0304:
0000 7A00        R     MOV     R2,#HIGH ?SC_95
0002 7900        R     MOV     R1,#LOW ?SC_95
0004         L?0305:
0004 7BFF              MOV     R3,#0FFH
0006 900000      R     MOV     DPTR,#MonIndex
0009 E0                MOVX    A,@DPTR
000A FF                MOV     R7,A
000B 900000      E     MOV     DPTR,#?_Printf?BYTE+03H
000E E4                CLR     A
000F F0                MOVX    @DPTR,A
0010 A3                INC     DPTR
0011 EF                MOV     A,R7
0012 F0                MOVX    @DPTR,A
0013 900000      R     MOV     DPTR,#MonRdata
0016         L?0306:
0016 E0                MOVX    A,@DPTR
0017 FF                MOV     R7,A
0018 E4                CLR     A
0019         L?0307:
0019 900000      E     MOV     DPTR,#?_Printf?BYTE+05H
001C F0                MOVX    @DPTR,A
001D A3                INC     DPTR
001E EF                MOV     A,R7
001F F0                MOVX    @DPTR,A
0020 22                RET     
0021         L?0315:
0021 7BFF              MOV     R3,#0FFH
0023 7A00        R     MOV     R2,#HIGH ?SC_152
0025 7900        R     MOV     R1,#LOW ?SC_152
0027         L?0316:
0027 E0                MOVX    A,@DPTR
0028 900000      E     MOV     DPTR,#?_Printf?BYTE+03H
002B         L?0317:
002B FF                MOV     R7,A
002C E4                CLR     A
002D F0                MOVX    @DPTR,A
002E A3                INC     DPTR
002F EF                MOV     A,R7
0030 F0                MOVX    @DPTR,A
0031 22                RET     
0032         L?0320:
0032 900000      R     MOV     DPTR,#argv+06H
0035 120000      E     LCALL   ?C?PLDXDATA
0038 120000      R     LCALL   _Asc2Bin
003B 900000      R     MOV     DPTR,#MonIndex
003E EF                MOV     A,R7
003F         L?0321:
003F F0                MOVX    @DPTR,A
0040         L?0322:
0040 900000      R     MOV     DPTR,#argv+09H
0043         L?0323:
0043 120000      E     LCALL   ?C?PLDXDATA
0046 020000      R     LJMP    _Asc2Bin
0049         L?0324:
0049         L?0325:
0049 900000      R     MOV     DPTR,#ToMonIndex
004C E0                MOVX    A,@DPTR
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 57  

004D FF                MOV     R7,A
004E 900000      R     MOV     DPTR,#i
0051 E0                MOVX    A,@DPTR
0052 FC                MOV     R4,A
0053 A3                INC     DPTR
0054 E0                MOVX    A,@DPTR
0055 FD                MOV     R5,A
0056 D3                SETB    C
0057 9F                SUBB    A,R7
0058 EC                MOV     A,R4
0059 9400              SUBB    A,#00H
005B 22                RET     
005C         L?0327:
005C         L?0328:
005C D3                SETB    C
005D 900000      R     MOV     DPTR,#cnt+01H
0060 E0                MOVX    A,@DPTR
0061 9400              SUBB    A,#00H
0063 900000      R     MOV     DPTR,#cnt
0066 E0                MOVX    A,@DPTR
0067 6480              XRL     A,#080H
0069 9480              SUBB    A,#080H
006B 22                RET     
006C         L?0329:
006C         L?0330:
006C 900000      R     MOV     DPTR,#MonIndex
006F E0                MOVX    A,@DPTR
0070 900000      R     MOV     DPTR,#i
0073         L?0331:
0073 FF                MOV     R7,A
0074 E4                CLR     A
0075 F0                MOVX    @DPTR,A
0076 A3                INC     DPTR
0077 EF                MOV     A,R7
0078 F0                MOVX    @DPTR,A
0079 22                RET     
007A         L?0332:
007A         L?0333:
007A 7400        R     MOV     A,#LOW monstr
007C 2E                ADD     A,R6
007D         L?0334:
007D F582              MOV     DPL,A
007F E4                CLR     A
0080 3400        R     ADDC    A,#HIGH monstr
0082 F583              MOV     DPH,A
0084 22                RET     
0085         L?0336:
0085 900000      R     MOV     DPTR,#MonIndex
0088         L?0337:
0088 E0                MOVX    A,@DPTR
0089 FD                MOV     R5,A
008A 900000      R     MOV     DPTR,#MonWdata
008D E0                MOVX    A,@DPTR
008E FB                MOV     R3,A
008F 22                RET     
0090         L?0338:
0090         L?0339:
0090 900000      R     MOV     DPTR,#MonIndex
0093 E0                MOVX    A,@DPTR
0094 FD                MOV     R5,A
0095 7F8A              MOV     R7,#08AH
0097 22                RET     
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 58  

0098         L?0340:
0098         L?0341:
0098 900000      R     MOV     DPTR,#argc
009B E0                MOVX    A,@DPTR
009C C3                CLR     C
009D 9402              SUBB    A,#02H
009F 7480              MOV     A,#080H
00A1 9480              SUBB    A,#080H
00A3 22                RET     
00A4         L?0342:
00A4         L?0343:
00A4 900000      R     MOV     DPTR,#argc
00A7 E0                MOVX    A,@DPTR
00A8 C3                CLR     C
00A9 9403              SUBB    A,#03H
00AB 7480              MOV     A,#080H
00AD 9480              SUBB    A,#080H
00AF 22                RET     
00B0         L?0345:
00B0 900000      R     MOV     DPTR,#MonRdata
00B3 EF                MOV     A,R7
00B4 F0                MOVX    @DPTR,A
00B5 900000      R     MOV     DPTR,#MonIndex
00B8 E0                MOVX    A,@DPTR
00B9 04                INC     A
00BA F0                MOVX    @DPTR,A
00BB 900000      R     MOV     DPTR,#cnt
00BE         L?0346:
00BE 74FF              MOV     A,#0FFH
00C0 F5F0              MOV     B,A
00C2 020000      E     LJMP    ?C?IILDX
00C5         L?0347:
00C5         L?0348:
00C5 900000      R     MOV     DPTR,#Slave
00C8         L?0349:
00C8 E0                MOVX    A,@DPTR
00C9 FF                MOV     R7,A
00CA 900000      R     MOV     DPTR,#MonIndex
00CD E0                MOVX    A,@DPTR
00CE FD                MOV     R5,A
00CF 22                RET     
00D0         L?0351:
00D0 900000      R     MOV     DPTR,#MonRdata
00D3 EF                MOV     A,R7
00D4 F0                MOVX    @DPTR,A
00D5 900000      R     MOV     DPTR,#i
00D8         L?0352:
00D8 E4                CLR     A
00D9 75F001            MOV     B,#01H
00DC 020000      E     LJMP    ?C?IILDX
00DF         L?0354:
00DF         L?0355:
00DF E4                CLR     A
00E0 FF                MOV     R7,A
00E1 33                RLC     A
00E2 900000      E     MOV     DPTR,#?_Printf?BYTE+03H
00E5 CF                XCH     A,R7
00E6 F0                MOVX    @DPTR,A
00E7 A3                INC     DPTR
00E8 EF                MOV     A,R7
00E9 F0                MOVX    @DPTR,A
00EA 22                RET     
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 59  

00EB         L?0356:
00EB         L?0357:
00EB 7BFF              MOV     R3,#0FFH
00ED 7A00        R     MOV     R2,#HIGH ?SC_30
00EF 7900        R     MOV     R1,#LOW ?SC_30
00F1 22                RET     
00F2         L?0358:
00F2         L?0359:
00F2 E500        R     MOV     A,MonAddress
00F4 648A              XRL     A,#08AH
00F6 900000      R     MOV     DPTR,#MonIndex
00F9 22                RET     
00FA         L?0361:
00FA 900000      R     MOV     DPTR,#i
00FD E0                MOVX    A,@DPTR
00FE 2400        R     ADD     A,#LOW monstr
0100 F9                MOV     R1,A
0101 E4                CLR     A
0102 3400        R     ADDC    A,#HIGH monstr
0104 FA                MOV     R2,A
0105 7B01              MOV     R3,#01H
0107 22                RET     
0108         L?0363:
0108 900000      R     MOV     DPTR,#str
010B         L?0364:
010B 120000      E     LCALL   ?C?PLDXDATA
010E 020000      E     LJMP    ?C?CLDPTR
0111         L?0365:
0111 900000      R     MOV     DPTR,#incnt
0114 E0                MOVX    A,@DPTR
0115 FF                MOV     R7,A
0116 900000      R     MOV     DPTR,#i
0119 E0                MOVX    A,@DPTR
011A FE                MOV     R6,A
011B C3                CLR     C
011C 9F                SUBB    A,R7
011D 22                RET     
011E         L?0366:
011E         L?0367:
011E 900000      R     MOV     DPTR,#MonIndex
0121 E0                MOVX    A,@DPTR
0122 FD                MOV     R5,A
0123 AF00        R     MOV     R7,MonAddress
0125 22                RET     
0126         L?0368:
0126         L?0369:
0126 900000      R     MOV     DPTR,#i
0129 E0                MOVX    A,@DPTR
012A 04                INC     A
012B F0                MOVX    @DPTR,A
012C 22                RET     
012D         L?0370:
012D F0                MOVX    @DPTR,A
012E 900000      R     MOV     DPTR,#argc
0131 E0                MOVX    A,@DPTR
0132 900000      R     MOV     DPTR,#last_argc
0135 F0                MOVX    @DPTR,A
0136 22                RET     
             ; FUNCTION Com012F (END)

             ; FUNCTION Prompt (BEGIN)
                                           ; SOURCE LINE # 52
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 60  

                                           ; SOURCE LINE # 53
                                           ; SOURCE LINE # 55
0000 E500        R     MOV     A,MonAddress
0002 648A              XRL     A,#08AH
0004 7BFF              MOV     R3,#0FFH
0006 7009              JNZ     ?C0001
                                           ; SOURCE LINE # 56
0008 7A00        R     MOV     R2,#HIGH ?SC_0
000A 7900        R     MOV     R1,#LOW ?SC_0
000C 900000      E     MOV     DPTR,#?_Printf?BYTE+03H
000F 8008              SJMP    ?C0249
0011         ?C0001:
                                           ; SOURCE LINE # 58
0011 7A00        R     MOV     R2,#HIGH ?SC_17
0013 7900        R     MOV     R1,#LOW ?SC_17
0015 900000      E     MOV     DPTR,#?_Printf?BYTE+03H
0018 E4                CLR     A
0019         ?C0249:
0019 F0                MOVX    @DPTR,A
001A A3                INC     DPTR
001B E500        R     MOV     A,MonAddress
001D F0                MOVX    @DPTR,A
001E 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 59
0021         ?C0003:
0021 22                RET     
             ; FUNCTION Prompt (END)

             ; FUNCTION _Mon_tx (BEGIN)
                                           ; SOURCE LINE # 61
;---- Variable 'ch' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 62
                                           ; SOURCE LINE # 63
0000 020000      E     LJMP    _RS_tx
             ; FUNCTION _Mon_tx (END)

             ; FUNCTION _a2i (BEGIN)
                                           ; SOURCE LINE # 71
0000 900000      R     MOV     DPTR,#str
0003 120000      E     LCALL   ?C?PSTXDATA
                                           ; SOURCE LINE # 72
                                           ; SOURCE LINE # 73
0006 900000      R     MOV     DPTR,#num
0009 120000      E     LCALL   ?C?LSTKXDATA
000C 00                DB      00H
000D 00                DB      00H
000E 00                DB      00H
000F 00                DB      00H
                                           ; SOURCE LINE # 76
0010 E4                CLR     A
0011 900000      R     MOV     DPTR,#i
0014 F0                MOVX    @DPTR,A
0015         ?C0005:
                                           ; SOURCE LINE # 77
0015 120000      R     LCALL   L?0363
0018 6050              JZ      ?C0006
001A 6420              XRL     A,#020H
001C 604C              JZ      ?C0006
                                           ; SOURCE LINE # 78
001E E4                CLR     A
001F 7F0A              MOV     R7,#0AH
0021 FE                MOV     R6,A
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 61  

0022 FD                MOV     R5,A
0023 FC                MOV     R4,A
0024 900000      R     MOV     DPTR,#num
0027 120000      E     LCALL   ?C?LLDXDATA0
002A 120000      E     LCALL   ?C?LMUL
002D A804              MOV     R0,AR4
002F C005              PUSH    AR5
0031 C006              PUSH    AR6
0033 C007              PUSH    AR7
0035 120000      R     LCALL   L?0363
0038 FF                MOV     R7,A
0039 E4                CLR     A
003A FC                MOV     R4,A
003B FD                MOV     R5,A
003C FE                MOV     R6,A
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
0043 120000      E     LCALL   ?C?LADD
0046 EF                MOV     A,R7
0047 24D0              ADD     A,#0D0H
0049 FF                MOV     R7,A
004A EE                MOV     A,R6
004B 34FF              ADDC    A,#0FFH
004D FE                MOV     R6,A
004E ED                MOV     A,R5
004F 34FF              ADDC    A,#0FFH
0051 FD                MOV     R5,A
0052 EC                MOV     A,R4
0053 34FF              ADDC    A,#0FFH
0055 FC                MOV     R4,A
0056 900000      R     MOV     DPTR,#num
0059 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 79
005C 900000      R     MOV     DPTR,#i
005F E0                MOVX    A,@DPTR
0060 04                INC     A
0061 F0                MOVX    @DPTR,A
0062 900000      R     MOV     DPTR,#str+01H
0065 120000      R     LCALL   L?0352
0068 80AB              SJMP    ?C0005
006A         ?C0006:
                                           ; SOURCE LINE # 80
006A 900000      R     MOV     DPTR,#num
006D 020000      E     LJMP    ?C?LLDXDATA
             ; FUNCTION _a2i (END)

             ; FUNCTION _Asc1Bin (BEGIN)
                                           ; SOURCE LINE # 83
;---- Variable 'asc' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 84
                                           ; SOURCE LINE # 85
0000 EF                MOV     A,R7
0001 C3                CLR     C
0002 9430              SUBB    A,#030H
0004 400C              JC      ?C0011
0006 EF                MOV     A,R7
0007 D3                SETB    C
0008 9439              SUBB    A,#039H
000A 5006              JNC     ?C0011
000C C3                CLR     C
000D EF                MOV     A,R7
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 62  

000E 9430              SUBB    A,#030H
0010 FF                MOV     R7,A
0011 22                RET     
0012         ?C0011:
                                           ; SOURCE LINE # 86
0012 EF                MOV     A,R7
0013 C3                CLR     C
0014 9461              SUBB    A,#061H
0016 400B              JC      ?C0013
0018 EF                MOV     A,R7
0019 D3                SETB    C
001A 9466              SUBB    A,#066H
001C 5005              JNC     ?C0013
001E EF                MOV     A,R7
001F 24A9              ADD     A,#0A9H
0021 FF                MOV     R7,A
0022 22                RET     
0023         ?C0013:
                                           ; SOURCE LINE # 87
0023 EF                MOV     A,R7
0024 C3                CLR     C
0025 9441              SUBB    A,#041H
0027 400B              JC      ?C0014
0029 EF                MOV     A,R7
002A D3                SETB    C
002B 9446              SUBB    A,#046H
002D 5005              JNC     ?C0014
002F EF                MOV     A,R7
0030 24C9              ADD     A,#0C9H
0032 FF                MOV     R7,A
0033 22                RET     
0034         ?C0014:
                                           ; SOURCE LINE # 89
0034 7F00              MOV     R7,#00H
                                           ; SOURCE LINE # 90
0036         ?C0012:
0036 22                RET     
             ; FUNCTION _Asc1Bin (END)

             ; FUNCTION L?0308 (BEGIN)
0000         L?0309:
0000 900000      R     MOV     DPTR,#argv+03H
0003 120000      E     LCALL   ?C?PLDXDATA
             ; FUNCTION _Asc2Bin (BEGIN)
                                           ; SOURCE LINE # 92
;---- Variable 's' assigned to Register 'R1/R2/R3' ----
                                           ; SOURCE LINE # 93
                                           ; SOURCE LINE # 96
;---- Variable 'bin' assigned to Register 'R4/R5' ----
0006 E4                CLR     A
0007 FD                MOV     R5,A
0008 FC                MOV     R4,A
0009         ?C0015:
                                           ; SOURCE LINE # 97
0009 120000      E     LCALL   ?C?CLDPTR
000C 6028              JZ      ?C0016
000E 6420              XRL     A,#020H
0010 6024              JZ      ?C0016
                                           ; SOURCE LINE # 98
0012 ED                MOV     A,R5
0013 C4                SWAP    A
0014 F8                MOV     R0,A
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 63  

0015 540F              ANL     A,#0FH
0017 C8                XCH     A,R0
0018 68                XRL     A,R0
0019 FD                MOV     R5,A
001A EC                MOV     A,R4
001B C4                SWAP    A
001C 54F0              ANL     A,#0F0H
001E 48                ORL     A,R0
001F FC                MOV     R4,A
                                           ; SOURCE LINE # 99
0020 120000      E     LCALL   ?C?CLDPTR
0023 FF                MOV     R7,A
0024 120000      R     LCALL   _Asc1Bin
0027 EF                MOV     A,R7
0028 2D                ADD     A,R5
0029 FD                MOV     R5,A
002A E4                CLR     A
002B 3C                ADDC    A,R4
002C FC                MOV     R4,A
                                           ; SOURCE LINE # 100
002D 7401              MOV     A,#01H
002F 29                ADD     A,R1
0030 F9                MOV     R1,A
0031 E4                CLR     A
0032 3A                ADDC    A,R2
0033 FA                MOV     R2,A
                                           ; SOURCE LINE # 101
0034 80D3              SJMP    ?C0015
0036         ?C0016:
                                           ; SOURCE LINE # 102
0036 AF05              MOV     R7,AR5
                                           ; SOURCE LINE # 103
0038 22                RET     
             ; FUNCTION _Asc2Bin (END)

             ; FUNCTION L?0360 (BEGIN)
0000 E4                CLR     A
0001 75F001            MOV     B,#01H
0004 120000      E     LCALL   ?C?PLDIXDATA
0007 120000      E     LCALL   ?C?CLDPTR
000A FF                MOV     R7,A
             ; FUNCTION _toupper (BEGIN)
                                           ; SOURCE LINE # 107
;---- Variable 'ch' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 108
                                           ; SOURCE LINE # 109
000B EF                MOV     A,R7
000C C3                CLR     C
000D 9461              SUBB    A,#061H
000F 400B              JC      ?C0018
0011 EF                MOV     A,R7
0012 D3                SETB    C
0013 947A              SUBB    A,#07AH
0015 5005              JNC     ?C0018
                                           ; SOURCE LINE # 110
0017 EF                MOV     A,R7
0018 24E0              ADD     A,#0E0H
001A FF                MOV     R7,A
001B 22                RET     
001C         ?C0018:
                                           ; SOURCE LINE # 112
                                           ; SOURCE LINE # 113
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 64  

001C         ?C0019:
001C 22                RET     
             ; FUNCTION _toupper (END)

             ; FUNCTION _stricmp (BEGIN)
                                           ; SOURCE LINE # 115
0000 900000      R     MOV     DPTR,#ptr1
0003 120000      E     LCALL   ?C?PSTXDATA
                                           ; SOURCE LINE # 116
                                           ; SOURCE LINE # 120
0006 E4                CLR     A
0007 900000      R     MOV     DPTR,#i
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C F0                MOVX    @DPTR,A
000D         ?C0020:
000D 900000      R     MOV     DPTR,#ptr1
0010 120000      R     LCALL   L?0364
0013 6023              JZ      ?C0021
                                           ; SOURCE LINE # 121
0015 900000      R     MOV     DPTR,#ptr2
0018 120000      R     LCALL   L?0360
001B EF                MOV     A,R7
001C FD                MOV     R5,A
001D 7C00              MOV     R4,#00H
001F 900000      R     MOV     DPTR,#ptr1
0022 120000      R     LCALL   L?0360
0025 C3                CLR     C
0026 EF                MOV     A,R7
0027 9D                SUBB    A,R5
0028 FF                MOV     R7,A
0029 E4                CLR     A
002A 9C                SUBB    A,R4
002B FE                MOV     R6,A
;---- Variable 'ret' assigned to Register 'R6/R7' ----
                                           ; SOURCE LINE # 122
002C 4F                ORL     A,R7
002D 6001              JZ      ?C0022
002F 22                RET     
                                           ; SOURCE LINE # 123
0030         ?C0022:
0030 900000      R     MOV     DPTR,#i
0033 120000      R     LCALL   L?0352
0036 80D5              SJMP    ?C0020
0038         ?C0021:
                                           ; SOURCE LINE # 124
0038 E4                CLR     A
0039 FE                MOV     R6,A
003A FF                MOV     R7,A
                                           ; SOURCE LINE # 125
003B         ?C0024:
003B 22                RET     
             ; FUNCTION _stricmp (END)

             ; FUNCTION MonReadI2C (BEGIN)
                                           ; SOURCE LINE # 136
                                           ; SOURCE LINE # 137
                                           ; SOURCE LINE # 138
0000 120000      R     LCALL   L?0340
0003 400A              JC      ?C0025
0005 120000      R     LCALL   L?0308
0008 900000      R     MOV     DPTR,#MonIndex
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 65  

000B EF                MOV     A,R7
000C F0                MOVX    @DPTR,A
000D 8006              SJMP    ?C0026
000F         ?C0025:
                                           ; SOURCE LINE # 139
                                           ; SOURCE LINE # 140
000F 120000      R     LCALL   L?0356
0012 020000      E     LJMP    _Printf
                                           ; SOURCE LINE # 142
0015         ?C0026:
                                           ; SOURCE LINE # 144
0015 120000      R     LCALL   L?0358
0018 7006              JNZ     ?C0028
                                           ; SOURCE LINE # 145
001A E0                MOVX    A,@DPTR
001B FD                MOV     R5,A
001C 7F8A              MOV     R7,#08AH
001E 8004              SJMP    ?C0250
0020         ?C0028:
                                           ; SOURCE LINE # 147
0020 E0                MOVX    A,@DPTR
0021 FD                MOV     R5,A
0022 AF00        R     MOV     R7,MonAddress
0024         ?C0250:
0024 120000      E     LCALL   _ReadI2C
0027 900000      R     MOV     DPTR,#MonRdata
002A EF                MOV     A,R7
002B F0                MOVX    @DPTR,A
002C         ?C0029:
                                           ; SOURCE LINE # 149
002C 30000A      R     JNB     echo,?C0030
                                           ; SOURCE LINE # 150
002F 7A00        R     MOV     R2,#HIGH ?SC_59
0031 7900        R     MOV     R1,#LOW ?SC_59
0033 120000      R     LCALL   L?0305
0036 120000      E     LCALL   _Printf
0039         ?C0030:
                                           ; SOURCE LINE # 152
0039 900000      R     MOV     DPTR,#MonRdata
003C E0                MOVX    A,@DPTR
003D 900000      R     MOV     DPTR,#MonWdata
0040 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 153
0041         ?C0027:
0041 22                RET     
             ; FUNCTION MonReadI2C (END)

             ; FUNCTION MonWriteI2C (BEGIN)
                                           ; SOURCE LINE # 156
                                           ; SOURCE LINE # 157
                                           ; SOURCE LINE # 158
0000 120000      R     LCALL   L?0342
0003 5006              JNC     ?C0031
                                           ; SOURCE LINE # 159
0005 120000      R     LCALL   L?0356
0008 020000      R     LJMP    ?C0252
                                           ; SOURCE LINE # 161
000B         ?C0031:
                                           ; SOURCE LINE # 163
000B 120000      R     LCALL   L?0308
000E 900000      R     MOV     DPTR,#MonIndex
0011 EF                MOV     A,R7
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 66  

0012 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 164
0013 900000      R     MOV     DPTR,#argv+06H
0016 120000      R     LCALL   L?0323
0019 900000      R     MOV     DPTR,#MonWdata
001C EF                MOV     A,R7
001D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 166
001E 300040      R     JNB     echo,?C0033
                                           ; SOURCE LINE # 167
0021 7BFF              MOV     R3,#0FFH
0023 7A00        R     MOV     R2,#HIGH ?SC_76
0025 7900        R     MOV     R1,#LOW ?SC_76
0027 900000      R     MOV     DPTR,#MonIndex
002A 120000      R     LCALL   L?0316
002D 900000      R     MOV     DPTR,#MonWdata
0030 120000      R     LCALL   L?0306
0033 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 168
0036 120000      R     LCALL   L?0358
0039 700D              JNZ     ?C0034
                                           ; SOURCE LINE # 169
003B 120000      R     LCALL   L?0337
003E 7F8A              MOV     R7,#08AH
0040 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 170
0043 120000      R     LCALL   L?0338
                                           ; SOURCE LINE # 171
0046 800B              SJMP    ?C0251
0048         ?C0034:
                                           ; SOURCE LINE # 172
                                           ; SOURCE LINE # 173
0048 120000      R     LCALL   L?0337
004B AF00        R     MOV     R7,MonAddress
004D 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 174
0050 120000      R     LCALL   L?0366
0053         ?C0251:
0053 120000      E     LCALL   _ReadI2C
0056 900000      R     MOV     DPTR,#MonRdata
0059 EF                MOV     A,R7
005A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 175
005B         ?C0035:
                                           ; SOURCE LINE # 176
005B 120000      R     LCALL   L?0304
005E         ?C0252:
005E 020000      E     LJMP    _Printf
                                           ; SOURCE LINE # 177
0061         ?C0033:
                                           ; SOURCE LINE # 178
                                           ; SOURCE LINE # 179
0061 120000      R     LCALL   L?0359
0064 7007              JNZ     ?C0037
                                           ; SOURCE LINE # 180
0066 120000      R     LCALL   L?0337
0069 7F8A              MOV     R7,#08AH
                                           ; SOURCE LINE # 181
006B 8005              SJMP    ?C0253
006D         ?C0037:
                                           ; SOURCE LINE # 182
                                           ; SOURCE LINE # 183
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 67  

006D 120000      R     LCALL   L?0337
0070 AF00        R     MOV     R7,MonAddress
0072         ?C0253:
0072 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 184
                                           ; SOURCE LINE # 185
                                           ; SOURCE LINE # 186
0075         ?C0032:
0075 22                RET     
             ; FUNCTION MonWriteI2C (END)

             ; FUNCTION _MonIncDecI2C (BEGIN)
                                           ; SOURCE LINE # 189
;---- Variable 'inc' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 190
                                           ; SOURCE LINE # 192
0000 EF                MOV     A,R7
0001 14                DEC     A
0002 6013              JZ      ?C0041
0004 24F7              ADD     A,#0F7H
0006 6017              JZ      ?C0042
0008 14                DEC     A
0009 601D              JZ      ?C0043
000B 240B              ADD     A,#0BH
000D 7020              JNZ     ?C0039
                                           ; SOURCE LINE # 193
000F         ?C0040:
000F 900000      R     MOV     DPTR,#MonWdata
0012 E0                MOVX    A,@DPTR
0013 14                DEC     A
0014 F0                MOVX    @DPTR,A
0015 8018              SJMP    ?C0039
                                           ; SOURCE LINE # 194
0017         ?C0041:
0017 900000      R     MOV     DPTR,#MonWdata
001A E0                MOVX    A,@DPTR
001B 04                INC     A
001C F0                MOVX    @DPTR,A
001D 8010              SJMP    ?C0039
                                           ; SOURCE LINE # 195
001F         ?C0042:
001F 900000      R     MOV     DPTR,#MonWdata
0022 E0                MOVX    A,@DPTR
0023 24F0              ADD     A,#0F0H
0025 F0                MOVX    @DPTR,A
0026 8007              SJMP    ?C0039
                                           ; SOURCE LINE # 196
0028         ?C0043:
0028 900000      R     MOV     DPTR,#MonWdata
002B E0                MOVX    A,@DPTR
002C 2410              ADD     A,#010H
002E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 197
002F         ?C0039:
                                           ; SOURCE LINE # 200
002F 120000      R     LCALL   L?0359
0032 700D              JNZ     ?C0044
                                           ; SOURCE LINE # 201
0034 120000      R     LCALL   L?0337
0037 7F8A              MOV     R7,#08AH
0039 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 202
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 68  

003C 120000      R     LCALL   L?0338
                                           ; SOURCE LINE # 203
003F 800B              SJMP    ?C0254
0041         ?C0044:
                                           ; SOURCE LINE # 204
                                           ; SOURCE LINE # 205
0041 120000      R     LCALL   L?0337
0044 AF00        R     MOV     R7,MonAddress
0046 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 206
0049 120000      R     LCALL   L?0366
004C         ?C0254:
004C 120000      E     LCALL   _ReadI2C
004F 900000      R     MOV     DPTR,#MonRdata
0052 EF                MOV     A,R7
0053 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 207
0054         ?C0045:
                                           ; SOURCE LINE # 209
0054 30001B      R     JNB     echo,?C0046
                                           ; SOURCE LINE # 210
0057 7BFF              MOV     R3,#0FFH
0059 7A00        R     MOV     R2,#HIGH ?SC_114
005B 7900        R     MOV     R1,#LOW ?SC_114
005D 900000      R     MOV     DPTR,#MonIndex
0060 120000      R     LCALL   L?0316
0063 900000      R     MOV     DPTR,#MonWdata
0066 120000      R     LCALL   L?0306
0069 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 211
006C 120000      R     LCALL   L?0304
006F 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 212
0072         ?C0046:
                                           ; SOURCE LINE # 214
0072 020000      R     LJMP    Prompt
             ; FUNCTION _MonIncDecI2C (END)

             ; FUNCTION MonDumpI2C (BEGIN)
                                           ; SOURCE LINE # 218
                                           ; SOURCE LINE # 219
                                           ; SOURCE LINE # 221
0000 900000      R     MOV     DPTR,#cnt
0003 E4                CLR     A
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 7408              MOV     A,#08H
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 223
0009 120000      R     LCALL   L?0340
000C 4008              JC      ?C0048
000E 120000      R     LCALL   L?0309
0011 900000      R     MOV     DPTR,#MonIndex
0014 EF                MOV     A,R7
0015 F0                MOVX    @DPTR,A
0016         ?C0048:
                                           ; SOURCE LINE # 224
0016 120000      R     LCALL   L?0342
0019 400D              JC      ?C0049
001B 900000      R     MOV     DPTR,#argv+06H
001E 120000      R     LCALL   L?0323
0021 900000      R     MOV     DPTR,#ToMonIndex
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 69  

0024 EF                MOV     A,R7
0025 F0                MOVX    @DPTR,A
0026 800F              SJMP    ?C0050
0028         ?C0049:
                                           ; SOURCE LINE # 225
0028 900000      R     MOV     DPTR,#cnt
002B A3                INC     DPTR
002C E0                MOVX    A,@DPTR
002D FF                MOV     R7,A
002E 900000      R     MOV     DPTR,#MonIndex
0031 E0                MOVX    A,@DPTR
0032 2F                ADD     A,R7
0033 900000      R     MOV     DPTR,#ToMonIndex
0036 F0                MOVX    @DPTR,A
0037         ?C0050:
                                           ; SOURCE LINE # 226
0037 900000      R     MOV     DPTR,#MonIndex
003A E0                MOVX    A,@DPTR
003B FF                MOV     R7,A
003C 900000      R     MOV     DPTR,#ToMonIndex
003F E0                MOVX    A,@DPTR
0040 C3                CLR     C
0041 9F                SUBB    A,R7
0042 5003              JNC     ?C0051
0044 74FF              MOV     A,#0FFH
0046 F0                MOVX    @DPTR,A
0047         ?C0051:
                                           ; SOURCE LINE # 227
0047 900000      R     MOV     DPTR,#ToMonIndex
004A E0                MOVX    A,@DPTR
004B C3                CLR     C
004C 9F                SUBB    A,R7
004D FF                MOV     R7,A
004E E4                CLR     A
004F 9400              SUBB    A,#00H
0051 CF                XCH     A,R7
0052 2401              ADD     A,#01H
0054 CF                XCH     A,R7
0055 3400              ADDC    A,#00H
0057 A3                INC     DPTR
0058 F0                MOVX    @DPTR,A
0059 A3                INC     DPTR
005A EF                MOV     A,R7
005B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 229
005C 30001E      R     JNB     echo,?C0052
                                           ; SOURCE LINE # 230
005F E500        R     MOV     A,MonAddress
0061 648A              XRL     A,#08AH
0063 700C              JNZ     ?C0058
                                           ; SOURCE LINE # 231
0065         ?C0054:
0065 120000      R     LCALL   L?0327
0068 4039              JC      ?C0070
                                           ; SOURCE LINE # 232
006A 7F8A              MOV     R7,#08AH
                                           ; SOURCE LINE # 233
                                           ; SOURCE LINE # 234
                                           ; SOURCE LINE # 235
006C 120000      R     LCALL   L?0313
006F 80F4              SJMP    ?C0054
                                           ; SOURCE LINE # 236
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 70  

                                           ; SOURCE LINE # 237
                                           ; SOURCE LINE # 238
0071         ?C0058:
0071 120000      R     LCALL   L?0327
0074 402D              JC      ?C0070
                                           ; SOURCE LINE # 239
0076 AF00        R     MOV     R7,MonAddress
                                           ; SOURCE LINE # 240
                                           ; SOURCE LINE # 241
                                           ; SOURCE LINE # 242
0078 120000      R     LCALL   L?0313
007B 80F4              SJMP    ?C0058
                                           ; SOURCE LINE # 243
                                           ; SOURCE LINE # 244
007D         ?C0052:
                                           ; SOURCE LINE # 245
                                           ; SOURCE LINE # 246
007D E500        R     MOV     A,MonAddress
007F 648A              XRL     A,#08AH
0081 7010              JNZ     ?C0067
                                           ; SOURCE LINE # 247
0083         ?C0063:
0083 120000      R     LCALL   L?0328
0086 401B              JC      ?C0070
                                           ; SOURCE LINE # 248
0088 120000      R     LCALL   L?0339
008B 120000      E     LCALL   _ReadI2C
                                           ; SOURCE LINE # 249
                                           ; SOURCE LINE # 250
008E 120000      R     LCALL   L?0345
0091 80F0              SJMP    ?C0063
                                           ; SOURCE LINE # 251
                                           ; SOURCE LINE # 252
                                           ; SOURCE LINE # 253
0093         ?C0067:
0093 120000      R     LCALL   L?0328
0096 400B              JC      ?C0070
                                           ; SOURCE LINE # 254
0098 120000      R     LCALL   L?0367
009B 120000      E     LCALL   _ReadI2C
                                           ; SOURCE LINE # 255
                                           ; SOURCE LINE # 256
009E 120000      R     LCALL   L?0345
00A1 80F0              SJMP    ?C0067
                                           ; SOURCE LINE # 257
                                           ; SOURCE LINE # 258
                                           ; SOURCE LINE # 259
00A3         ?C0070:
00A3 22                RET     
00A4         L?0313:
00A4 900000      R     MOV     DPTR,#MonIndex
00A7 E0                MOVX    A,@DPTR
00A8 FD                MOV     R5,A
00A9 120000      E     LCALL   _ReadI2C
00AC 900000      R     MOV     DPTR,#MonRdata
00AF EF                MOV     A,R7
00B0 F0                MOVX    @DPTR,A
00B1 7BFF              MOV     R3,#0FFH
00B3 7A00        R     MOV     R2,#HIGH ?SC_131
00B5 7900        R     MOV     R1,#LOW ?SC_131
00B7 900000      R     MOV     DPTR,#MonIndex
00BA E0                MOVX    A,@DPTR
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 71  

00BB FD                MOV     R5,A
00BC 900000      E     MOV     DPTR,#?_Printf?BYTE+03H
00BF E4                CLR     A
00C0 F0                MOVX    @DPTR,A
00C1 A3                INC     DPTR
00C2 ED                MOV     A,R5
00C3 F0                MOVX    @DPTR,A
00C4 A3                INC     DPTR
00C5 E4                CLR     A
00C6 F0                MOVX    @DPTR,A
00C7 A3                INC     DPTR
00C8 EF                MOV     A,R7
00C9 F0                MOVX    @DPTR,A
00CA 120000      E     LCALL   _Printf
00CD 900000      R     MOV     DPTR,#MonIndex
00D0 E0                MOVX    A,@DPTR
00D1 04                INC     A
00D2 F0                MOVX    @DPTR,A
00D3 900000      R     MOV     DPTR,#cnt
00D6 74FF              MOV     A,#0FFH
00D8 F5F0              MOV     B,A
00DA 120000      E     LCALL   ?C?IILDX
00DD 22                RET     
             ; FUNCTION MonDumpI2C (END)

             ; FUNCTION MonNewReadI2C (BEGIN)
                                           ; SOURCE LINE # 263
                                           ; SOURCE LINE # 264
                                           ; SOURCE LINE # 267
0000 120000      R     LCALL   L?0343
0003 400D              JC      ?C0071
0005 900000      R     MOV     DPTR,#argv+06H
0008 120000      R     LCALL   L?0323
000B 900000      R     MOV     DPTR,#MonIndex
000E EF                MOV     A,R7
000F F0                MOVX    @DPTR,A
0010 8006              SJMP    ?C0072
0012         ?C0071:
                                           ; SOURCE LINE # 268
                                           ; SOURCE LINE # 269
0012 120000      R     LCALL   L?0357
0015 020000      E     LJMP    _Printf
                                           ; SOURCE LINE # 271
0018         ?C0072:
                                           ; SOURCE LINE # 272
0018 120000      R     LCALL   L?0309
001B 900000      R     MOV     DPTR,#Slave
001E EF                MOV     A,R7
001F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 274
0020 648A              XRL     A,#08AH
0022 7005              JNZ     ?C0074
                                           ; SOURCE LINE # 275
0024 120000      R     LCALL   L?0339
0027 8006              SJMP    ?C0255
0029         ?C0074:
                                           ; SOURCE LINE # 277
0029 900000      R     MOV     DPTR,#Slave
002C 120000      R     LCALL   L?0349
002F         ?C0255:
002F 120000      E     LCALL   _ReadI2C
0032 900000      R     MOV     DPTR,#MonRdata
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 72  

0035 EF                MOV     A,R7
0036 F0                MOVX    @DPTR,A
0037         ?C0075:
                                           ; SOURCE LINE # 279
0037 300019      R     JNB     echo,?C0076
                                           ; SOURCE LINE # 280
003A 900000      R     MOV     DPTR,#Slave
003D 120000      R     LCALL   L?0315
0040 900000      R     MOV     DPTR,#MonIndex
0043 120000      R     LCALL   L?0306
0046 900000      R     MOV     DPTR,#MonRdata
0049 E0                MOVX    A,@DPTR
004A 900000      E     MOV     DPTR,#?_Printf?BYTE+07H
004D 120000      R     LCALL   L?0317
0050 120000      E     LCALL   _Printf
0053         ?C0076:
                                           ; SOURCE LINE # 282
0053 900000      R     MOV     DPTR,#MonRdata
0056 E0                MOVX    A,@DPTR
0057 900000      R     MOV     DPTR,#MonWdata
005A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 283
005B         ?C0073:
005B 22                RET     
             ; FUNCTION MonNewReadI2C (END)

             ; FUNCTION MonNewWriteI2C (BEGIN)
                                           ; SOURCE LINE # 285
                                           ; SOURCE LINE # 286
                                           ; SOURCE LINE # 289
0000 900000      R     MOV     DPTR,#argc
0003 E0                MOVX    A,@DPTR
0004 C3                CLR     C
0005 9404              SUBB    A,#04H
0007 7480              MOV     A,#080H
0009 9480              SUBB    A,#080H
000B 5006              JNC     ?C0077
                                           ; SOURCE LINE # 290
000D 120000      R     LCALL   L?0357
0010 020000      R     LJMP    ?C0257
                                           ; SOURCE LINE # 292
0013         ?C0077:
                                           ; SOURCE LINE # 294
                                           ; SOURCE LINE # 295
0013 120000      R     LCALL   L?0320
0016 900000      R     MOV     DPTR,#MonWdata
0019 EF                MOV     A,R7
001A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 296
001B 120000      R     LCALL   L?0309
001E 900000      R     MOV     DPTR,#Slave
0021 EF                MOV     A,R7
0022 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 298
0023 648A              XRL     A,#08AH
0025 700D              JNZ     ?C0079
                                           ; SOURCE LINE # 299
0027 120000      R     LCALL   L?0336
002A 7F8A              MOV     R7,#08AH
002C 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 300
002F 120000      R     LCALL   L?0339
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 73  

                                           ; SOURCE LINE # 301
0032 8011              SJMP    ?C0256
0034         ?C0079:
                                           ; SOURCE LINE # 302
                                           ; SOURCE LINE # 303
0034 900000      R     MOV     DPTR,#Slave
0037 E0                MOVX    A,@DPTR
0038 FF                MOV     R7,A
0039 120000      R     LCALL   L?0336
003C 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 304
003F 900000      R     MOV     DPTR,#Slave
0042 120000      R     LCALL   L?0349
0045         ?C0256:
0045 120000      E     LCALL   _ReadI2C
0048 900000      R     MOV     DPTR,#MonRdata
004B EF                MOV     A,R7
004C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 305
004D         ?C0080:
                                           ; SOURCE LINE # 307
004D 300019      R     JNB     echo,?C0078
                                           ; SOURCE LINE # 308
0050 900000      R     MOV     DPTR,#Slave
0053 120000      R     LCALL   L?0315
0056 900000      R     MOV     DPTR,#MonIndex
0059 120000      R     LCALL   L?0306
005C 900000      R     MOV     DPTR,#MonRdata
005F E0                MOVX    A,@DPTR
0060 900000      E     MOV     DPTR,#?_Printf?BYTE+07H
0063 120000      R     LCALL   L?0331
0066         ?C0257:
0066 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 310
0069         ?C0078:
0069 22                RET     
             ; FUNCTION MonNewWriteI2C (END)

             ; FUNCTION MonNewDumpI2C (BEGIN)
                                           ; SOURCE LINE # 312
                                           ; SOURCE LINE # 313
                                           ; SOURCE LINE # 317
0000 120000      R     LCALL   L?0341
0003 400B              JC      ?C0082
0005 900000      R     MOV     DPTR,#argv+06H
0008 120000      R     LCALL   L?0323
000B 900000      R     MOV     DPTR,#MonIndex
000E EF                MOV     A,R7
000F F0                MOVX    @DPTR,A
0010         ?C0082:
                                           ; SOURCE LINE # 318
0010 120000      R     LCALL   L?0343
0013 4008              JC      ?C0083
0015 120000      R     LCALL   L?0322
0018 900000      R     MOV     DPTR,#ToMonIndex
001B EF                MOV     A,R7
001C F0                MOVX    @DPTR,A
001D         ?C0083:
                                           ; SOURCE LINE # 319
001D 120000      R     LCALL   L?0309
0020 900000      R     MOV     DPTR,#Slave
0023 EF                MOV     A,R7
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 74  

0024 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 321
0025 300026      R     JNB     echo,?C0084
                                           ; SOURCE LINE # 322
0028 E0                MOVX    A,@DPTR
0029 648A              XRL     A,#08AH
002B 700F              JNZ     ?C0085
                                           ; SOURCE LINE # 323
002D 120000      R     LCALL   L?0329
0030         ?C0086:
0030 120000      R     LCALL   L?0324
0033 5048              JNC     ?C0102
                                           ; SOURCE LINE # 324
0035 7F8A              MOV     R7,#08AH
                                           ; SOURCE LINE # 325
                                           ; SOURCE LINE # 326
0037 120000      R     LCALL   L?0318
003A 80F4              SJMP    ?C0086
                                           ; SOURCE LINE # 327
003C         ?C0085:
                                           ; SOURCE LINE # 328
                                           ; SOURCE LINE # 329
003C 120000      R     LCALL   L?0329
003F         ?C0090:
003F 120000      R     LCALL   L?0324
0042 5039              JNC     ?C0102
                                           ; SOURCE LINE # 330
0044 900000      R     MOV     DPTR,#Slave
0047 E0                MOVX    A,@DPTR
0048 FF                MOV     R7,A
                                           ; SOURCE LINE # 331
                                           ; SOURCE LINE # 332
0049 120000      R     LCALL   L?0318
004C 80F1              SJMP    ?C0090
                                           ; SOURCE LINE # 333
                                           ; SOURCE LINE # 334
004E         ?C0084:
                                           ; SOURCE LINE # 335
                                           ; SOURCE LINE # 336
004E 900000      R     MOV     DPTR,#Slave
0051 E0                MOVX    A,@DPTR
0052 648A              XRL     A,#08AH
0054 7012              JNZ     ?C0094
                                           ; SOURCE LINE # 337
0056 120000      R     LCALL   L?0330
0059         ?C0095:
0059 120000      R     LCALL   L?0325
005C 501F              JNC     ?C0102
                                           ; SOURCE LINE # 338
005E 7F8A              MOV     R7,#08AH
0060 120000      E     LCALL   _ReadI2C
                                           ; SOURCE LINE # 339
0063 120000      R     LCALL   L?0351
0066 80F1              SJMP    ?C0095
                                           ; SOURCE LINE # 340
0068         ?C0094:
                                           ; SOURCE LINE # 341
                                           ; SOURCE LINE # 342
0068 120000      R     LCALL   L?0330
006B         ?C0099:
006B 120000      R     LCALL   L?0325
006E 500D              JNC     ?C0102
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 75  

                                           ; SOURCE LINE # 343
0070 900000      R     MOV     DPTR,#Slave
0073 E0                MOVX    A,@DPTR
0074 FF                MOV     R7,A
0075 120000      E     LCALL   _ReadI2C
                                           ; SOURCE LINE # 344
0078 120000      R     LCALL   L?0351
007B 80EE              SJMP    ?C0099
                                           ; SOURCE LINE # 345
                                           ; SOURCE LINE # 346
                                           ; SOURCE LINE # 347
007D         ?C0102:
007D 22                RET     
007E         L?0318:
007E 120000      E     LCALL   _ReadI2C
0081 900000      R     MOV     DPTR,#MonRdata
0084 EF                MOV     A,R7
0085 F0                MOVX    @DPTR,A
0086 7BFF              MOV     R3,#0FFH
0088 7A00        R     MOV     R2,#HIGH ?SC_152
008A 7900        R     MOV     R1,#LOW ?SC_152
008C 900000      R     MOV     DPTR,#Slave
008F E0                MOVX    A,@DPTR
0090 FD                MOV     R5,A
0091 900000      E     MOV     DPTR,#?_Printf?BYTE+03H
0094 E4                CLR     A
0095 F0                MOVX    @DPTR,A
0096 A3                INC     DPTR
0097 ED                MOV     A,R5
0098 F0                MOVX    @DPTR,A
0099 900000      R     MOV     DPTR,#i
009C E0                MOVX    A,@DPTR
009D FD                MOV     R5,A
009E A3                INC     DPTR
009F E0                MOVX    A,@DPTR
00A0 900000      E     MOV     DPTR,#?_Printf?BYTE+05H
00A3 CD                XCH     A,R5
00A4 F0                MOVX    @DPTR,A
00A5 A3                INC     DPTR
00A6 ED                MOV     A,R5
00A7 F0                MOVX    @DPTR,A
00A8 A3                INC     DPTR
00A9 E4                CLR     A
00AA F0                MOVX    @DPTR,A
00AB A3                INC     DPTR
00AC EF                MOV     A,R7
00AD F0                MOVX    @DPTR,A
00AE 120000      E     LCALL   _Printf
00B1 900000      R     MOV     DPTR,#i
00B4 E4                CLR     A
00B5 75F001            MOV     B,#01H
00B8 120000      E     LCALL   ?C?IILDX
00BB 22                RET     
             ; FUNCTION MonNewDumpI2C (END)

             ; FUNCTION MonWriteBit (BEGIN)
                                           ; SOURCE LINE # 350
                                           ; SOURCE LINE # 351
                                           ; SOURCE LINE # 356
0000 900000      R     MOV     DPTR,#argc
0003 E0                MOVX    A,@DPTR
0004 C3                CLR     C
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 76  

0005 9405              SUBB    A,#05H
0007 7480              MOV     A,#080H
0009 9480              SUBB    A,#080H
000B 5006              JNC     ?C0103
                                           ; SOURCE LINE # 357
000D 120000      R     LCALL   L?0357
0010 020000      R     LJMP    ?C0260
                                           ; SOURCE LINE # 359
0013         ?C0103:
                                           ; SOURCE LINE # 360
0013 120000      R     LCALL   L?0309
0016 900000      R     MOV     DPTR,#Slave
0019 EF                MOV     A,R7
001A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 362
                                           ; SOURCE LINE # 363
001B 120000      R     LCALL   L?0320
001E EF                MOV     A,R7
001F C4                SWAP    A
0020 540F              ANL     A,#0FH
0022 900000      R     MOV     DPTR,#FromBit
                                           ; SOURCE LINE # 364
0025 120000      R     LCALL   L?0321
0028 EF                MOV     A,R7
0029 540F              ANL     A,#0FH
002B 900000      R     MOV     DPTR,#ToBit
002E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 365
002F 900000      R     MOV     DPTR,#argv+0CH
0032 120000      R     LCALL   L?0323
0035 900000      R     MOV     DPTR,#MonMask
0038 EF                MOV     A,R7
0039 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 367
003A 900000      R     MOV     DPTR,#ToBit
003D E0                MOVX    A,@DPTR
003E FF                MOV     R7,A
003F 900000      R     MOV     DPTR,#FromBit
0042 E0                MOVX    A,@DPTR
0043 FE                MOV     R6,A
0044 C3                CLR     C
0045 9F                SUBB    A,R7
0046 4013              JC      ?C0106
0048 EE                MOV     A,R6
0049 D3                SETB    C
004A 9407              SUBB    A,#07H
004C 7480              MOV     A,#080H
004E 9480              SUBB    A,#080H
0050 5009              JNC     ?C0106
0052 EF                MOV     A,R7
0053 9407              SUBB    A,#07H
0055 7480              MOV     A,#080H
0057 9480              SUBB    A,#080H
0059 4009              JC      ?C0105
005B         ?C0106:
                                           ; SOURCE LINE # 368
005B 7BFF              MOV     R3,#0FFH
005D 7A00        R     MOV     R2,#HIGH ?SC_170
005F 7900        R     MOV     R1,#LOW ?SC_170
0061         ?C0259:
0061 020000      R     LJMP    ?C0260
                                           ; SOURCE LINE # 370
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 77  

0064         ?C0105:
                                           ; SOURCE LINE # 372
0064 900000      R     MOV     DPTR,#mask
0067 74FF              MOV     A,#0FFH
0069 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 373
;---- Variable 'val' assigned to Register 'R4' ----
006A 7C7F              MOV     R4,#07FH
                                           ; SOURCE LINE # 374
;---- Variable 'i' assigned to Register 'R6' ----
006C 7E07              MOV     R6,#07H
006E         ?C0107:
006E 900000      R     MOV     DPTR,#FromBit
0071 E0                MOVX    A,@DPTR
0072 FD                MOV     R5,A
0073 EE                MOV     A,R6
0074 D3                SETB    C
0075 9D                SUBB    A,R5
0076 400C              JC      ?C0108
                                           ; SOURCE LINE # 375
0078 900000      R     MOV     DPTR,#mask
007B E0                MOVX    A,@DPTR
007C 5C                ANL     A,R4
007D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 376
007E EC                MOV     A,R4
007F 13                RRC     A
0080 FC                MOV     R4,A
                                           ; SOURCE LINE # 377
0081 1E                DEC     R6
0082 80EA              SJMP    ?C0107
0084         ?C0108:
                                           ; SOURCE LINE # 379
0084 7CFE              MOV     R4,#0FEH
                                           ; SOURCE LINE # 380
0086 E4                CLR     A
0087 FE                MOV     R6,A
0088         ?C0110:
0088 900000      R     MOV     DPTR,#ToBit
008B E0                MOVX    A,@DPTR
008C FF                MOV     R7,A
008D EE                MOV     A,R6
008E C3                CLR     C
008F 9F                SUBB    A,R7
0090 500D              JNC     ?C0111
                                           ; SOURCE LINE # 381
0092 900000      R     MOV     DPTR,#mask
0095 E0                MOVX    A,@DPTR
0096 5C                ANL     A,R4
0097 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 382
0098 EC                MOV     A,R4
0099 25E0              ADD     A,ACC
009B FC                MOV     R4,A
                                           ; SOURCE LINE # 383
009C 0E                INC     R6
009D 80E9              SJMP    ?C0110
009F         ?C0111:
                                           ; SOURCE LINE # 385
009F 900000      R     MOV     DPTR,#Slave
00A2 E0                MOVX    A,@DPTR
00A3 648A              XRL     A,#08AH
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 78  

00A5 7011              JNZ     ?C0113
                                           ; SOURCE LINE # 386
00A7 120000      R     LCALL   L?0339
                                           ; SOURCE LINE # 387
00AA 120000      R     LCALL   L?0344
                                           ; SOURCE LINE # 389
00AD 120000      R     LCALL   L?0339
00B0 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 390
00B3 120000      R     LCALL   L?0339
                                           ; SOURCE LINE # 391
00B6 800F              SJMP    ?C0258
00B8         ?C0113:
                                           ; SOURCE LINE # 392
                                           ; SOURCE LINE # 393
00B8 120000      R     LCALL   L?0347
                                           ; SOURCE LINE # 394
00BB 120000      R     LCALL   L?0344
                                           ; SOURCE LINE # 396
00BE 120000      R     LCALL   L?0347
00C1 120000      E     LCALL   _WriteI2C
                                           ; SOURCE LINE # 397
00C4 120000      R     LCALL   L?0348
00C7         ?C0258:
00C7 120000      E     LCALL   _ReadI2C
00CA 900000      R     MOV     DPTR,#MonRdata
00CD EF                MOV     A,R7
00CE F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 398
00CF         ?C0114:
                                           ; SOURCE LINE # 400
00CF 300022      R     JNB     echo,?C0104
                                           ; SOURCE LINE # 401
00D2 7BFF              MOV     R3,#0FFH
00D4 7A00        R     MOV     R2,#HIGH ?SC_152
00D6 7900        R     MOV     R1,#LOW ?SC_152
00D8 900000      R     MOV     DPTR,#Slave
00DB 120000      R     LCALL   L?0316
00DE 900000      R     MOV     DPTR,#MonIndex
00E1 120000      R     LCALL   L?0306
00E4 900000      R     MOV     DPTR,#MonRdata
00E7 E0                MOVX    A,@DPTR
00E8 FF                MOV     R7,A
00E9 900000      E     MOV     DPTR,#?_Printf?BYTE+07H
00EC E4                CLR     A
00ED F0                MOVX    @DPTR,A
00EE A3                INC     DPTR
00EF EF                MOV     A,R7
00F0 F0                MOVX    @DPTR,A
00F1         ?C0260:
00F1 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 403
00F4         ?C0104:
00F4 22                RET     
00F5         L?0344:
00F5 120000      E     LCALL   _ReadI2C
00F8 900000      R     MOV     DPTR,#MonRdata
00FB EF                MOV     A,R7
00FC F0                MOVX    @DPTR,A
00FD 900000      R     MOV     DPTR,#mask
0100 E0                MOVX    A,@DPTR
0101 FE                MOV     R6,A
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 79  

0102 F4                CPL     A
0103 5F                ANL     A,R7
0104 FF                MOV     R7,A
0105 900000      R     MOV     DPTR,#MonMask
0108 E0                MOVX    A,@DPTR
0109 5E                ANL     A,R6
010A 4F                ORL     A,R7
010B 900000      R     MOV     DPTR,#MonWdata
010E F0                MOVX    @DPTR,A
010F FB                MOV     R3,A
0110 22                RET     
             ; FUNCTION MonWriteBit (END)

             ; FUNCTION MonTxDump (BEGIN)
                                           ; SOURCE LINE # 427
                                           ; SOURCE LINE # 428
                                           ; SOURCE LINE # 431
0000 120000      R     LCALL   L?0341
0003 5009              JNC     ?C0116
                                           ; SOURCE LINE # 432
0005 7BFF              MOV     R3,#0FFH
0007 7A00        R     MOV     R2,#HIGH ?SC_212
0009 7900        R     MOV     R1,#LOW ?SC_212
000B 020000      E     LJMP    _Puts
                                           ; SOURCE LINE # 434
000E         ?C0116:
                                           ; SOURCE LINE # 435
000E 900000      R     MOV     DPTR,#argv+03H
0011 120000      E     LCALL   ?C?PLDXDATA
0014 120000      R     LCALL   _a2i
0017 900000      R     MOV     DPTR,#count
001A EE                MOV     A,R6
001B F0                MOVX    @DPTR,A
001C A3                INC     DPTR
001D EF                MOV     A,R7
001E F0                MOVX    @DPTR,A
001F         ?C0120:
                                           ; SOURCE LINE # 436
                                           ; SOURCE LINE # 437
001F 900000      R     MOV     DPTR,#count
0022 A3                INC     DPTR
0023 E0                MOVX    A,@DPTR
0024 541F              ANL     A,#01FH
0026 2420              ADD     A,#020H
0028 FF                MOV     R7,A
0029 120000      E     LCALL   _RS_tx
                                           ; SOURCE LINE # 438
002C 900000      R     MOV     DPTR,#count
002F 120000      R     LCALL   L?0346
                                           ; SOURCE LINE # 439
0032 900000      R     MOV     DPTR,#count
0035 E0                MOVX    A,@DPTR
0036 7002              JNZ     ?C0248
0038 A3                INC     DPTR
0039 E0                MOVX    A,@DPTR
003A         ?C0248:
003A 70E3              JNZ     ?C0120
                                           ; SOURCE LINE # 440
003C         ?C0117:
003C 22                RET     
             ; FUNCTION MonTxDump (END)

C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 80  

             ; FUNCTION MonHelp (BEGIN)
                                           ; SOURCE LINE # 445
                                           ; SOURCE LINE # 446
                                           ; SOURCE LINE # 447
0000 7BFF              MOV     R3,#0FFH
0002 7A00        R     MOV     R2,#HIGH ?SC_241
0004 7900        R     MOV     R1,#LOW ?SC_241
0006 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 448
0009 7A00        R     MOV     R2,#HIGH ?SC_299
000B 7900        R     MOV     R1,#LOW ?SC_299
                                           ; SOURCE LINE # 449
                                           ; SOURCE LINE # 450
000D 120000      R     LCALL   L?0314
0010 7A00        R     MOV     R2,#HIGH ?SC_355
0012 7900        R     MOV     R1,#LOW ?SC_355
0014 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 451
0017 7A00        R     MOV     R2,#HIGH ?SC_389
0019 7900        R     MOV     R1,#LOW ?SC_389
                                           ; SOURCE LINE # 452
001B 120000      R     LCALL   L?0335
001E 7A00        R     MOV     R2,#HIGH ?SC_424
0020 7900        R     MOV     R1,#LOW ?SC_424
0022 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 453
0025 7A00        R     MOV     R2,#HIGH ?SC_453
0027 7900        R     MOV     R1,#LOW ?SC_453
                                           ; SOURCE LINE # 454
0029 120000      R     LCALL   L?0335
002C 7A00        R     MOV     R2,#HIGH ?SC_496
002E 7900        R     MOV     R1,#LOW ?SC_496
0030 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 455
0033 7A00        R     MOV     R2,#HIGH ?SC_534
0035 7900        R     MOV     R1,#LOW ?SC_534
                                           ; SOURCE LINE # 456
0037 120000      R     LCALL   L?0353
003A 7A00        R     MOV     R2,#HIGH ?SC_571
003C 7900        R     MOV     R1,#LOW ?SC_571
003E 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 457
0041 7A00        R     MOV     R2,#HIGH ?SC_624
0043 7900        R     MOV     R1,#LOW ?SC_624
                                           ; SOURCE LINE # 458
0045 120000      R     LCALL   L?0353
0048 7A00        R     MOV     R2,#HIGH ?SC_667
004A 7900        R     MOV     R1,#LOW ?SC_667
004C 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 459
004F 7BFF              MOV     R3,#0FFH
0051 7A00        R     MOV     R2,#HIGH ?SC_705
0053 7900        R     MOV     R1,#LOW ?SC_705
0055 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 460
0058 7BFF              MOV     R3,#0FFH
005A 7A00        R     MOV     R2,#HIGH ?SC_752
005C 7900        R     MOV     R1,#LOW ?SC_752
005E 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 461
0061 7BFF              MOV     R3,#0FFH
0063 7A00        R     MOV     R2,#HIGH ?SC_800
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 81  

0065 7900        R     MOV     R1,#LOW ?SC_800
0067 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 462
006A 7BFF              MOV     R3,#0FFH
006C 7A00        R     MOV     R2,#HIGH ?SC_844
006E 7900        R     MOV     R1,#LOW ?SC_844
0070 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 463
0073 7A00        R     MOV     R2,#HIGH ?SC_895
0075 7900        R     MOV     R1,#LOW ?SC_895
                                           ; SOURCE LINE # 464
                                           ; SOURCE LINE # 465
0077 120000      R     LCALL   L?0314
007A 7A00        R     MOV     R2,#HIGH ?SC_895
007C 7900        R     MOV     R1,#LOW ?SC_895
007E 020000      E     LJMP    _Printf
                                           ; SOURCE LINE # 466
0081         L?0314:
0081 7BFF              MOV     R3,#0FFH
0083 120000      E     LCALL   _Printf
0086 7BFF              MOV     R3,#0FFH
0088 7A00        R     MOV     R2,#HIGH ?SC_241
008A 7900        R     MOV     R1,#LOW ?SC_241
008C 120000      E     LCALL   _Printf
008F 7BFF              MOV     R3,#0FFH
0091 22                RET     
0092         L?0335:
0092 7BFF              MOV     R3,#0FFH
0094 120000      E     LCALL   _Printf
0097 7BFF              MOV     R3,#0FFH
0099 22                RET     
009A         L?0353:
009A 7BFF              MOV     R3,#0FFH
009C 120000      E     LCALL   _Printf
009F 7BFF              MOV     R3,#0FFH
00A1 22                RET     
             ; FUNCTION MonHelp (END)

             ; FUNCTION MonGetCommand (BEGIN)
                                           ; SOURCE LINE # 471
                                           ; SOURCE LINE # 472
                                           ; SOURCE LINE # 476
0000 E4                CLR     A
0001 900000      R     MOV     DPTR,#ret
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 478
0005 120000      E     LCALL   RS_ready
0008 EF                MOV     A,R7
0009 7002              JNZ     ?C0122
000B FF                MOV     R7,A
000C 22                RET     
000D         ?C0122:
                                           ; SOURCE LINE # 480
000D 120000      E     LCALL   RS_rx
0010 900000      R     MOV     DPTR,#ch
0013 EF                MOV     A,R7
0014 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 484
0015 900000      R     MOV     DPTR,#comment
0018 E0                MOVX    A,@DPTR
0019 601C              JZ      ?C0124
                                           ; SOURCE LINE # 485
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 82  

001B 900000      R     MOV     DPTR,#ch
001E E0                MOVX    A,@DPTR
001F FF                MOV     R7,A
0020 640D              XRL     A,#0DH
0022 6005              JZ      ?C0126
0024 EF                MOV     A,R7
0025 641B              XRL     A,#01BH
0027 7007              JNZ     ?C0125
0029         ?C0126:
0029 E4                CLR     A
002A 900000      R     MOV     DPTR,#comment
002D F0                MOVX    @DPTR,A
002E 801B              SJMP    ?C0128
0030         ?C0125:
                                           ; SOURCE LINE # 486
                                           ; SOURCE LINE # 487
0030 900000      R     MOV     DPTR,#ch
0033 E0                MOVX    A,@DPTR
0034 FF                MOV     R7,A
                                           ; SOURCE LINE # 488
0035 800E              SJMP    ?C0261
                                           ; SOURCE LINE # 489
                                           ; SOURCE LINE # 490
0037         ?C0124:
                                           ; SOURCE LINE # 491
0037 900000      R     MOV     DPTR,#ch
003A E0                MOVX    A,@DPTR
003B FF                MOV     R7,A
003C B43B0C            CJNE    A,#03BH,?C0128
                                           ; SOURCE LINE # 492
003F 900000      R     MOV     DPTR,#comment
0042 7401              MOV     A,#01H
0044 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 493
0045         ?C0261:
0045 120000      R     LCALL   _Mon_tx
                                           ; SOURCE LINE # 494
0048 7F00              MOV     R7,#00H
004A 22                RET     
                                           ; SOURCE LINE # 495
004B         ?C0128:
                                           ; SOURCE LINE # 498
004B 900000      R     MOV     DPTR,#ch
004E E0                MOVX    A,@DPTR
004F 120000      E     LCALL   ?C?CCASE
0052 0000        R     DW      ?C0148
0054 08                DB      08H
0055 0000        R     DW      ?C0132
0057 0D                DB      0DH
0058 0000        R     DW      ?C0131
005A 1B                DB      01BH
005B 0000        R     DW      ?C0150
005D 2C                DB      02CH
005E 0000        R     DW      ?C0156
0060 2E                DB      02EH
0061 0000        R     DW      ?C0147
0063 2F                DB      02FH
0064 0000        R     DW      ?C0153
0066 3C                DB      03CH
0067 0000        R     DW      ?C0159
0069 3E                DB      03EH
006A 0000              DW      00H
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 83  

006C 0000        R     DW      ?C0162
                                           ; SOURCE LINE # 500
006E         ?C0131:
                                           ; SOURCE LINE # 501
006E E4                CLR     A
006F 900000      R     MOV     DPTR,#argc
0072 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 502
                                           ; SOURCE LINE # 503
                                           ; SOURCE LINE # 504
                                           ; SOURCE LINE # 505
0073 803A              SJMP    ?C0262
                                           ; SOURCE LINE # 508
0075         ?C0132:
                                           ; SOURCE LINE # 510
0075 900000      R     MOV     DPTR,#incnt
0078 E0                MOVX    A,@DPTR
0079 7006              JNZ     ?C0133
                                           ; SOURCE LINE # 511
007B 120000      R     LCALL   Prompt
                                           ; SOURCE LINE # 512
007E 020000      R     LJMP    ?C0130
                                           ; SOURCE LINE # 513
0081         ?C0133:
                                           ; SOURCE LINE # 515
0081 900000      R     MOV     DPTR,#incnt
0084 E0                MOVX    A,@DPTR
0085 FF                MOV     R7,A
0086 04                INC     A
0087 F0                MOVX    @DPTR,A
0088 7400        R     MOV     A,#LOW monstr
008A 2F                ADD     A,R7
008B 120000      R     LCALL   L?0334
008E E4                CLR     A
008F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 516
0090 900000      R     MOV     DPTR,#argc
0093 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 518
0094 900000      R     MOV     DPTR,#i
0097 F0                MOVX    @DPTR,A
0098         ?C0134:
0098 120000      R     LCALL   L?0365
009B 500C              JNC     ?C0135
009D 120000      R     LCALL   L?0332
00A0 E0                MOVX    A,@DPTR
00A1 B42005            CJNE    A,#020H,?C0135
00A4 120000      R     LCALL   L?0368
00A7 80EF              SJMP    ?C0134
00A9         ?C0135:
                                           ; SOURCE LINE # 520
00A9 120000      R     LCALL   L?0332
00AC E0                MOVX    A,@DPTR
00AD 700E              JNZ     ?C0138
                                           ; SOURCE LINE # 521
00AF         ?C0262:
00AF 900000      R     MOV     DPTR,#incnt
00B2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 522
00B3 900000      R     MOV     DPTR,#comment
00B6 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 523
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 84  

00B7 120000      R     LCALL   Prompt
                                           ; SOURCE LINE # 524
00BA 7F00              MOV     R7,#00H
00BC 22                RET     
                                           ; SOURCE LINE # 525
00BD         ?C0138:
                                           ; SOURCE LINE # 526
00BD 120000      R     LCALL   L?0361
00C0 900000      R     MOV     DPTR,#argv
00C3 120000      E     LCALL   ?C?PSTXDATA
                                           ; SOURCE LINE # 527
00C6         ?C0139:
00C6 120000      R     LCALL   L?0365
00C9 504B              JNC     ?C0140
                                           ; SOURCE LINE # 528
00CB 120000      R     LCALL   L?0333
00CE E0                MOVX    A,@DPTR
00CF FF                MOV     R7,A
00D0 6420              XRL     A,#020H
00D2 6003              JZ      ?C0143
00D4 EF                MOV     A,R7
00D5 703A              JNZ     ?C0141
00D7         ?C0143:
                                           ; SOURCE LINE # 529
00D7 120000      R     LCALL   L?0333
00DA E4                CLR     A
00DB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 531
00DC 800E              SJMP    ?C0263
00DE         ?C0144:
                                           ; SOURCE LINE # 532
00DE 900000      R     MOV     DPTR,#i
00E1 E0                MOVX    A,@DPTR
00E2 2400        R     ADD     A,#LOW monstr
00E4 120000      R     LCALL   L?0334
00E7 E0                MOVX    A,@DPTR
00E8 FF                MOV     R7,A
00E9 B42005            CJNE    A,#020H,?C0145
00EC         ?C0263:
00EC 120000      R     LCALL   L?0368
00EF 80ED              SJMP    ?C0144
00F1         ?C0145:
                                           ; SOURCE LINE # 533
00F1 900000      R     MOV     DPTR,#argc
00F4 E0                MOVX    A,@DPTR
00F5 04                INC     A
00F6 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 534
00F7 EF                MOV     A,R7
00F8 6017              JZ      ?C0141
                                           ; SOURCE LINE # 535
00FA 120000      R     LCALL   L?0361
00FD 900000      R     MOV     DPTR,#argc
0100 E0                MOVX    A,@DPTR
0101 75F003            MOV     B,#03H
0104 A4                MUL     AB
0105 2400        R     ADD     A,#LOW argv
0107 F582              MOV     DPL,A
0109 E4                CLR     A
010A 3400        R     ADDC    A,#HIGH argv
010C F583              MOV     DPH,A
010E 120000      E     LCALL   ?C?PSTXDATA
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 85  

                                           ; SOURCE LINE # 536
                                           ; SOURCE LINE # 537
                                           ; SOURCE LINE # 538
0111         ?C0141:
0111 120000      R     LCALL   L?0369
0114 80B0              SJMP    ?C0139
0116         ?C0140:
                                           ; SOURCE LINE # 540
0116 900000      R     MOV     DPTR,#ret
0119 7401              MOV     A,#01H
                                           ; SOURCE LINE # 541
011B 120000      R     LCALL   L?0370
                                           ; SOURCE LINE # 542
011E E4                CLR     A
011F 900000      R     MOV     DPTR,#incnt
0122 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 544
0123 020000      R     LJMP    ?C0130
                                           ; SOURCE LINE # 547
0126         ?C0147:
                                           ; SOURCE LINE # 548
0126 900000      R     MOV     DPTR,#last_argc
0129 E0                MOVX    A,@DPTR
012A 900000      R     MOV     DPTR,#argc
012D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 549
012E 900000      R     MOV     DPTR,#ret
0131 7401              MOV     A,#01H
0133 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 550
0134 8061              SJMP    ?C0130
                                           ; SOURCE LINE # 553
0136         ?C0148:
                                           ; SOURCE LINE # 554
0136 900000      R     MOV     DPTR,#incnt
0139 E0                MOVX    A,@DPTR
013A 605B              JZ      ?C0130
                                           ; SOURCE LINE # 555
013C 14                DEC     A
013D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 556
013E 120000      R     LCALL   L?0362
                                           ; SOURCE LINE # 557
0141 7F20              MOV     R7,#020H
0143 120000      R     LCALL   _Mon_tx
                                           ; SOURCE LINE # 558
0146 120000      R     LCALL   L?0362
                                           ; SOURCE LINE # 559
                                           ; SOURCE LINE # 560
0149 804C              SJMP    ?C0130
                                           ; SOURCE LINE # 563
014B         ?C0150:
                                           ; SOURCE LINE # 564
014B 900000      R     MOV     DPTR,#incnt
014E E0                MOVX    A,@DPTR
014F 6002              JZ      ?C0151
                                           ; SOURCE LINE # 565
                                           ; SOURCE LINE # 566
                                           ; SOURCE LINE # 567
0151 802B              SJMP    ?C0270
0153         ?C0151:
                                           ; SOURCE LINE # 569
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 86  

0153 E4                CLR     A
0154 FF                MOV     R7,A
                                           ; SOURCE LINE # 570
0155 8022              SJMP    ?C0269
                                           ; SOURCE LINE # 572
0157         ?C0153:
                                           ; SOURCE LINE # 573
0157 900000      R     MOV     DPTR,#incnt
015A E0                MOVX    A,@DPTR
015B 6002              JZ      ?C0154
                                           ; SOURCE LINE # 574
015D         ?C0264:
                                           ; SOURCE LINE # 575
                                           ; SOURCE LINE # 576
015D 801F              SJMP    ?C0270
015F         ?C0154:
                                           ; SOURCE LINE # 578
015F 7F0A              MOV     R7,#0AH
0161         ?C0265:
                                           ; SOURCE LINE # 579
0161 8016              SJMP    ?C0269
                                           ; SOURCE LINE # 581
0163         ?C0156:
                                           ; SOURCE LINE # 582
0163 900000      R     MOV     DPTR,#incnt
0166 E0                MOVX    A,@DPTR
0167 6002              JZ      ?C0157
                                           ; SOURCE LINE # 583
0169         ?C0266:
                                           ; SOURCE LINE # 584
                                           ; SOURCE LINE # 585
0169 8013              SJMP    ?C0270
016B         ?C0157:
                                           ; SOURCE LINE # 587
016B 7F01              MOV     R7,#01H
016D         ?C0267:
                                           ; SOURCE LINE # 588
016D 800A              SJMP    ?C0269
                                           ; SOURCE LINE # 590
016F         ?C0159:
                                           ; SOURCE LINE # 591
016F 900000      R     MOV     DPTR,#incnt
0172 E0                MOVX    A,@DPTR
0173 6002              JZ      ?C0160
                                           ; SOURCE LINE # 592
0175         ?C0268:
                                           ; SOURCE LINE # 593
                                           ; SOURCE LINE # 594
0175 8007              SJMP    ?C0270
0177         ?C0160:
                                           ; SOURCE LINE # 596
0177 7F0B              MOV     R7,#0BH
0179         ?C0269:
0179 120000      R     LCALL   _MonIncDecI2C
                                           ; SOURCE LINE # 597
017C 8019              SJMP    ?C0130
                                           ; SOURCE LINE # 599
017E         ?C0162:
                                           ; SOURCE LINE # 600
017E         ?C0270:
017E 900000      R     MOV     DPTR,#ch
0181 E0                MOVX    A,@DPTR
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 87  

0182 FF                MOV     R7,A
0183 120000      R     LCALL   _Mon_tx
                                           ; SOURCE LINE # 601
0186 900000      R     MOV     DPTR,#ch
0189 E0                MOVX    A,@DPTR
018A FF                MOV     R7,A
018B 900000      R     MOV     DPTR,#incnt
018E E0                MOVX    A,@DPTR
018F FE                MOV     R6,A
0190 04                INC     A
0191 F0                MOVX    @DPTR,A
0192 120000      R     LCALL   L?0333
0195 EF                MOV     A,R7
0196 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 602
                                           ; SOURCE LINE # 603
0197         ?C0130:
                                           ; SOURCE LINE # 605
0197 900000      R     MOV     DPTR,#ret
019A E0                MOVX    A,@DPTR
019B FF                MOV     R7,A
019C 6008              JZ      ?C0163
                                           ; SOURCE LINE # 606
019E E4                CLR     A
019F 900000      R     MOV     DPTR,#comment
                                           ; SOURCE LINE # 607
01A2 120000      R     LCALL   L?0370
                                           ; SOURCE LINE # 608
01A5 22                RET     
                                           ; SOURCE LINE # 609
01A6         ?C0163:
                                           ; SOURCE LINE # 610
                                           ; SOURCE LINE # 611
01A6 900000      R     MOV     DPTR,#ret
01A9 E0                MOVX    A,@DPTR
01AA FF                MOV     R7,A
                                           ; SOURCE LINE # 612
                                           ; SOURCE LINE # 613
01AB         ?C0123:
01AB 22                RET     
01AC         L?0362:
01AC 900000      R     MOV     DPTR,#ch
01AF E0                MOVX    A,@DPTR
01B0 FF                MOV     R7,A
01B1 120000      R     LCALL   _Mon_tx
01B4 22                RET     
             ; FUNCTION MonGetCommand (END)

             ; FUNCTION Monitor (BEGIN)
                                           ; SOURCE LINE # 619
                                           ; SOURCE LINE # 620
                                           ; SOURCE LINE # 621
0000 120000      R     LCALL   MonGetCommand
0003 EF                MOV     A,R7
0004 7003              JNZ     $ + 5H
0006 020000      R     LJMP    ?C0166
                                           ; SOURCE LINE # 635
0009 C200        R     CLR     indirect
                                           ; SOURCE LINE # 638
000B 7A00        R     MOV     R2,#HIGH ?SC_898
000D 7900        R     MOV     R1,#LOW ?SC_898
000F 120000      R     LCALL   L?0290
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 88  

0012 7006              JNZ     ?C0167
                                           ; SOURCE LINE # 639
0014 120000      R     LCALL   MonWriteI2C
                                           ; SOURCE LINE # 640
0017 020000      R     LJMP    ?C0168
001A         ?C0167:
                                           ; SOURCE LINE # 641
001A 7A00        R     MOV     R2,#HIGH ?SC_900
001C 7900        R     MOV     R1,#LOW ?SC_900
001E 120000      R     LCALL   L?0290
0021 7008              JNZ     ?C0169
                                           ; SOURCE LINE # 642
0023 C200        R     CLR     indirect
                                           ; SOURCE LINE # 643
0025 120000      R     LCALL   MonNewWriteI2C
                                           ; SOURCE LINE # 644
0028 020000      R     LJMP    ?C0168
002B         ?C0169:
                                           ; SOURCE LINE # 656
002B 7A00        R     MOV     R2,#HIGH ?SC_902
002D 7900        R     MOV     R1,#LOW ?SC_902
002F 120000      R     LCALL   L?0291
0032 7006              JNZ     ?C0171
                                           ; SOURCE LINE # 657
0034 120000      R     LCALL   MonReadI2C
                                           ; SOURCE LINE # 658
0037 020000      R     LJMP    ?C0168
003A         ?C0171:
                                           ; SOURCE LINE # 659
003A 7A00        R     MOV     R2,#HIGH ?SC_904
003C 7900        R     MOV     R1,#LOW ?SC_904
003E 120000      R     LCALL   L?0291
0041 7008              JNZ     ?C0173
                                           ; SOURCE LINE # 660
0043 C200        R     CLR     indirect
                                           ; SOURCE LINE # 661
0045 120000      R     LCALL   MonNewReadI2C
                                           ; SOURCE LINE # 662
0048 020000      R     LJMP    ?C0168
004B         ?C0173:
                                           ; SOURCE LINE # 673
004B 7A00        R     MOV     R2,#HIGH ?SC_906
004D 7900        R     MOV     R1,#LOW ?SC_906
004F 120000      R     LCALL   L?0292
0052 700F              JNZ     ?C0175
                                           ; SOURCE LINE # 674
0054 7BFF              MOV     R3,#0FFH
0056 7A00        R     MOV     R2,#HIGH ?SC_908
0058 7900        R     MOV     R1,#LOW ?SC_908
005A 120000      E     LCALL   _Puts
                                           ; SOURCE LINE # 675
005D 120000      R     LCALL   MonDumpI2C
                                           ; SOURCE LINE # 676
0060 020000      R     LJMP    ?C0168
0063         ?C0175:
                                           ; SOURCE LINE # 677
0063 7A00        R     MOV     R2,#HIGH ?SC_921
0065 7900        R     MOV     R1,#LOW ?SC_921
0067 120000      R     LCALL   L?0292
006A 7008              JNZ     ?C0177
                                           ; SOURCE LINE # 678
006C C200        R     CLR     indirect
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 89  

                                           ; SOURCE LINE # 679
006E 120000      R     LCALL   MonNewDumpI2C
                                           ; SOURCE LINE # 680
0071 020000      R     LJMP    ?C0168
0074         ?C0177:
                                           ; SOURCE LINE # 683
0074 7A00        R     MOV     R2,#HIGH ?SC_923
0076 7900        R     MOV     R1,#LOW ?SC_923
0078 120000      R     LCALL   L?0293
007B 7006              JNZ     ?C0179
                                           ; SOURCE LINE # 684
007D 120000      R     LCALL   MonWriteBit
                                           ; SOURCE LINE # 685
0080 020000      R     LJMP    ?C0168
0083         ?C0179:
                                           ; SOURCE LINE # 687
0083 7A00        R     MOV     R2,#HIGH ?SC_925
0085 7900        R     MOV     R1,#LOW ?SC_925
0087 120000      R     LCALL   L?0293
008A 703C              JNZ     ?C0181
                                           ; SOURCE LINE # 688
008C 120000      R     LCALL   L?0309
008F 7E00              MOV     R6,#00H
0091 C007              PUSH    AR7
0093 900000      R     MOV     DPTR,#argv+06H
0096 120000      R     LCALL   L?0323
0099 EF                MOV     A,R7
009A FD                MOV     R5,A
009B 7C00              MOV     R4,#00H
009D D007              POP     AR7
009F 120000      E     LCALL   _WriteAD5110
                                           ; SOURCE LINE # 689
00A2 120000      R     LCALL   L?0309
00A5 7E00              MOV     R6,#00H
00A7 C007              PUSH    AR7
00A9 C006              PUSH    AR6
00AB 900000      R     MOV     DPTR,#argv+06H
00AE 120000      R     LCALL   L?0323
00B1 EE                MOV     A,R6
00B2 120000      R     LCALL   L?0307
00B5 900000      E     MOV     DPTR,#?_Printf?BYTE+03H
00B8 D0E0              POP     ACC
00BA F0                MOVX    @DPTR,A
00BB A3                INC     DPTR
00BC D0E0              POP     ACC
00BE F0                MOVX    @DPTR,A
00BF 7BFF              MOV     R3,#0FFH
00C1 7A00        R     MOV     R2,#HIGH ?SC_929
00C3 7900        R     MOV     R1,#LOW ?SC_929
                                           ; SOURCE LINE # 690
00C5 020000      R     LJMP    ?C0285
00C8         ?C0181:
                                           ; SOURCE LINE # 691
00C8 7A00        R     MOV     R2,#HIGH ?SC_965
00CA 7900        R     MOV     R1,#LOW ?SC_965
00CC 120000      R     LCALL   L?0294
00CF 7032              JNZ     ?C0183
                                           ; SOURCE LINE # 692
00D1 120000      R     LCALL   L?0309
00D4 7E00              MOV     R6,#00H
00D6 120000      E     LCALL   _ReadAD5110
                                           ; SOURCE LINE # 693
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 90  

00D9 120000      R     LCALL   L?0309
00DC 7E00              MOV     R6,#00H
00DE C007              PUSH    AR7
00E0 C006              PUSH    AR6
00E2 120000      R     LCALL   L?0309
00E5 120000      E     LCALL   _ReadAD5110
00E8 900000      E     MOV     DPTR,#?_Printf?BYTE+05H
00EB EE                MOV     A,R6
00EC F0                MOVX    @DPTR,A
00ED A3                INC     DPTR
00EE EF                MOV     A,R7
00EF F0                MOVX    @DPTR,A
00F0 900000      E     MOV     DPTR,#?_Printf?BYTE+03H
00F3 D0E0              POP     ACC
00F5 F0                MOVX    @DPTR,A
00F6 A3                INC     DPTR
00F7 D0E0              POP     ACC
00F9 F0                MOVX    @DPTR,A
00FA 7BFF              MOV     R3,#0FFH
00FC 7A00        R     MOV     R2,#HIGH ?SC_969
00FE 7900        R     MOV     R1,#LOW ?SC_969
0100         ?C0271:
                                           ; SOURCE LINE # 694
0100 020000      R     LJMP    ?C0285
0103         ?C0183:
                                           ; SOURCE LINE # 779
0103 7A00        R     MOV     R2,#HIGH ?SC_1004
0105 7900        R     MOV     R1,#LOW ?SC_1004
0107 120000      R     LCALL   L?0294
010A 7008              JNZ     ?C0185
                                           ; SOURCE LINE # 780
010C 120000      R     LCALL   L?0309
010F 8F00        R     MOV     MonAddress,R7
                                           ; SOURCE LINE # 781
0111 020000      R     LJMP    ?C0168
0114         ?C0185:
                                           ; SOURCE LINE # 784
0114 7A00        R     MOV     R2,#HIGH ?SC_1006
0116 7900        R     MOV     R1,#LOW ?SC_1006
0118 120000      R     LCALL   L?0295
011B 6012              JZ      ?C0188
011D 7A00        R     MOV     R2,#HIGH ?SC_1008
011F 7900        R     MOV     R1,#LOW ?SC_1008
0121 120000      R     LCALL   L?0295
0124 6009              JZ      ?C0188
0126 7A00        R     MOV     R2,#HIGH ?SC_1013
0128 7900        R     MOV     R1,#LOW ?SC_1013
012A 120000      R     LCALL   L?0296
012D 7006              JNZ     ?C0187
012F         ?C0188:
                                           ; SOURCE LINE # 785
012F 120000      R     LCALL   MonHelp
                                           ; SOURCE LINE # 787
0132 020000      R     LJMP    ?C0168
0135         ?C0187:
                                           ; SOURCE LINE # 789
0135 7A00        R     MOV     R2,#HIGH ?SC_1015
0137 7900        R     MOV     R1,#LOW ?SC_1015
0139 120000      R     LCALL   L?0296
013C 702E              JNZ     ?C0190
                                           ; SOURCE LINE # 791
013E 900000      R     MOV     DPTR,#argc
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 91  

0141 E0                MOVX    A,@DPTR
0142 6401              XRL     A,#01H
0144 701B              JNZ     ?C0191
                                           ; SOURCE LINE # 792
0146 7BFF              MOV     R3,#0FFH
0148 7A00        R     MOV     R2,#HIGH ?SC_1017
014A 7900        R     MOV     R1,#LOW ?SC_1017
014C 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 793
014F 7BFF              MOV     R3,#0FFH
0151 7A00        R     MOV     R2,#HIGH ?SC_1050
0153 7900        R     MOV     R1,#LOW ?SC_1050
0155 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 794
0158 7BFF              MOV     R3,#0FFH
015A 7A00        R     MOV     R2,#HIGH ?SC_1084
015C 7900        R     MOV     R1,#LOW ?SC_1084
015E         ?C0272:
                                           ; SOURCE LINE # 795
015E 020000      R     LJMP    ?C0285
0161         ?C0191:
                                           ; SOURCE LINE # 796
                                           ; SOURCE LINE # 798
0161 120000      R     LCALL   L?0309
0164 900000      R     MOV     DPTR,#mode
0167 EF                MOV     A,R7
0168 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 800
                                           ; SOURCE LINE # 801
0169 020000      R     LJMP    ?C0168
016C         ?C0190:
                                           ; SOURCE LINE # 811
016C 7A00        R     MOV     R2,#HIGH ?SC_1109
016E 7900        R     MOV     R1,#LOW ?SC_1109
0170 120000      R     LCALL   L?0298
0173 7003              JNZ     $ + 5H
0175 020000      R     LJMP    ?C0168
                                           ; SOURCE LINE # 813
                                           ; SOURCE LINE # 865
0178 7A00        R     MOV     R2,#HIGH ?SC_1115
017A 7900        R     MOV     R1,#LOW ?SC_1115
017C 120000      R     LCALL   L?0298
017F 7022              JNZ     ?C0196
                                           ; SOURCE LINE # 866
0181 900000      R     MOV     DPTR,#argc
0184 E0                MOVX    A,@DPTR
0185 6402              XRL     A,#02H
0187 700B              JNZ     ?C0197
                                           ; SOURCE LINE # 867
0189 120000      R     LCALL   L?0309
018C 900000      E     MOV     DPTR,#DebugLevel
018F EF                MOV     A,R7
0190 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 868
0191 120000      E     LCALL   _SaveDebugLevelEE
                                           ; SOURCE LINE # 869
0194         ?C0197:
                                           ; SOURCE LINE # 870
0194 7BFF              MOV     R3,#0FFH
0196 7A00        R     MOV     R2,#HIGH ?SC_1121
0198 7900        R     MOV     R1,#LOW ?SC_1121
019A 900000      E     MOV     DPTR,#DebugLevel
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 92  

019D 120000      R     LCALL   L?0316
01A0         ?C0273:
                                           ; SOURCE LINE # 871
01A0 020000      R     LJMP    ?C0285
01A3         ?C0196:
                                           ; SOURCE LINE # 874
01A3 7A00        R     MOV     R2,#HIGH ?SC_1141
01A5 7900        R     MOV     R1,#LOW ?SC_1141
01A7 120000      R     LCALL   L?0300
01AA 701B              JNZ     ?C0199
                                           ; SOURCE LINE # 875
01AC 120000      R     LCALL   L?0301
01AF 700B              JNZ     ?C0200
                                           ; SOURCE LINE # 876
01B1 C200        R     CLR     echo
                                           ; SOURCE LINE # 877
01B3 7BFF              MOV     R3,#0FFH
01B5 7A00        R     MOV     R2,#HIGH ?SC_1150
01B7 7900        R     MOV     R1,#LOW ?SC_1150
01B9         ?C0274:
                                           ; SOURCE LINE # 878
01B9 020000      R     LJMP    ?C0285
01BC         ?C0200:
                                           ; SOURCE LINE # 879
                                           ; SOURCE LINE # 880
01BC D200        R     SETB    echo
                                           ; SOURCE LINE # 881
01BE 7BFF              MOV     R3,#0FFH
01C0 7A00        R     MOV     R2,#HIGH ?SC_1161
01C2 7900        R     MOV     R1,#LOW ?SC_1161
01C4         ?C0275:
                                           ; SOURCE LINE # 882
                                           ; SOURCE LINE # 883
01C4 020000      R     LJMP    ?C0285
01C7         ?C0199:
                                           ; SOURCE LINE # 885
01C7 7A00        R     MOV     R2,#HIGH ?SC_1171
01C9 7900        R     MOV     R1,#LOW ?SC_1171
01CB 120000      R     LCALL   L?0300
01CE 702E              JNZ     ?C0203
                                           ; SOURCE LINE # 886
01D0 120000      R     LCALL   L?0297
01D3 700B              JNZ     ?C0204
                                           ; SOURCE LINE # 887
01D5 C2B4              CLR     P3_4
                                           ; SOURCE LINE # 888
01D7 7BFF              MOV     R3,#0FFH
01D9 7A00        R     MOV     R2,#HIGH ?SC_1179
01DB 7900        R     MOV     R1,#LOW ?SC_1179
01DD         ?C0276:
                                           ; SOURCE LINE # 889
01DD 020000      R     LJMP    ?C0285
01E0         ?C0204:
                                           ; SOURCE LINE # 890
01E0 120000      R     LCALL   L?0299
01E3 700B              JNZ     ?C0206
                                           ; SOURCE LINE # 891
01E5 D2B4              SETB    P3_4
                                           ; SOURCE LINE # 892
01E7 7BFF              MOV     R3,#0FFH
01E9 7A00        R     MOV     R2,#HIGH ?SC_1201
01EB 7900        R     MOV     R1,#LOW ?SC_1201
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 93  

01ED         ?C0277:
                                           ; SOURCE LINE # 893
01ED 020000      R     LJMP    ?C0285
01F0         ?C0206:
                                           ; SOURCE LINE # 894
                                           ; SOURCE LINE # 895
01F0 7BFF              MOV     R3,#0FFH
01F2 7A00        R     MOV     R2,#HIGH ?SC_1221
01F4 7900        R     MOV     R1,#LOW ?SC_1221
01F6 A2B4              MOV     C,P3_4
01F8 120000      R     LCALL   L?0354
01FB         ?C0278:
                                           ; SOURCE LINE # 896
                                           ; SOURCE LINE # 897
01FB 020000      R     LJMP    ?C0285
01FE         ?C0203:
                                           ; SOURCE LINE # 898
01FE 7A00        R     MOV     R2,#HIGH ?SC_1241
0200 7900        R     MOV     R1,#LOW ?SC_1241
0202 120000      R     LCALL   L?0302
0205 7028              JNZ     ?C0209
                                           ; SOURCE LINE # 899
0207 120000      R     LCALL   L?0297
020A 7009              JNZ     ?C0210
                                           ; SOURCE LINE # 901
020C 7BFF              MOV     R3,#0FFH
020E 7A00        R     MOV     R2,#HIGH ?SC_1246
0210 7900        R     MOV     R1,#LOW ?SC_1246
0212         ?C0279:
                                           ; SOURCE LINE # 902
0212 020000      R     LJMP    ?C0285
0215         ?C0210:
                                           ; SOURCE LINE # 903
0215 120000      R     LCALL   L?0299
0218 7BFF              MOV     R3,#0FFH
021A 7007              JNZ     ?C0212
                                           ; SOURCE LINE # 905
021C 7A00        R     MOV     R2,#HIGH ?SC_1265
021E 7900        R     MOV     R1,#LOW ?SC_1265
0220         ?C0280:
                                           ; SOURCE LINE # 906
0220 020000      R     LJMP    ?C0285
0223         ?C0212:
                                           ; SOURCE LINE # 907
                                           ; SOURCE LINE # 908
0223 7A00        R     MOV     R2,#HIGH ?SC_1284
0225 7900        R     MOV     R1,#LOW ?SC_1284
0227 A287              MOV     C,P0_7
0229 120000      R     LCALL   L?0354
022C         ?C0281:
                                           ; SOURCE LINE # 909
                                           ; SOURCE LINE # 910
022C 020000      R     LJMP    ?C0285
022F         ?C0209:
                                           ; SOURCE LINE # 911
022F 7A00        R     MOV     R2,#HIGH ?SC_1303
0231 7900        R     MOV     R1,#LOW ?SC_1303
0233 120000      R     LCALL   L?0302
0236 7036              JNZ     ?C0215
                                           ; SOURCE LINE # 912
0238 7A00        R     MOV     R2,#HIGH ?SC_1177
023A 7900        R     MOV     R1,#LOW ?SC_1177
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 94  

023C 120000      R     LCALL   L?0310
023F 700B              JNZ     ?C0216
                                           ; SOURCE LINE # 913
0241 C2B7              CLR     P3_7
                                           ; SOURCE LINE # 914
0243 7BFF              MOV     R3,#0FFH
0245 7A00        R     MOV     R2,#HIGH ?SC_1307
0247 7900        R     MOV     R1,#LOW ?SC_1307
0249         ?C0282:
                                           ; SOURCE LINE # 915
0249 020000      R     LJMP    ?C0285
024C         ?C0216:
                                           ; SOURCE LINE # 916
024C 7A00        R     MOV     R2,#HIGH ?SC_1199
024E 7900        R     MOV     R1,#LOW ?SC_1199
0250 120000      R     LCALL   L?0310
0253 700B              JNZ     ?C0218
                                           ; SOURCE LINE # 917
0255 D2B7              SETB    P3_7
                                           ; SOURCE LINE # 918
0257 7BFF              MOV     R3,#0FFH
0259 7A00        R     MOV     R2,#HIGH ?SC_1331
025B 7900        R     MOV     R1,#LOW ?SC_1331
025D         ?C0283:
                                           ; SOURCE LINE # 919
025D 020000      R     LJMP    ?C0285
0260         ?C0218:
                                           ; SOURCE LINE # 920
                                           ; SOURCE LINE # 921
0260 7BFF              MOV     R3,#0FFH
0262 7A00        R     MOV     R2,#HIGH ?SC_1355
0264 7900        R     MOV     R1,#LOW ?SC_1355
0266 A2B7              MOV     C,P3_7
0268 120000      R     LCALL   L?0355
026B         ?C0284:
                                           ; SOURCE LINE # 922
                                           ; SOURCE LINE # 923
026B 020000      R     LJMP    ?C0285
026E         ?C0215:
                                           ; SOURCE LINE # 925
026E 7A00        R     MOV     R2,#HIGH ?SC_1379
0270 7900        R     MOV     R1,#LOW ?SC_1379
0272 120000      R     LCALL   L?0311
0275 7044              JNZ     ?C0221
                                           ; SOURCE LINE # 926
0277 7A00        R     MOV     R2,#HIGH ?SC_1383
0279 7900        R     MOV     R1,#LOW ?SC_1383
027B 120000      R     LCALL   L?0312
027E 7003              JNZ     $ + 5H
0280 020000      R     LJMP    ?C0168
                                           ; SOURCE LINE # 928
                                           ; SOURCE LINE # 929
0283 7A00        R     MOV     R2,#HIGH ?SC_1388
0285 7900        R     MOV     R1,#LOW ?SC_1388
0287 120000      R     LCALL   L?0312
028A 701D              JNZ     ?C0224
                                           ; SOURCE LINE # 930
028C 7BFF              MOV     R3,#0FFH
028E 7A00        R     MOV     R2,#HIGH ?SC_1392
0290 7900        R     MOV     R1,#LOW ?SC_1392
0292 120000      E     LCALL   _Puts
0295         ?C0225:
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 95  

                                           ; SOURCE LINE # 931
0295 120000      E     LCALL   RS_ready
0298 EF                MOV     A,R7
0299 6003              JZ      $ + 5H
029B 020000      R     LJMP    ?C0168
                                           ; SOURCE LINE # 932
029E 7D95              MOV     R5,#095H
02A0 7F8A              MOV     R7,#08AH
02A2 120000      E     LCALL   _ReadI2C
02A5 8FA0              MOV     P2,R7
                                           ; SOURCE LINE # 933
02A7 80EC              SJMP    ?C0225
                                           ; SOURCE LINE # 934
02A9         ?C0224:
                                           ; SOURCE LINE # 935
02A9 7A00        R     MOV     R2,#HIGH ?SC_1435
02AB 7900        R     MOV     R1,#LOW ?SC_1435
02AD 120000      R     LCALL   L?0326
02B0 7003              JNZ     $ + 5H
02B2 020000      R     LJMP    ?C0168
                                           ; SOURCE LINE # 937
                                           ; SOURCE LINE # 938
02B5 120000      R     LCALL   L?0301
                                           ; SOURCE LINE # 940
                                           ; SOURCE LINE # 1082
02B8 020000      R     LJMP    ?C0168
02BB         ?C0221:
                                           ; SOURCE LINE # 1084
02BB 7A00        R     MOV     R2,#HIGH ?SC_1441
02BD 7900        R     MOV     R1,#LOW ?SC_1441
02BF 120000      R     LCALL   L?0311
02C2 7013              JNZ     ?C0232
                                           ; SOURCE LINE # 1085
02C4 120000      R     LCALL   L?0309
02C7 AD07              MOV     R5,AR7
02C9 7F14              MOV     R7,#014H
02CB 120000      E     LCALL   _SET_PWM
                                           ; SOURCE LINE # 1086
02CE 7BFF              MOV     R3,#0FFH
02D0 7A00        R     MOV     R2,#HIGH ?SC_1446
02D2 7900        R     MOV     R1,#LOW ?SC_1446
                                           ; SOURCE LINE # 1087
02D4 020000      R     LJMP    ?C0289
02D7         ?C0232:
                                           ; SOURCE LINE # 1088
02D7 7A00        R     MOV     R2,#HIGH ?SC_1460
02D9 7900        R     MOV     R1,#LOW ?SC_1460
02DB 120000      R     LCALL   L?0319
02DE 7013              JNZ     ?C0234
                                           ; SOURCE LINE # 1089
02E0 120000      R     LCALL   L?0309
02E3 AD07              MOV     R5,AR7
02E5 7F15              MOV     R7,#015H
02E7 120000      E     LCALL   _SET_PWM
                                           ; SOURCE LINE # 1090
02EA 7BFF              MOV     R3,#0FFH
02EC 7A00        R     MOV     R2,#HIGH ?SC_1465
02EE 7900        R     MOV     R1,#LOW ?SC_1465
02F0         ?C0286:
                                           ; SOURCE LINE # 1091
02F0 020000      R     LJMP    ?C0289
02F3         ?C0234:
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 96  

                                           ; SOURCE LINE # 1092
02F3 7A00        R     MOV     R2,#HIGH ?SC_1479
02F5 7900        R     MOV     R1,#LOW ?SC_1479
02F7 120000      R     LCALL   L?0319
02FA 7023              JNZ     ?C0236
                                           ; SOURCE LINE # 1093
02FC 120000      R     LCALL   L?0309
02FF EF                MOV     A,R7
0300 600F              JZ      ?C0237
                                           ; SOURCE LINE # 1094
                                           ; SOURCE LINE # 1095
0302 7DFF              MOV     R5,#0FFH
0304 7FFF              MOV     R7,#0FFH
0306 120000      E     LCALL   _SET_PWM
                                           ; SOURCE LINE # 1096
0309 7BFF              MOV     R3,#0FFH
030B 7A00        R     MOV     R2,#HIGH ?SC_1483
030D 7900        R     MOV     R1,#LOW ?SC_1483
030F         ?C0287:
                                           ; SOURCE LINE # 1097
030F 804D              SJMP    ?C0289
0311         ?C0237:
                                           ; SOURCE LINE # 1099
                                           ; SOURCE LINE # 1100
0311 E4                CLR     A
0312 FD                MOV     R5,A
0313 FF                MOV     R7,A
0314 120000      E     LCALL   _SET_PWM
                                           ; SOURCE LINE # 1101
0317 7BFF              MOV     R3,#0FFH
0319 7A00        R     MOV     R2,#HIGH ?SC_1494
031B 7900        R     MOV     R1,#LOW ?SC_1494
031D         ?C0288:
                                           ; SOURCE LINE # 1102
                                           ; SOURCE LINE # 1103
031D 803F              SJMP    ?C0289
031F         ?C0236:
                                           ; SOURCE LINE # 1105
031F 7A00        R     MOV     R2,#HIGH ?SC_1505
0321 7900        R     MOV     R1,#LOW ?SC_1505
0323 120000      R     LCALL   L?0350
0326 7005              JNZ     ?C0240
                                           ; SOURCE LINE # 1106
0328 120000      R     LCALL   MonTxDump
                                           ; SOURCE LINE # 1107
032B 803F              SJMP    ?C0168
032D         ?C0240:
                                           ; SOURCE LINE # 1109
032D 7A00        R     MOV     R2,#HIGH ?SC_1508
032F 7900        R     MOV     R1,#LOW ?SC_1508
0331 120000      R     LCALL   L?0350
0334 702D              JNZ     ?C0242
                                           ; SOURCE LINE # 1110
0336 7A00        R     MOV     R2,#HIGH ?SC_1513
0338 7900        R     MOV     R1,#LOW ?SC_1513
033A 120000      R     LCALL   L?0326
033D 602D              JZ      ?C0168
                                           ; SOURCE LINE # 1112
                                           ; SOURCE LINE # 1113
033F 7BFF              MOV     R3,#0FFH
0341 7A00        R     MOV     R2,#HIGH ?SC_1517
0343 7900        R     MOV     R1,#LOW ?SC_1517
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 97  

0345 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
0348 120000      E     LCALL   ?C?PSTXDATA
034B 900000      R     MOV     DPTR,#argv+03H
034E 120000      E     LCALL   ?C?PLDXDATA
0351 120000      R     LCALL   _stricmp
0354 EF                MOV     A,R7
0355 4E                ORL     A,R6
0356 6014              JZ      ?C0168
                                           ; SOURCE LINE # 1115
                                           ; SOURCE LINE # 1116
                                           ; SOURCE LINE # 1117
0358 7BFF              MOV     R3,#0FFH
035A 7A00        R     MOV     R2,#HIGH ?SC_1521
035C 7900        R     MOV     R1,#LOW ?SC_1521
035E         ?C0289:
035E 120000      E     LCALL   _Puts
                                           ; SOURCE LINE # 1118
                                           ; SOURCE LINE # 1119
0361 8009              SJMP    ?C0168
0363         ?C0242:
                                           ; SOURCE LINE # 1144
                                           ; SOURCE LINE # 1145
0363 7BFF              MOV     R3,#0FFH
0365 7A00        R     MOV     R2,#HIGH ?SC_1561
0367 7900        R     MOV     R1,#LOW ?SC_1561
0369         ?C0285:
0369 120000      E     LCALL   _Printf
                                           ; SOURCE LINE # 1146
036C         ?C0168:
                                           ; SOURCE LINE # 1149
036C 120000      R     LCALL   Prompt
                                           ; SOURCE LINE # 1152
036F         ?C0166:
036F 22                RET     
0370         L?0290:
0370 7BFF              MOV     R3,#0FFH
0372 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
0375 120000      E     LCALL   ?C?PSTXDATA
0378 900000      R     MOV     DPTR,#argv
037B 120000      E     LCALL   ?C?PLDXDATA
037E 120000      R     LCALL   _stricmp
0381 EF                MOV     A,R7
0382 4E                ORL     A,R6
0383 22                RET     
0384         L?0291:
0384 7BFF              MOV     R3,#0FFH
0386 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
0389 120000      E     LCALL   ?C?PSTXDATA
038C 900000      R     MOV     DPTR,#argv
038F 120000      E     LCALL   ?C?PLDXDATA
0392 120000      R     LCALL   _stricmp
0395 EF                MOV     A,R7
0396 4E                ORL     A,R6
0397 22                RET     
0398         L?0292:
0398 7BFF              MOV     R3,#0FFH
039A 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
039D 120000      E     LCALL   ?C?PSTXDATA
03A0 900000      R     MOV     DPTR,#argv
03A3 120000      E     LCALL   ?C?PLDXDATA
03A6 120000      R     LCALL   _stricmp
03A9 EF                MOV     A,R7
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 98  

03AA 4E                ORL     A,R6
03AB 22                RET     
03AC         L?0293:
03AC 7BFF              MOV     R3,#0FFH
03AE 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
03B1 120000      E     LCALL   ?C?PSTXDATA
03B4 900000      R     MOV     DPTR,#argv
03B7 120000      E     LCALL   ?C?PLDXDATA
03BA 120000      R     LCALL   _stricmp
03BD EF                MOV     A,R7
03BE 4E                ORL     A,R6
03BF 22                RET     
03C0         L?0294:
03C0 7BFF              MOV     R3,#0FFH
03C2 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
03C5 120000      E     LCALL   ?C?PSTXDATA
03C8 900000      R     MOV     DPTR,#argv
03CB 120000      E     LCALL   ?C?PLDXDATA
03CE 120000      R     LCALL   _stricmp
03D1 EF                MOV     A,R7
03D2 4E                ORL     A,R6
03D3 22                RET     
03D4         L?0295:
03D4 7BFF              MOV     R3,#0FFH
03D6 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
03D9 120000      E     LCALL   ?C?PSTXDATA
03DC 900000      R     MOV     DPTR,#argv
03DF 120000      E     LCALL   ?C?PLDXDATA
03E2 120000      R     LCALL   _stricmp
03E5 EF                MOV     A,R7
03E6 4E                ORL     A,R6
03E7 22                RET     
03E8         L?0296:
03E8 7BFF              MOV     R3,#0FFH
03EA 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
03ED 120000      E     LCALL   ?C?PSTXDATA
03F0 900000      R     MOV     DPTR,#argv
03F3 120000      E     LCALL   ?C?PLDXDATA
03F6 120000      R     LCALL   _stricmp
03F9 EF                MOV     A,R7
03FA 4E                ORL     A,R6
03FB 22                RET     
03FC         L?0297:
03FC 7BFF              MOV     R3,#0FFH
03FE 7A00        R     MOV     R2,#HIGH ?SC_1177
0400 7900        R     MOV     R1,#LOW ?SC_1177
0402 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
0405 120000      E     LCALL   ?C?PSTXDATA
0408 900000      R     MOV     DPTR,#argv+03H
040B 120000      E     LCALL   ?C?PLDXDATA
040E 120000      R     LCALL   _stricmp
0411 EF                MOV     A,R7
0412 4E                ORL     A,R6
0413 22                RET     
0414         L?0298:
0414 7BFF              MOV     R3,#0FFH
0416 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
0419 120000      E     LCALL   ?C?PSTXDATA
041C 900000      R     MOV     DPTR,#argv
041F 120000      E     LCALL   ?C?PLDXDATA
0422 120000      R     LCALL   _stricmp
0425 EF                MOV     A,R7
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 99  

0426 4E                ORL     A,R6
0427 22                RET     
0428         L?0299:
0428 7BFF              MOV     R3,#0FFH
042A 7A00        R     MOV     R2,#HIGH ?SC_1199
042C 7900        R     MOV     R1,#LOW ?SC_1199
042E 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
0431 120000      E     LCALL   ?C?PSTXDATA
0434 900000      R     MOV     DPTR,#argv+03H
0437 120000      E     LCALL   ?C?PLDXDATA
043A 120000      R     LCALL   _stricmp
043D EF                MOV     A,R7
043E 4E                ORL     A,R6
043F 22                RET     
0440         L?0300:
0440 7BFF              MOV     R3,#0FFH
0442 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
0445 120000      E     LCALL   ?C?PSTXDATA
0448 900000      R     MOV     DPTR,#argv
044B 120000      E     LCALL   ?C?PLDXDATA
044E 120000      R     LCALL   _stricmp
0451 EF                MOV     A,R7
0452 4E                ORL     A,R6
0453 22                RET     
0454         L?0301:
0454 7BFF              MOV     R3,#0FFH
0456 7A00        R     MOV     R2,#HIGH ?SC_1146
0458 7900        R     MOV     R1,#LOW ?SC_1146
045A 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
045D 120000      E     LCALL   ?C?PSTXDATA
0460 900000      R     MOV     DPTR,#argv+03H
0463 120000      E     LCALL   ?C?PLDXDATA
0466 120000      R     LCALL   _stricmp
0469 EF                MOV     A,R7
046A 4E                ORL     A,R6
046B 22                RET     
046C         L?0302:
046C 7BFF              MOV     R3,#0FFH
046E 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
0471 120000      E     LCALL   ?C?PSTXDATA
0474 900000      R     MOV     DPTR,#argv
0477 120000      E     LCALL   ?C?PLDXDATA
047A 120000      R     LCALL   _stricmp
047D EF                MOV     A,R7
047E 4E                ORL     A,R6
047F 22                RET     
0480         L?0310:
0480 7BFF              MOV     R3,#0FFH
0482 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
0485 120000      E     LCALL   ?C?PSTXDATA
0488 900000      R     MOV     DPTR,#argv+03H
048B 120000      E     LCALL   ?C?PLDXDATA
048E 120000      R     LCALL   _stricmp
0491 EF                MOV     A,R7
0492 4E                ORL     A,R6
0493 22                RET     
0494         L?0311:
0494 7BFF              MOV     R3,#0FFH
0496 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
0499 120000      E     LCALL   ?C?PSTXDATA
049C 900000      R     MOV     DPTR,#argv
049F 120000      E     LCALL   ?C?PLDXDATA
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 100 

04A2 120000      R     LCALL   _stricmp
04A5 EF                MOV     A,R7
04A6 4E                ORL     A,R6
04A7 22                RET     
04A8         L?0312:
04A8 7BFF              MOV     R3,#0FFH
04AA 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
04AD 120000      E     LCALL   ?C?PSTXDATA
04B0 900000      R     MOV     DPTR,#argv+03H
04B3 120000      E     LCALL   ?C?PLDXDATA
04B6 120000      R     LCALL   _stricmp
04B9 EF                MOV     A,R7
04BA 4E                ORL     A,R6
04BB 22                RET     
04BC         L?0319:
04BC 7BFF              MOV     R3,#0FFH
04BE 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
04C1 120000      E     LCALL   ?C?PSTXDATA
04C4 900000      R     MOV     DPTR,#argv
04C7 120000      E     LCALL   ?C?PLDXDATA
04CA 120000      R     LCALL   _stricmp
04CD EF                MOV     A,R7
04CE 4E                ORL     A,R6
04CF 22                RET     
04D0         L?0326:
04D0 7BFF              MOV     R3,#0FFH
04D2 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
04D5 120000      E     LCALL   ?C?PSTXDATA
04D8 900000      R     MOV     DPTR,#argv+03H
04DB 120000      E     LCALL   ?C?PLDXDATA
04DE 120000      R     LCALL   _stricmp
04E1 EF                MOV     A,R7
04E2 4E                ORL     A,R6
04E3 22                RET     
04E4         L?0350:
04E4 7BFF              MOV     R3,#0FFH
04E6 900000      R     MOV     DPTR,#?_stricmp?BYTE+03H
04E9 120000      E     LCALL   ?C?PSTXDATA
04EC 900000      R     MOV     DPTR,#argv
04EF 120000      E     LCALL   ?C?PLDXDATA
04F2 120000      R     LCALL   _stricmp
04F5 EF                MOV     A,R7
04F6 4E                ORL     A,R6
04F7 22                RET     
             ; FUNCTION Monitor (END)

C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 101 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


_SCALER_TIMER_EVENT_DP_LINK_STATUS_IRQ  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_GO_TO_POWER_SAVING .  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_AUDIO_LOAD_STABLE_  E_CONST  -----  U_CHAR   -----  1
EnumBatteryStatus. . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_START. . . . . . .  E_CONST  -----  U_CHAR   -----  1
P2 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A0H  1
EnumModeAction . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
DWORD. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
_SaveDebugLevelEE. . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
MonDumpI2C . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  ToMonIndex . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
  cnt. . . . . . . . . . . . . . . . .  AUTO     XDATA  INT      0001H  2
P4 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E8H  1
_POWER_ACTION_NORMAL_TO_NOSUPPORT_PS .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_JUDGE_BTH_STATE. .  E_CONST  -----  U_CHAR   -----  1
Prompt . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_stricmp . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  ptr1 . . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0000H  3
  ptr2 . . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0003H  3
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  INT      0006H  2
  ret. . . . . . . . . . . . . . . . .  * REG *  DATA   INT      0006H  2
_BATT_STATUS_CAPACITY_HIGH . . . . . .  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_OSD_DISABLE. . . . .  E_CONST  -----  U_CHAR   -----  1
_BATT_STATUS_STOP_CHARGE . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_RED_OFF. . . . . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_SOURCE_CLEAR_DETEC  E_CONST  -----  U_CHAR   -----  1
_BATT_STATUS_ABNORMAL_MODE . . . . . .  E_CONST  -----  U_CHAR   -----  1
EnumPowerAction. . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_OSD_SHOW_NO_CABLE. .  E_CONST  -----  U_CHAR   -----  1
_MODE_STATUS_NOSIGNAL. . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_MODE_STATUS_NOSUPPORT . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_MODE_ACTION_RESET_TO_DISPLAY_SETTING.  E_CONST  -----  U_CHAR   -----  1
MonTxDump. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  count. . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0000H  2
MonGetCommand. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  comment. . . . . . . . . . . . . . .  STATIC   XDATA  U_CHAR   0000H  1
  incnt. . . . . . . . . . . . . . . .  STATIC   XDATA  U_CHAR   0001H  1
  last_argc. . . . . . . . . . . . . .  STATIC   XDATA  U_CHAR   0002H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
  ch . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0001H  1
  ret. . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0002H  1
_BATT_STATUS_CAPACITY_LEVEL1 . . . . .  E_CONST  -----  U_CHAR   -----  1
_MODE_ACTION_NO_RESET_MODE . . . . . .  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_KEY_SCAN_READY . . .  E_CONST  -----  U_CHAR   -----  1
_BATT_STATUS_CAPACITY_LEVEL2 . . . . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_GRN_RED_ON . . . .  E_CONST  -----  U_CHAR   -----  1
_toupper . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     000BH  -----
  ch . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
_BATT_STATUS_CAPACITY_LEVEL3 . . . . .  E_CONST  -----  U_CHAR   -----  1
_MODE_ACTION_RESET_TO_FACTORY_MODE . .  E_CONST  -----  U_CHAR   -----  1
_POWER_ACTION_NOSUPPORT_PS_TO_OFF. . .  E_CONST  -----  U_CHAR   -----  1
_MonIncDecI2C. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  inc. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
_BATT_STATUS_CAPACITY_LEVEL4 . . . . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_GRN_OFF. . . . . .  E_CONST  -----  U_CHAR   -----  1
MonNewReadI2C. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  Slave. . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 102 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


P3_4 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B4H  1
P0_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0087H  1
EnumMCUTimerEventID. . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
_BATT_STATUS_TEMP_NORMAL . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_NR_DETECTION_FINIS  E_CONST  -----  U_CHAR   -----  1
_POWER_STATUS_AC_ON. . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
P3_7 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00B7H  1
MonRdata . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0003H  1
_SCALER_TIMER_EVENT_END. . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_SHOW_BURN_IN . . . .  E_CONST  -----  U_CHAR   -----  1
RS_ready . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
StructBatteryInfoType. . . . . . . . .  TYPEDEF  -----  STRUCT   -----  4
  b5BatteryStatus. . . . . . . . . . .  MEMBER   -----  FIELD    0000H  5.0
  b1NoBattery. . . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  1.5
  b1AC_PLUG. . . . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  1.6
  b3BTHStatus. . . . . . . . . . . . .  MEMBER   -----  FIELD    0001H  3.0
  b1BatteryCapacityLow . . . . . . . .  MEMBER   -----  FIELD    0001H  1.3
  b1BatteryAbnormal. . . . . . . . . .  MEMBER   -----  FIELD    0001H  1.4
  b2BatteryChargeStatus. . . . . . . .  MEMBER   -----  FIELD    0001H  2.5
  BatteryCapacity. . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
_USER_TIMER_EVENT_OSD_ENCODER_DEVIATIO  E_CONST  -----  U_CHAR   -----  1
argc . . . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0004H  1
_SYSTEM_TIMER_EVENT_RED_BLINK. . . . .  E_CONST  -----  U_CHAR   -----  1
MonWdata . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0005H  1
_SCALER_TIMER_EVENT_DP_HOTPLUG_ASSERTED E_CONST  -----  U_CHAR   -----  1
AccessEnable . . . . . . . . . . . . .  PUBLIC   DATA   BIT      0000H  1
echo . . . . . . . . . . . . . . . . .  PUBLIC   DATA   BIT      0001H  1
_POWER_STATUS_NOSUPPORT_SAVING . . . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_JUDGE_PSW_STATE. .  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_END. . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_POWER_ACTION_NONE . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_POWER_ACTION_AC_ON_TO_NORMAL. . . . .  E_CONST  -----  U_CHAR   -----  1
_MODE_ACTION_RESET_TO_DISPLAY_SETTING_  E_CONST  -----  U_CHAR   -----  1
StructTimerEventTableType. . . . . . .  TYPEDEF  -----  STRUCT   -----  3
  b1EventValid . . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  1.0
  b7EventID. . . . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  7.1
  usTime . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
MonNewWriteI2C . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  Slave. . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
monstr . . . . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    0006H  30
MonIndex . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0024H  1
_USER_TIMER_EVENT_PANEL_BACKLIGHT_ON .  E_CONST  -----  U_CHAR   -----  1
EnumModeStatus . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_CHECK. . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_MODE_ACTION_RESET_TO_SEARCH . . . . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_GRN_BLINK. . . . .  E_CONST  -----  U_CHAR   -----  1
_MODE_ACTION_RESET_TO_POWER_SAVING . .  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_OSD_DVR_REBOOT . . .  E_CONST  -----  U_CHAR   -----  1
_Puts. . . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_SCALER_TIMER_EVENT_MHL_D0_READY_TO_TR  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_MHL_D1_READY_TO_TR  E_CONST  -----  U_CHAR   -----  1
MonNewDumpI2C. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  ToMonIndex . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
  Slave. . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0001H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0002H  2
EnumPowerStatus. . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
argv . . . . . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    0025H  21
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 103 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


_USER_TIMER_EVENT_PANEL_USED_TIMER . .  E_CONST  -----  U_CHAR   -----  1
_POWER_ACTION_AC_ON_TO_OFF . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_JUDGE_WDT_ECHO . .  E_CONST  -----  U_CHAR   -----  1
_BATT_STATUS_LOW_CHARGE. . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_JUDGE_POWER_STATE.  E_CONST  -----  U_CHAR   -----  1
BYTE . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
MonHelp. . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_MODE_ACTION_NONE. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_TMDS_HDMI_PACKET_D  E_CONST  -----  U_CHAR   -----  1
EnumSystemTimerEventID . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_LED_POWER_SAVING . .  E_CONST  -----  U_CHAR   -----  1
_MODE_STATUS_INITIAL . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_ReadI2C . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_MODE_ACTION_RESET_TO_POWER_OFF. . . .  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_MHL_D0_ACTIVE_VBUS  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_JUDGE_DVR_COMM . .  E_CONST  -----  U_CHAR   -----  1
WORD . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
_SCALER_TIMER_EVENT_MHL_D1_ACTIVE_VBUS  E_CONST  -----  U_CHAR   -----  1
_BATT_STATUS_TEMP_LOW. . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_BATT_STATUS_AC_MODE . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_PHASE_CNT_CHECK. .  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_HLWIN_TYPE5_MOVE . .  E_CONST  -----  U_CHAR   -----  1
_SET_PWM . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_USER_TIMER_EVENT_OSD_GET_MCU_VERSION.  E_CONST  -----  U_CHAR   -----  1
_POWER_ACTION_NORMAL_TO_PS . . . . . .  E_CONST  -----  U_CHAR   -----  1
_POWER_ACTION_PS_TO_NORMAL . . . . . .  E_CONST  -----  U_CHAR   -----  1
StructModeInfoType . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  2
  b5ModeState. . . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  5.0
  b1DisplaySettingReady. . . . . . . .  MEMBER   -----  FIELD    0000H  1.5
  b1TimingConfirm. . . . . . . . . . .  MEMBER   -----  FIELD    0000H  1.6
  b1ModeStateChanged . . . . . . . . .  MEMBER   -----  FIELD    0000H  1.7
  b4ModeResetFlag. . . . . . . . . . .  MEMBER   -----  FIELD    0001H  4.0
  b1NoWaitForActive. . . . . . . . . .  MEMBER   -----  FIELD    0001H  1.4
  b1ActiveReady. . . . . . . . . . . .  MEMBER   -----  FIELD    0001H  1.5
_USER_TIMER_EVENT_OSD_DISTANCE_RESET .  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_PHASE_CALIBRATION.  E_CONST  -----  U_CHAR   -----  1
_POWER_STATUS_NONE . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_END. . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_MODE_STATUS_FACTORY . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_MODE_STATUS_DISPLAY_SETTING . . . . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_RED_ON . . . . . .  E_CONST  -----  U_CHAR   -----  1
Register . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
_ReadAD5110. . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_WriteI2C. . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_SYSTEM_TIMER_EVENT_JUDGE_AC_MODE. . .  E_CONST  -----  U_CHAR   -----  1
StructPowerInfoType. . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  2
  b4PowerAction. . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  4.0
  b4PowerStatus. . . . . . . . . . . .  MEMBER   -----  FIELD    0000H  4.4
  b1GDIIsolationFlag . . . . . . . . .  MEMBER   -----  FIELD    0001H  1.0
  b1TopIsolationFlag . . . . . . . . .  MEMBER   -----  FIELD    0001H  1.1
  b1AnalogIsolationFlag. . . . . . . .  MEMBER   -----  FIELD    0001H  1.2
_USER_TIMER_EVENT_OSD_MCU_ENTRY_SLEEP_  E_CONST  -----  U_CHAR   -----  1
_MODE_ACTION_RESET_TO_NOSIGNAL . . . .  E_CONST  -----  U_CHAR   -----  1
_MODE_ACTION_RESET_TO_NOSUPPORT. . . .  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_COUNT. . . . . . .  E_CONST  -----  U_CHAR   -----  1
_BATT_STATUS_START_CHARGE. . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_JUDGE_BATT_STATE .  E_CONST  -----  U_CHAR   -----  1
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 104 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


EnumUserTimerEventID . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
_POWER_ACTION_PS_TO_OFF. . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_COUNT. . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_START. . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_GRN_ON . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_JUDGE_TW8836_COMM.  E_CONST  -----  U_CHAR   -----  1
indirect . . . . . . . . . . . . . . .  STATIC   DATA   BIT      0002H  1
_SCALER_TIMER_EVENT_DP_HDCP_LONG_HOTPL  E_CONST  -----  U_CHAR   -----  1
RegisterInfo . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  6
  Min. . . . . . . . . . . . . . . . .  MEMBER   -----  INT      0000H  2
  Max. . . . . . . . . . . . . . . . .  MEMBER   -----  INT      0002H  2
  Default. . . . . . . . . . . . . . .  MEMBER   -----  INT      0004H  2
_BATT_STATUS_CAPACITY_LOW. . . . . . .  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_DO_AUTO_COLOR. . . .  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_START. . . . . . . .  E_CONST  -----  U_CHAR   -----  1
MonWriteBit. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  mask . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0006H  1
  FromBit. . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0001H  1
  ToBit. . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0002H  1
  MonMask. . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0003H  1
  val. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0004H  1
  Slave. . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0004H  1
_POWER_ACTION_NOSUPPORT_PS_TO_PS . . .  E_CONST  -----  U_CHAR   -----  1
_WriteAD5110 . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_BATT_STATUS_NO_BATT . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_MHL_D0_RECONNECT_1K E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_OSD_DVR_SHUTDOWN . .  E_CONST  -----  U_CHAR   -----  1
_MODE_STATUS_NONE. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_MHL_D1_RECONNECT_1K E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_OSD_CAMERA_VOLTAGE_DECE_CONST  -----  U_CHAR   -----  1
_POWER_STATUS_SAVING . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_KEY_REPEAT_ENABLE. .  E_CONST  -----  U_CHAR   -----  1
_POWER_STATUS_NORMAL . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_Asc1Bin . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  asc. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
DebugLevel . . . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
_Asc2Bin . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0006H  -----
  s. . . . . . . . . . . . . . . . . .  * REG *  DATA   PTR      0001H  3
  bin. . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0004H  2
_BATT_STATUS_NONE. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_GRN_ON_RED_BLINK .  E_CONST  -----  U_CHAR   -----  1
_MODE_STATUS_SEARCH. . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_POWER_STATUS_SAVING_BATTERY_MODE. . .  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_GRN_RED_BLINK. . .  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_PANEL_POWER_OFF. . .  E_CONST  -----  U_CHAR   -----  1
_POWER_STATUS_NORMAL_BATTERY_MODE. . .  E_CONST  -----  U_CHAR   -----  1
_MODE_STATUS_POWER_SAVING. . . . . . .  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_STANDBY_MODE . . . .  E_CONST  -----  U_CHAR   -----  1
MonReadI2C . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_USER_TIMER_EVENT_FACTORY_MODE . . . .  E_CONST  -----  U_CHAR   -----  1
Monitor. . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  mode . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
LongRegisterInfo . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  6
  Min. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  Max. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  Default. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
C51 COMPILER V9.60.0.0   MONITOR                                                           03/02/2020 12:07:33 PAGE 105 

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


_MODE_STATUS_ACTIVE. . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_BATT_STATUS_TEMP_HIGH . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_DCC_HISTOGRAM_THD_  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_OSD_CAMERA_VOLTAGE_INCE_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_OSD_SHOW_POWER_SAVING E_CONST  -----  U_CHAR   -----  1
RS_rx. . . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_BATT_STATUS_FAST_CHARGE . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_DISPLAY_INFO . . . .  E_CONST  -----  U_CHAR   -----  1
_POWER_STATUS_NORMAL_NO_MATTERY_MODE .  E_CONST  -----  U_CHAR   -----  1
_RS_tx . . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_POWER_STATUS_OFF. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_OSD_SHOW_NO_SIGNAL .  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_TMDS_VIDEO_DETECT.  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_LIGHT_SENSER_ON. . .  E_CONST  -----  U_CHAR   -----  1
MonAddress . . . . . . . . . . . . . .  PUBLIC   DATA   U_CHAR   0000H  1
_Printf. . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_SCALER_TIMER_EVENT_D0_PORT_DIGITAL_SW  E_CONST  -----  U_CHAR   -----  1
_USER_TIMER_EVENT_BURN_IN_ON . . . . .  E_CONST  -----  U_CHAR   -----  1
_Mon_tx. . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  ch . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
_SCALER_TIMER_EVENT_D1_PORT_DIGITAL_SW  E_CONST  -----  U_CHAR   -----  1
MonWriteI2C. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_MODE_STATUS_POWER_OFF . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_MHL_D0_READY_TO_RE  E_CONST  -----  U_CHAR   -----  1
_SYSTEM_TIMER_EVENT_COUNT. . . . . . .  E_CONST  -----  U_CHAR   -----  1
_a2i . . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  str. . . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0000H  3
  num. . . . . . . . . . . . . . . . .  AUTO     XDATA  U_LONG   0003H  4
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0007H  1
_POWER_ACTION_NORMAL_TO_OFF. . . . . .  E_CONST  -----  U_CHAR   -----  1
_POWER_ACTION_OFF_TO_NORMAL. . . . . .  E_CONST  -----  U_CHAR   -----  1
_SCALER_TIMER_EVENT_MHL_D1_READY_TO_RE  E_CONST  -----  U_CHAR   -----  1


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   3775    ----
   CONSTANT SIZE    =   1582    ----
   XDATA SIZE       =     58      36
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      3    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
